<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot3æ•´åˆRedis - ç¼–ç¨‹å­¦ä¹ è€…</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/0791d8924a0df6d847fb3ef1afc76557/">
  <meta property="og:site_name" content="ç¼–ç¨‹å­¦ä¹ è€…">
  <meta property="og:title" content="Spring Boot3æ•´åˆRedis">
  <meta property="og:description" content="â›°ï¸ä¸ªäººä¸»é¡µ:Â è’¾é…’
ğŸ”¥ç³»åˆ—ä¸“æ ï¼šã€Šspring bootå®æˆ˜ã€‹
ç›®å½•
å‰ç½®æ¡ä»¶
1.å¯¼ä¾èµ–
2.é…ç½®è¿æ¥ä¿¡æ¯ä»¥åŠè¿æ¥æ± å‚æ•°
3.é…ç½®åºåˆ—åŒ–æ–¹å¼
4.ç¼–å†™æµ‹è¯•
å‰ç½®æ¡ä»¶ å·²ç»åˆå§‹åŒ–å¥½ä¸€ä¸ªspring booté¡¹ç›®ä¸”ç‰ˆæœ¬ä¸º3Xï¼Œé¡¹ç›®å¯æ­£å¸¸å¯åŠ¨ã€‚
ä½œè€…ç‰ˆæœ¬ä¸º3.2.2
åˆå§‹åŒ–æ•™ç¨‹ï¼š
æ–°ç‰ˆidea(2023)åˆ›å»ºspring boot3é¡¹ç›®-CSDNåšå®¢https://blog.csdn.net/qq_62262918/article/details/135785412?spm=1001.2014.3001.5501
1.å¯¼ä¾èµ– pom.xml:
&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; å¦‚æœè¿˜æ²¡å®‰è£…rediså¯ä»¥å‚ç…§è¿™ç¯‡ï¼š
é˜¿é‡Œäº‘ECSä½¿ç”¨dockeæ­å»ºredisæœåŠ¡-CSDNåšå®¢https://blog.csdn.net/qq_62262918/article/details/135707725?spm=1001.2014.3001.5502
2.é…ç½®è¿æ¥ä¿¡æ¯ä»¥åŠè¿æ¥æ± å‚æ•° application.ymlï¼š
server: port: 8080 spring: data: redis: # Redisè¿æ¥é…ç½® host: localhost # Redisä¸»æœºåœ°å€ port: 6379 # Redisç«¯å£å· password: 123456 # è®¿é—®Redisæ‰€éœ€å¯†ç  database: 0 # ä½¿ç”¨çš„æ•°æ®åº“ç¼–å· lettuce: #Lettuceå®¢æˆ·ç«¯é…ç½® pool: # è¿æ¥æ± é…ç½® max-active: 8 # æœ€å¤§æ´»è·ƒè¿æ¥æ•° max-wait: -1 # æœ€å¤§ç­‰å¾…æ—¶é—´ï¼ˆ-1è¡¨ç¤ºæ— é™ç­‰å¾…ï¼‰ max-idle: 8 # æœ€å¤§ç©ºé—²è¿æ¥æ•° min-idle: 0 # æœ€å°ç©ºé—²è¿æ¥æ•° ä¿®æ”¹ä¸ºä½ çš„è¿æ¥ä¿¡æ¯å³å¯ã€‚">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-27T15:39:00+08:00">
    <meta property="article:modified_time" content="2024-04-27T15:39:00+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å­¦ä¹ è€…" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å­¦ä¹ è€…</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot3æ•´åˆRedis</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Â <img alt="" height="68" src="https://images2.imgbox.com/ee/73/oxlMMb24_o.jpg" width="68"></p> 
<p><span style="color:#ed7976;">â›°ï¸ä¸ªäººä¸»é¡µ:Â  Â  Â <a href="https://blog.csdn.net/qq_62262918?spm=1011.2266.3001.5343" title="è’¾é…’">è’¾é…’</a></span></p> 
<p><span style="color:#1c7331;">ğŸ”¥ç³»åˆ—ä¸“æ ï¼š<a href="https://blog.csdn.net/qq_62262918/category_12571219.html?spm=1001.2014.3001.5482" title="ã€Šspring bootå®æˆ˜ã€‹">ã€Šspring bootå®æˆ˜ã€‹</a></span></p> 
<hr> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%E5%89%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6" rel="nofollow">å‰ç½®æ¡ä»¶</a></p> 
<p id="1.%E5%AF%BC%E4%BE%9D%E8%B5%96-toc" style="margin-left:0px;"><a href="#1.%E5%AF%BC%E4%BE%9D%E8%B5%96" rel="nofollow">1.å¯¼ä¾èµ–</a></p> 
<p id="2.%E9%85%8D%E7%BD%AE%E8%BF%9E%E6%8E%A5%E4%BF%A1%E6%81%AF%E4%BB%A5%E5%8F%8A%E8%BF%9E%E6%8E%A5%E6%B1%A0%E5%8F%82%E6%95%B0-toc" style="margin-left:0px;"><a href="#2.%E9%85%8D%E7%BD%AE%E8%BF%9E%E6%8E%A5%E4%BF%A1%E6%81%AF%E4%BB%A5%E5%8F%8A%E8%BF%9E%E6%8E%A5%E6%B1%A0%E5%8F%82%E6%95%B0" rel="nofollow">2.é…ç½®è¿æ¥ä¿¡æ¯ä»¥åŠè¿æ¥æ± å‚æ•°</a></p> 
<p id="3.%E9%85%8D%E7%BD%AE%E5%BA%8F%E5%88%97%E5%8C%96%E6%96%B9%E5%BC%8F-toc" style="margin-left:0px;"><a href="#3.%E9%85%8D%E7%BD%AE%E5%BA%8F%E5%88%97%E5%8C%96%E6%96%B9%E5%BC%8F" rel="nofollow">3.é…ç½®åºåˆ—åŒ–æ–¹å¼</a></p> 
<p id="4.%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95-toc" style="margin-left:0px;"><a href="#4.%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95" rel="nofollow">4.ç¼–å†™æµ‹è¯•</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>å‰ç½®æ¡ä»¶</h2> 
<p>å·²ç»<a href="https://so.csdn.net/so/search?q=%E5%88%9D%E5%A7%8B%E5%8C%96&amp;spm=1001.2101.3001.7020" title="åˆå§‹åŒ–">åˆå§‹åŒ–</a>å¥½ä¸€ä¸ªspring booté¡¹ç›®ä¸”ç‰ˆæœ¬ä¸º3Xï¼Œé¡¹ç›®å¯æ­£å¸¸å¯åŠ¨ã€‚</p> 
<p>ä½œè€…ç‰ˆæœ¬ä¸º3.2.2</p> 
<p>åˆå§‹åŒ–æ•™ç¨‹ï¼š</p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_62262918/article/details/135785412?spm=1001.2014.3001.5501" title="æ–°ç‰ˆidea(2023)åˆ›å»ºspring boot3é¡¹ç›®-CSDNåšå®¢"><span class="link-card-box"><span class="link-title">æ–°ç‰ˆidea(2023)åˆ›å»ºspring boot3é¡¹ç›®-CSDNåšå®¢</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/87/59/rw3XuoVM_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/qq_62262918/article/details/135785412?spm=1001.2014.3001.5501</span></span></a></p> 
<h2 id="1.%E5%AF%BC%E4%BE%9D%E8%B5%96">1.å¯¼ä¾èµ–</h2> 
<p>pom.xml:</p> 
<pre><code class="language-XML">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre> 
<p>å¦‚æœè¿˜æ²¡å®‰è£…rediså¯ä»¥å‚ç…§è¿™ç¯‡ï¼š</p> 
<p><a class="has-card" href="https://blog.csdn.net/qq_62262918/article/details/135707725?spm=1001.2014.3001.5502" title="é˜¿é‡Œäº‘ECSä½¿ç”¨dockeæ­å»ºredisæœåŠ¡-CSDNåšå®¢"><span class="link-card-box"><span class="link-title">é˜¿é‡Œäº‘ECSä½¿ç”¨dockeæ­å»ºredisæœåŠ¡-CSDNåšå®¢</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/53/32/9A4YEklj_o.png" alt="icon-default.png?t=N7T8">https://blog.csdn.net/qq_62262918/article/details/135707725?spm=1001.2014.3001.5502</span></span></a></p> 
<p></p> 
<h2 id="2.%E9%85%8D%E7%BD%AE%E8%BF%9E%E6%8E%A5%E4%BF%A1%E6%81%AF%E4%BB%A5%E5%8F%8A%E8%BF%9E%E6%8E%A5%E6%B1%A0%E5%8F%82%E6%95%B0">2.é…ç½®è¿æ¥ä¿¡æ¯ä»¥åŠè¿æ¥æ± å‚æ•°</h2> 
<p>application.ymlï¼š</p> 
<p><img alt="" height="495" src="https://images2.imgbox.com/fa/c5/WP5Xvn0F_o.png" width="734"></p> 
<pre><code class="language-XML">server:
  port: 8080
spring:
  data:
    redis: # Redisè¿æ¥é…ç½®
      host: localhost  # Redisä¸»æœºåœ°å€
      port: 6379  # Redisç«¯å£å·
      password: 123456  # è®¿é—®Redisæ‰€éœ€å¯†ç 
      database: 0  # ä½¿ç”¨çš„æ•°æ®åº“ç¼–å·
      lettuce: #Lettuceå®¢æˆ·ç«¯é…ç½®
        pool: # è¿æ¥æ± é…ç½®
          max-active: 8  # æœ€å¤§æ´»è·ƒè¿æ¥æ•°
          max-wait: -1  # æœ€å¤§ç­‰å¾…æ—¶é—´ï¼ˆ-1è¡¨ç¤ºæ— é™ç­‰å¾…ï¼‰
          max-idle: 8  # æœ€å¤§ç©ºé—²è¿æ¥æ•°
          min-idle: 0  # æœ€å°ç©ºé—²è¿æ¥æ•°</code></pre> 
<p>ä¿®æ”¹ä¸ºä½ çš„è¿æ¥ä¿¡æ¯å³å¯ã€‚</p> 
<p>è¿™é‡Œè¦è¯´çš„æ˜¯ï¼š</p> 
<p>Lettuceå’ŒJedisä¸¤è€…éƒ½æ˜¯Javaè¿æ¥Redisçš„å®¢æˆ·ç«¯</p> 
<p>é€‰æ‹©ä½¿ç”¨Lettuceè€Œä¸æ˜¯Jedisçš„åŸå› å¦‚ä¸‹ï¼š</p> 
<blockquote> 
 <p><strong>çº¿ç¨‹å®‰å…¨æ€§ï¼š</strong></p> 
 <ul><li>Lettuce æ˜¯åŸºäº Netty æ„å»ºçš„ï¼Œå®ƒä½¿ç”¨å¼‚æ­¥å’Œäº‹ä»¶é©±åŠ¨çš„æ–¹å¼å¤„ç†è¿æ¥ã€‚å› æ­¤ï¼Œå®ƒå¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ä¸€ä¸ªè¿æ¥è€Œä¸éœ€è¦é¢å¤–çš„åŒæ­¥ï¼Œå› æ­¤åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹æ›´é«˜æ•ˆã€‚</li><li>Jedis æ˜¯åŸºäºé˜»å¡ I/O çš„ï¼Œå¹¶ä¸”ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¦‚æœåœ¨å¤šä¸ªçº¿ç¨‹ä¸­å…±äº«åŒä¸€ä¸ª Jedis å®ä¾‹ï¼Œéœ€è¦ä½¿ç”¨è¿æ¥æ± è¿›è¡ŒåŒæ­¥ç®¡ç†ï¼Œè¿™å¯èƒ½å¼•å…¥é¢å¤–çš„å¤æ‚æ€§ã€‚</li></ul> 
</blockquote> 
<blockquote> 
 <p><strong>è¿æ¥æ–¹å¼ï¼š</strong></p> 
 <ul><li>Lettuce æ”¯æŒåŸºäº Reactive Streams çš„å“åº”å¼ç¼–ç¨‹æ¨¡å‹ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°ä¸ Spring Reactorã€Project Reactor ç­‰æ¡†æ¶é›†æˆï¼Œæä¾›å¼‚æ­¥å’Œéé˜»å¡çš„æ“ä½œã€‚</li><li>Jedis æ˜¯åŒæ­¥çš„ï¼Œå¹¶ä¸”åœ¨æ‰§è¡ŒæŸäº›æ“ä½œæ—¶ä¼šé˜»å¡çº¿ç¨‹ï¼Œè¿™å¯èƒ½ä¼šå½±å“åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå“åº”æ€§ã€‚</li></ul> 
</blockquote> 
<blockquote> 
 <p><strong>æ€§èƒ½å’Œæ‰©å±•æ€§ï¼š</strong></p> 
 <ul><li>Lettuce çš„è®¾è®¡ç›®æ ‡æ˜¯é«˜æ€§èƒ½å’Œæ‰©å±•æ€§ï¼Œå®ƒå¯ä»¥æ›´å¥½åœ°åˆ©ç”¨ Redis 4.0 ä¸­å¼•å…¥çš„ä¸€äº›æ–°ç‰¹æ€§ï¼ˆå¦‚ Redis Sentinel å’Œ Redis Clusterï¼‰ã€‚</li><li>Jedis çš„è®¾è®¡ç›®æ ‡æ›´åå‘äºç®€å•æ˜“ç”¨ï¼Œå¯¹äºä¸€äº›ç‰¹æ®Šçš„ Redis é›†ç¾¤æ¨¡å¼å¯èƒ½æ”¯æŒä¸å¤Ÿå®Œå–„ã€‚</li></ul> 
</blockquote> 
<blockquote> 
 <p><strong>ç»´æŠ¤å’Œæ›´æ–°ï¼š</strong></p> 
 <ul><li>Lettuce æ˜¯ä¸€ä¸ªæ´»è·ƒçš„é¡¹ç›®ï¼Œå¹¶ä¸”æŒç»­åœ°å¾—åˆ°æ›´æ–°å’Œæ”¹è¿›ã€‚</li><li>Jedis åœ¨æŸäº›æ–¹é¢å·²ç»ç›¸å¯¹ç¨³å®šï¼Œå¹¶ä¸”åœ¨ä¸€æ®µæ—¶é—´å†…æ²¡æœ‰å¤§çš„æ›´æ–°ã€‚</li></ul> 
</blockquote> 
<p></p> 
<h2 id="3.%E9%85%8D%E7%BD%AE%E5%BA%8F%E5%88%97%E5%8C%96%E6%96%B9%E5%BC%8F">3.é…ç½®åºåˆ—åŒ–æ–¹å¼</h2> 
<p>configç›®å½•ä¸‹æ–°å»ºredisé…ç½®ç±»</p> 
<p><img alt="" height="622" src="https://images2.imgbox.com/3b/84/cku5BRCn_o.png" width="617"></p> 
<p>é…ç½®ç±»ä»£ç å¦‚ä¸‹ï¼š</p> 
<pre><code class="language-java">import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.data.redis.connection.RedisConnectionFactory;
import org.springframework.data.redis.core.RedisTemplate;
import org.springframework.data.redis.serializer.JdkSerializationRedisSerializer;
import org.springframework.data.redis.serializer.StringRedisSerializer;

/**
 * @author mijiupro
 */
@Configuration
public class RedisConfig {

    @Bean
    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory connectionFactory) {
        RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();
        redisTemplate.setConnectionFactory(connectionFactory);
        // è®¾ç½®keyå’Œvalueçš„åºåˆ—åŒ–æ–¹å¼
        redisTemplate.setKeySerializer(new StringRedisSerializer()); // è®¾ç½®keyçš„åºåˆ—åŒ–å™¨ä¸ºStringRedisSerializer
        redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer()); // è®¾ç½®valueçš„åºåˆ—åŒ–å™¨ä¸ºJdkSerializationRedisSerializer
        redisTemplate.setHashKeySerializer(new StringRedisSerializer()); // è®¾ç½®hash keyçš„åºåˆ—åŒ–å™¨ä¸ºStringRedisSerializer
        redisTemplate.setHashValueSerializer(new JdkSerializationRedisSerializer()); // è®¾ç½®hash valueçš„åºåˆ—åŒ–å™¨ä¸ºJdkSerializationRedisSerializer
        redisTemplate.afterPropertiesSet(); // åˆå§‹åŒ–RedisTemplate
        return redisTemplate; // è¿”å›é…ç½®å¥½çš„RedisTemplate
    }
}</code></pre> 
<h2 id="4.%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95">4.ç¼–å†™æµ‹è¯•</h2> 
<p><img alt="" height="141" src="https://images2.imgbox.com/f4/30/atHuFJZE_o.png" width="655"></p> 
<pre><code class="language-java">import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.data.redis.core.StringRedisTemplate;

import java.util.concurrent.TimeUnit;

@SpringBootTest
public class RedisTest {
    @Autowired
    private StringRedisTemplate stringRedisTemplate;

    @Test
    //æµ‹è¯•redis
    void contextLoads2() {
        //æ·»åŠ ç¼“å­˜é”®å€¼å¯¹name:mijiuå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ä¸º1å°æ—¶
        stringRedisTemplate.opsForValue().set("name","mijiu",10, TimeUnit.SECONDS);
        System.out.println(stringRedisTemplate.opsForValue().get("name"));

    }
}</code></pre> 
<p>è¿è¡Œæµ‹è¯•</p> 
<p><img alt="" height="236" src="https://images2.imgbox.com/3c/9d/eciHQIDV_o.png" width="1006"></p> 
<p>æµ‹è¯•æˆåŠŸï¼Œæ•´åˆå®Œæ¯•ï¼</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/39f88dd1c60ab575bfcdaadb4bbb9b69/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Spring Web MVCå…¥é—¨ï¼ˆ2ï¼‰â€”â€”è¯·æ±‚</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7ea648647bcf98658f12bbf7cfa728f1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">23ç§è®¾è®¡æ¨¡å¼å­¦ä¹ å¯¼èˆªï¼ˆJavaå®Œæ•´ç‰ˆï¼‰</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å­¦ä¹ è€….
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue3父组件使用ref获取子组件的属性和方法 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/5b05133f91ae50422ac78bb745ba0fc5/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="vue3父组件使用ref获取子组件的属性和方法">
  <meta property="og:description" content="在vue3中父组件访问子组件中的属性和方法是需要借助于ref: 1.&lt;script setup&gt; 中定义响应式变量 例如： const demo1 = ref(null)
2.在引入的子组件标签上绑定ref属性的值与定义的响应式变量同名( &lt;demo1 ref=&#34;demo1&#34;/&gt;)。
父组件代码如下： 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
&lt;template&gt;
&lt;demo1 ref=&#34;demo1&#34;/&gt;
&lt;demo2 ref=&#34;demo2&#34;/&gt;
&lt;demo3 ref=&#34;demo3&#34;/&gt;
&lt;/template&gt;
&lt;script setup&gt;
import Demo1 from &#39;@/components/demo1.vue&#39;
import Demo2 from &#39;@/components/demo2.vue&#39;
import Demo3 from &#39;@/components/demo3.vue&#39;
import {ref,onMounted} from &#39;vue&#39;
const demo1 = ref(null)
const demo2 = ref(null)
const demo3 = ref(null)">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-23T14:31:48+08:00">
    <meta property="article:modified_time" content="2024-05-23T14:31:48+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue3父组件使用ref获取子组件的属性和方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2></h2> 
<p><a name="_label0"></a></p> 
<h3 id="heading-0">在vue3中父组件访问子组件中的属性和方法是需要借助于ref:</h3> 
<p>1.&lt;script setup&gt; 中定义响应式变量 例如： const demo1 = ref(null)</p> 
<p>2.在引入的子组件标签上绑定ref属性的值与定义的响应式变量同名( &lt;demo1 ref="demo1"/&gt;)。</p> 
<p><a name="_label1"></a></p> 
<h3 id="heading-1">父组件代码如下：</h3> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> <p>16</p> <p>17</p> <p>18</p> <p>19</p> <p>20</p> </td><td> <p><code>&lt;template&gt;</code></p> <p><code>  </code><code>&lt;demo1 ref=</code><code>"demo1"</code><code>/&gt;</code></p> <p><code>  </code><code>&lt;demo2 ref=</code><code>"demo2"</code><code>/&gt;</code></p> <p><code>  </code><code>&lt;demo3 ref=</code><code>"demo3"</code><code>/&gt;</code></p> <p><code>&lt;/template&gt;</code></p> <p><code>&lt;script setup&gt;</code></p> <p><code>import Demo1 from </code><code>'@/components/demo1.vue'</code></p> <p><code>import Demo2 from </code><code>'@/components/demo2.vue'</code></p> <p><code>import Demo3 from </code><code>'@/components/demo3.vue'</code></p> <p><code>import {ref,onMounted} from </code><code>'vue'</code></p> <p></p> <p><code>const demo1 = ref(</code><code>null</code><code>)</code></p> <p><code>const demo2 = ref(</code><code>null</code><code>)</code></p> <p><code>const demo3 = ref(</code><code>null</code><code>)</code></p> <p><code>onMounted(()=&gt; {<!-- --></code></p> <p><code>  </code><code>console.log(demo1.value.count,</code><code>'demo1子组件'</code><code>)</code></p> <p><code>  </code><code>console.log(demo2.value?.a,</code><code>'demo2子组件'</code><code>)</code></p> <p><code>  </code><code>console.log(demo3.value.list[0],</code><code>"demo3子组件"</code><code>)</code></p> <p><code>})</code></p> <p><code>&lt;/script&gt;</code></p> </td></tr></tbody></table> 
<p><a name="_label2"></a></p> 
<h3 id="heading-2">子组件代码如下：</h3> 
<p><a name="_lab2_2_0"></a></p> 
<h4 id="heading-3">demo1.vue</h4> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> </td><td> <p><code>&lt;template&gt;</code></p> <p><code>  </code><code>&lt;h1&gt;i</code><code>'m demo1 content{<!-- -->{count}}&lt;/h1&gt;</code></p> <p><code>&lt;/template&gt;</code></p> <p></p> <p><code>&lt;script &gt;</code></p> <p><code>import {ref} from '</code><code>vue'</code></p> <p><code>export </code><code>default</code> <code>{<!-- --></code></p> <p><code>    </code><code>setup () {<!-- --></code></p> <p><code>        </code><code>const count = ref(999)</code></p> <p><code>        </code><code>return</code> <code>{<!-- --></code></p> <p><code>            </code><code>count</code></p> <p><code>        </code><code>}</code></p> <p><code>    </code><code>}</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<p>此时父组件可以获取到子组件的count属性（<span style="color:#fe2c24;">此时子组件用的是  export default 的写法</span>）</p> 
<p><a name="_lab2_2_1"></a></p> 
<h4 id="heading-4">demo2</h4> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> </td><td> <p><code>&lt;template&gt;</code></p> <p><code>  </code><code>&lt;h1&gt;我是demo2&lt;/h1&gt;</code></p> <p><code>&lt;/template&gt;</code></p> <p></p> <p><code>&lt;script setup&gt;</code></p> <p><code>import {defineExpose,ref} from </code><code>'vue'</code></p> <p><code>const a = ref(</code><code>'helloss'</code><code>)</code></p> <p><code>&lt;/script&gt;</code></p> </td></tr></tbody></table> 
<p>当使用 <code>&lt;script setup&gt;</code> 写法会导致父组件无法访问到子组件中的属性和方法。</p> 
<blockquote> 
 <p>使用 <code>&lt;script setup&gt;</code> 的组件，想要让父组件访问到它的属性和方法需要借助与<code>defineExpose</code>来指定需要暴露给父组件的属性。</p> 
</blockquote> 
<p><a name="_lab2_2_2"></a></p> 
<h4 id="heading-5">更改后的demo2组件</h4> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> </td><td> <p><code>&lt;template&gt;</code></p> <p><code>  </code><code>&lt;h1&gt;我是demo2&lt;/h1&gt;</code></p> <p><code>&lt;/template&gt;</code></p> <p></p> <p><code>&lt;script setup&gt;</code></p> <p><code>import {defineExpose,ref} from </code><code>'vue'</code></p> <p><code>const a = ref(</code><code>'helloss'</code><code>)</code></p> <p><code>defineExpose({<!-- --></code></p> <p><code>    </code><code>a</code></p> <p><code>})</code></p> <p><code>&lt;/script&gt;</code></p> </td></tr></tbody></table> 
<p><a name="_lab2_2_3"></a></p> 
<h4 id="heading-6">demo3</h4> 
<table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td> <p>1</p> <p>2</p> <p>3</p> <p>4</p> <p>5</p> <p>6</p> <p>7</p> <p>8</p> <p>9</p> <p>10</p> <p>11</p> <p>12</p> <p>13</p> <p>14</p> <p>15</p> <p>16</p> </td><td> <p><code>&lt;template&gt;</code></p> <p><code>  </code><code>&lt;h1&gt;我是demo3&lt;/h1&gt;</code></p> <p><code>&lt;/template&gt;</code></p> <p></p> <p><code>&lt;script&gt;</code></p> <p><code>export </code><code>default</code> <code>{<!-- --></code></p> <p><code>  </code><code>data () {<!-- --></code></p> <p><code>    </code><code>return</code> <code>{<!-- --></code></p> <p><code>        </code><code>list:[</code><code>'a'</code><code>,</code><code>'b'</code><code>,</code><code>'c'</code><code>]</code></p> <p><code>    </code><code>}</code></p> <p><code>  </code><code>},</code></p> <p><code>  </code><code>methods: {<!-- --></code></p> <p><code>    </code><code>btn () { </code></p> <p><code>    </code><code>}</code></p> <p><code>  </code><code>}</code></p> <p><code>}</code></p> </td></tr></tbody></table> 
<p></p> 
<p>这种方式，父组件可以正常获取到里面的属性和方法。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0f1c2a2a3c1dcba20702537c2b245674/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java内存模型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5be9e2e8da19e148dcc4d24cda7564b0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在jetson nano中安装jetson.inference模块</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
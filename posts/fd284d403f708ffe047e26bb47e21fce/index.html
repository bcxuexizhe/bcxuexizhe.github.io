<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>WebSpoon9.0（KETTLE的WEB版本）编译 &#43; tomcat/docker部署 &#43; 远程调试教程 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/fd284d403f708ffe047e26bb47e21fce/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="WebSpoon9.0（KETTLE的WEB版本）编译 &#43; tomcat/docker部署 &#43; 远程调试教程">
  <meta property="og:description" content="前言 Kettle简介 Kettle是一款国外开源的ETL工具，纯Java编写，可以在Window、Linux、Unix上运行，绿色无需安装，数据抽取高效稳定
WebSpoon是Kettle的Web版本，由Kettle社区维护，不受Pentaho支持，实现了Kettle的大部分功能
拉取代码 仓库地址：https://github.com/HiromuHota/pentaho-kettle
git clone https://github.com/HiromuHota/pentaho-kettle.git 编译 配置 maven 的环境变量
将 settings.xml 放在你用户目录下 /.m2 中按需修改
settings.xml 内容如下
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;settings xmlns=&#34;http://maven.apache.org/SETTINGS/1.0.0&#34; xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34; xsi:schemaLocation=&#34;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&#34;&gt; &lt;!-- This is the recommended settings.xml for development of Hitachi Vantara projects. --&gt; &lt;!-- If your wish to mirror everything through pentaho-public&#39;s repo uncomment bellow. Not recommended for external developers. --&gt; &lt;!-- &lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;pentaho-public&lt;/id&gt; &lt;url&gt;https://repo.orl.eng.hitachivantara.com/artifactory/pnt-mvn/&lt;/url&gt; &lt;mirrorOf&gt;*&lt;/mirrorOf&gt; &lt;/mirror&gt; &lt;/mirrors&gt; --&gt; &lt;!-- Don&#39;t forget to add setting-security.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-29T10:14:37+08:00">
    <meta property="article:modified_time" content="2024-05-29T10:14:37+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">WebSpoon9.0（KETTLE的WEB版本）编译 &#43; tomcat/docker部署 &#43; 远程调试教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>前言</h2> 
<p>Kettle简介 Kettle是一款国外开源的ETL工具，纯Java编写，可以在Window、Linux、Unix上运行，绿色无需安装，数据抽取高效稳定<br> WebSpoon是Kettle的Web版本，由Kettle社区维护，不受Pentaho支持，实现了Kettle的大部分功能</p> 
<h2><a id="_3"></a>拉取代码</h2> 
<p>仓库地址：<code>https://github.com/HiromuHota/pentaho-kettle</code></p> 
<pre><code class="prism language-bash"><span class="token function">git</span> clone https://github.com/HiromuHota/pentaho-kettle.git
</code></pre> 
<hr> 
<h2><a id="_9"></a>编译</h2> 
<p>配置 maven 的环境变量</p> 
<p>将 <a href="https://raw.githubusercontent.com/pentaho/maven-parent-poms/master/maven-support-files/settings.xml" rel="nofollow">settings.xml</a> 放在你用户目录下 /.m2 中按需修改</p> 
<p><strong>settings.xml 内容如下</strong></p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/SETTINGS/1.0.0<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- This is the recommended settings.xml for development of Hitachi Vantara projects. --&gt;</span>

  <span class="token comment">&lt;!--
  If your wish to mirror everything through pentaho-public's repo uncomment bellow. Not recommended
  for external developers.
  --&gt;</span>
  <span class="token comment">&lt;!--
  &lt;mirrors&gt;
    &lt;mirror&gt;
      &lt;id&gt;pentaho-public&lt;/id&gt;
      &lt;url&gt;https://repo.orl.eng.hitachivantara.com/artifactory/pnt-mvn/&lt;/url&gt;
      &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;/mirror&gt;
  &lt;/mirrors&gt;
  --&gt;</span>

  <span class="token comment">&lt;!--
  Don't forget to add setting-security.xml so that the password get's decrypted  
  --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servers</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>pentaho-public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">&gt;</span></span>devreaduser<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">&gt;</span></span>{zIMyJWfHKfoHiBJAVsAgW4E5BcJzR+nhTtgPy0J+/rs=}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servers</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!--
  You might want to tweak the 'updatePolicy' configuration to fit your need on having updated snapshots and
  releases. Our recommendation is to set it to 'never' and run maven with the '-U' flag when needed.
  --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>pentaho<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activation</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activation</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>pentaho-public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Pentaho Public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://repo.orl.eng.hitachivantara.com/artifactory/pnt-mvn/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>releases</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>updatePolicy</span><span class="token punctuation">&gt;</span></span>always<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>updatePolicy</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>releases</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>updatePolicy</span><span class="token punctuation">&gt;</span></span>always<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>updatePolicy</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginRepositories</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginRepository</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>pentaho-public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Pentaho Public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://repo.orl.eng.hitachivantara.com/artifactory/pnt-mvn/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>releases</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>updatePolicy</span><span class="token punctuation">&gt;</span></span>always<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>updatePolicy</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>releases</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>updatePolicy</span><span class="token punctuation">&gt;</span></span>always<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>updatePolicy</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginRepository</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginRepositories</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- this lets you call plugins from these groups in their short form --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginGroups</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginGroup</span><span class="token punctuation">&gt;</span></span>org.pentaho.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginGroup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginGroup</span><span class="token punctuation">&gt;</span></span>com.pentaho.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginGroup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginGroup</span><span class="token punctuation">&gt;</span></span>com.github.spotbugs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginGroup</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginGroups</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>本地构建以下依赖库：</p> 
<p><strong>pentaho-xul-swt</strong></p> 
<pre><code class="prism language-bash"><span class="token function">git</span> clone <span class="token parameter variable">-b</span> webspoon-9.0 https://github.com/HiromuHota/pentaho-commons-xul.git
<span class="token builtin class-name">cd</span> pentaho-commons-xul
mvn clean <span class="token function">install</span> <span class="token parameter variable">-pl</span> swt <span class="token parameter variable">-DskipTests</span>
</code></pre> 
<p><strong>rap</strong><br> 拉取代码后，进入 rap/releng/org.eclipse.rap.build 目录修改 pom.xml 文件, 找到 properties 标签<br> 将 jetty-repo.url 标签值改为 https://download.eclipse.org/jetty/updates/jetty-bundles-9.x/9.4.44.v20210927/<br> 将 rap-extra-repo.url 标签值改为 https://download.eclipse.org/rt/rap/base-platforms/3.14/extra-dependencies/</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> clone <span class="token parameter variable">-b</span> webspoon-3.12.0 https://github.com/HiromuHota/rap.git
<span class="token builtin class-name">cd</span> rap
mvn clean <span class="token function">install</span> <span class="token parameter variable">-DskipTests</span>
</code></pre> 
<p><strong>pentaho-vfs-browser</strong></p> 
<pre><code class="prism language-bash"><span class="token function">git</span> clone <span class="token parameter variable">-b</span> webspoon-9.0 https://github.com/HiromuHota/apache-vfs-browser.git
<span class="token builtin class-name">cd</span> apache-vfs-browser
mvn clean <span class="token function">install</span> <span class="token parameter variable">-DskipTests</span>
</code></pre> 
<p><strong>以上操作无误后，执行 <code>mvn clean install -DskipTests</code> 构建项目</strong></p> 
<p>构建成功后可在 assemblies/client/target 目录下找到 spoon.war 部署包<br> 也可直接在 <a href="https://github.com/HiromuHota/pentaho-kettle/releases">https://github.com/HiromuHota/pentaho-kettle/releases</a> 下载已经构建好的 war 包</p> 
<hr> 
<h2><a id="_131"></a>部署</h2> 
<h3><a id="tomcat__132"></a>tomcat 部署</h3> 
<p>将 <code>spoon.war</code> 放入 <code>tomcat/webapps</code> 目录下<br> <a href="https://www.hitachivantara.com/en-us/products/pentaho-plus-platform/data-integration-analytics/pentaho-community-edition.html" rel="nofollow">点击下载</a> 9.x 版本的 <code>pdi-ce-xxxx.zip</code> 并解压<br> 将 <code>system</code> 和 <code>plugins</code> 目录放入 <code>tomcat/bin</code> 下<br> 启动 tomcat, 访问</p> 
<h3><a id="Docker_138"></a>Docker部署</h3> 
<pre><code class="prism language-bash"><span class="token comment"># 拉取镜像</span>
<span class="token function">docker</span> pull hiromuhota/webspoon
<span class="token comment"># 运行, 访问 http://localhost:8080</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 hiromuhota/webspoon
</code></pre> 
<h3><a id="Dockercompose__145"></a>Docker-compose 部署</h3> 
<p>docker-compose.yml 文件：</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.3"</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">kettle</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> hiromuhota/webspoon<span class="token punctuation">:</span>latest
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token comment"># 如需添加jar包则将jar包挂载进docker容器</span>
      <span class="token punctuation">-</span> ./volumes/lib/mysql<span class="token punctuation">-</span>connector<span class="token punctuation">-</span>java<span class="token punctuation">-</span>5.1.48.jar<span class="token punctuation">:</span>/usr/local/tomcat/webapps/spoon/WEB<span class="token punctuation">-</span>INF/lib/mysql<span class="token punctuation">-</span>connector<span class="token punctuation">-</span>java<span class="token punctuation">-</span>5.1.48.jar
      <span class="token comment"># 保证重启后资源库数据不丢失，需挂载此目录</span>
      <span class="token comment"># 需要提前创建好该文件, 并授权: mkdir -m 777 ./volumes/.kettle</span>
      <span class="token punctuation">-</span> ./volumes/.kettle<span class="token punctuation">:</span>/home/tomcat/.kettle
      <span class="token comment"># 如需汉化，挂载此目录并添加配置</span>
      <span class="token punctuation">-</span> ./volumes/setenv.sh<span class="token punctuation">:</span>/usr/local/tomcat/bin/setenv.sh
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> LANG=zh_CN.UTF<span class="token punctuation">-</span><span class="token number">8</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"9002:8080"</span>
</code></pre> 
<p><strong>setenv.sh</strong> 文件</p> 
<pre><code class="prism language-bash"><span class="token assign-left variable">CLASSPATH</span><span class="token operator">=</span>/usr/local/tomcat/lib/webspoon-security-9.0.0.0-423-22.jar
<span class="token assign-left variable">CATALINA_OPTS</span><span class="token operator">=</span><span class="token string">"-Dorg.apache.tomcat.util.buf.UDecoder.ALLOW_ENCODED_SLASH=true"</span>
<span class="token assign-left variable">JAVA_OPTS</span><span class="token operator">=</span><span class="token string">"-Duser.language=zh -Duser.region=CN -Dfile.encoding=UTF-8"</span>
</code></pre> 
<p><strong>启动与停止</strong></p> 
<pre><code class="prism language-bash"><span class="token comment"># 在 docker-compose.yml 文件所在路径下执行</span>
<span class="token comment"># 启动</span>
<span class="token function">docker</span> compose up <span class="token parameter variable">-d</span>
<span class="token comment"># 停止</span>
<span class="token function">docker</span> compose down
</code></pre> 
<hr> 
<h2><a id="_186"></a>远程调试</h2> 
<p><strong>开启远程调试服务</strong></p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 <span class="token parameter variable">-p</span> <span class="token number">9003</span>:8000 <span class="token punctuation">\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">JPDA_ADDRESS</span><span class="token operator">=</span><span class="token number">8000</span> <span class="token punctuation">\</span>
<span class="token parameter variable">-e</span> <span class="token assign-left variable">CATALINA_OPTS</span><span class="token operator">=</span><span class="token string">"-Dorg.eclipse.rap.rwt.developmentMode=true"</span> <span class="token punctuation">\</span>
hiromuhota/webspoon catalina.sh jpda run
</code></pre> 
<p>或配置为 docker-compose.yml 文件</p> 
<pre><code class="prism language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.3"</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">kettle</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> hiromuhota/webspoon<span class="token punctuation">:</span>latest
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> JPDA_ADDRESS=8000
      <span class="token punctuation">-</span> CATALINA_OPTS="<span class="token punctuation">-</span>Dorg.eclipse.rap.rwt.developmentMode=true"
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"8080:8080"</span>
      <span class="token punctuation">-</span> <span class="token string">"9003:8000"</span>
    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"catalina.sh"</span><span class="token punctuation">,</span> <span class="token string">"jpda"</span><span class="token punctuation">,</span> <span class="token string">"run"</span><span class="token punctuation">]</span>
</code></pre> 
<p><strong>idea 打开本地编译好的源码</strong><br> 增加远程调试配置 <code>Remote JVM debuge</code>, 随后启动<br> <img src="https://images2.imgbox.com/db/bc/95ATj4IF_o.png" alt="在这里插入图片描述"><br> 控制台打印如下内容即可<br> Connected to the target VM, address: ‘192.168.5.22:9003’, transport: ‘socket’<br> <img src="https://images2.imgbox.com/44/69/1M9dUdfA_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0e45bc330522764e1e935adabdb0ab93/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MPE中environment.py复盘</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/188c576f45fd3aad7249bcfcde19ec3f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【FL Studio至尊版：音乐制作界的“瑞士军刀”】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
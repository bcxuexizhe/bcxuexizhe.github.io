<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【2024亚马逊云科技峰会】Amazon Bedrock &#43; Llama3 生成式AI实践 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/9a298e7bebc401ae2de65e86f6af19ee/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="【2024亚马逊云科技峰会】Amazon Bedrock &#43; Llama3 生成式AI实践">
  <meta property="og:description" content="在 4 月 18 日，Meta在官网上公布了旗下最新大模型Llama 3。目前，Llama 3已经开放了80亿（8B）和700亿（70B）两个小参数版本，上下文窗口为8k，据称，通过使用更高质量的训练数据和指令微调，Llama 3接受了超过 15 万亿个标记数据的训练——比 Llama 2 模型使用的训练数据集大七倍，其中包含四倍于 Llama 2 的代码数据，支持 8K 的上下文长度，是 Llama 2 的两倍。
现在，Meta 的 Llama 3 模型已在 Amazon Bedrock 中正式可用，本篇文章将浅要分析Llama 3模型特点，然后在Amazon Bedrock上使用Meta Llama 3 模型进行实践。
一、关于 Llama 3 在人工智能领域，性能的提升往往意味着技术的巨大进步，Llama 3的推出，正是这种进步的一个生动例证。与它的前身Llama 2相比，Llama 3在性能上实现了“重大飞跃”，这不仅仅是一个简单的比较，而是在多个维度上的全面超越。
Meta公司在Llama 3的训练程序上做出了显著改进，这些改进直接反映在了模型的性能上。错误拒绝率的降低意味着模型更加可靠，对齐度的提升则表明模型对输入数据的理解更加深入，而响应多样性的增加则为模型的应用提供了更广阔的空间。这些改进共同作用，使得Llama 3在推理、代码生成和指令跟踪等关键能力上都有了显著提高，极大地增强了模型的可操控性。
在具体的参数数量上，Llama 3 8B和Llama 3 70B在两个定制的24,000个GPU集群上的训练，不仅展示了Meta在硬件资源上的雄厚实力，也体现了其在软件优化上的深厚功底。这样的训练规模，使得Llama 3成为了当今性能最好的生成人工智能模型之一。
将视角转向人工智能基准测试，Llama 3的表现同样令人瞩目。Llama 3 8B在至少九个基准测试中超越了其他开放模型，如Mistral 7B和Google的Gemma 7B，这一成就充分证明了其卓越的性能；Llama 3 70B虽然未能超越Anthropic性能最高的机型Claude 3 Opus，但在MMLU、HumanEval和GSM-8K等五个基准测试上，它的得分却高于Claude 3系列中第二弱的模型Claude 3 Sonnet。
从两个模型的特点来说：
Llama 3 8B 适合有限的计算能力和资源以及边缘设备。该模型擅长文本摘要、文本分类、情感分析和语言翻译。Llama 3 70B 适合内容创作、对话式AI、语言理解、研发和企业应用。该模型擅长文本摘要和准确性、文本分类和细微差别、情感分析和细微推理、语言建模、对话系统、代码生成和遵循指令。 此外，Meta 目前也正在训练参数超过 400B 的其他 Llama 3 模型。这些 400B 模型将具有新的能力，包括多模态、多语言支持和更长的上下文窗口。">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-14T17:09:26+08:00">
    <meta property="article:modified_time" content="2024-05-14T17:09:26+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【2024亚马逊云科技峰会】Amazon Bedrock &#43; Llama3 生成式AI实践</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在 4 月 18 日，Meta在官网上公布了旗下最新大模型Llama 3。目前，Llama 3已经开放了80亿（8B）和700亿（70B）两个小参数版本，上下文窗口为8k，据称，通过使用更高质量的训练数据和指令微调，Llama 3接受了超过 15 万亿个标记数据的训练——比 Llama 2 模型使用的训练数据集大七倍，其中包含四倍于 Llama 2 的代码数据，支持 8K 的上下文长度，是 Llama 2 的两倍。</p> 
<p><img src="https://images2.imgbox.com/8f/a5/NINqC6ka_o.png" alt="在这里插入图片描述"></p> 
<p>现在，Meta 的 Llama 3 模型已在 Amazon Bedrock 中正式可用，本篇文章将浅要分析Llama 3模型特点，然后在Amazon Bedrock上使用Meta Llama 3 模型进行实践。</p> 
<h2><a id="_Llama_3_6"></a>一、关于 Llama 3</h2> 
<p>在人工智能领域，性能的提升往往意味着技术的巨大进步，Llama 3的推出，正是这种进步的一个生动例证。与它的前身Llama 2相比，Llama 3在性能上实现了“重大飞跃”，这不仅仅是一个简单的比较，而是在多个维度上的全面超越。<br> <img src="https://images2.imgbox.com/d0/23/VXhuSbKb_o.png" alt="在这里插入图片描述"><br> Meta公司在Llama 3的训练程序上做出了显著改进，这些改进直接反映在了模型的性能上。错误拒绝率的降低意味着模型更加可靠，对齐度的提升则表明模型对输入数据的理解更加深入，而响应多样性的增加则为模型的应用提供了更广阔的空间。这些改进共同作用，使得Llama 3在推理、代码生成和指令跟踪等关键能力上都有了显著提高，极大地增强了模型的可操控性。</p> 
<p>在具体的参数数量上，Llama 3 8B和Llama 3 70B在两个定制的24,000个GPU集群上的训练，不仅展示了Meta在硬件资源上的雄厚实力，也体现了其在软件优化上的深厚功底。这样的训练规模，使得Llama 3成为了当今性能最好的生成人工智能模型之一。<br> <img src="https://images2.imgbox.com/51/ac/8ZFo3ETr_o.png" alt="在这里插入图片描述"><br> 将视角转向人工智能基准测试，Llama 3的表现同样令人瞩目。Llama 3 8B在至少九个基准测试中超越了其他开放模型，如Mistral 7B和Google的Gemma 7B，这一成就充分证明了其卓越的性能；Llama 3 70B虽然未能超越Anthropic性能最高的机型Claude 3 Opus，但在MMLU、HumanEval和GSM-8K等五个基准测试上，它的得分却高于Claude 3系列中第二弱的模型Claude 3 Sonnet。<br> <img src="https://images2.imgbox.com/76/df/xIdGkwDe_o.png" alt="在这里插入图片描述"><br> 从两个模型的特点来说：</p> 
<ul><li>Llama 3 8B 适合有限的计算能力和资源以及边缘设备。该模型擅长文本摘要、文本分类、情感分析和语言翻译。</li><li>Llama 3 70B 适合内容创作、对话式AI、语言理解、研发和企业应用。该模型擅长文本摘要和准确性、文本分类和细微差别、情感分析和细微推理、语言建模、对话系统、代码生成和遵循指令。</li></ul> 
<p>此外，Meta 目前也正在训练参数超过 400B 的其他 Llama 3 模型。这些 400B 模型将具有新的能力，包括多模态、多语言支持和更长的上下文窗口。</p> 
<h2><a id="Amazon_Bedrock__Llama3__22"></a>二、Amazon Bedrock + Llama3 实践</h2> 
<p>现在，Meta 的 Llama 3 模型已在 Amazon Bedrock 中正式可用。</p> 
<p>Amazon Bedrock 是一项完全托管的服务，通过单个 API 提供来自 AI21 Labs、Anthropic、Cohere、Meta、Stability AI 和 Amazon 等领先人工智能公司的高性能基础模型（FM），以及通过安全性、隐私性和负责任的 AI 构建生成式人工智能应用程序所需的一系列广泛功能。<br> <img src="https://images2.imgbox.com/42/09/PeYfemnz_o.png" alt="在这里插入图片描述"><br> Amazon Bedrock 提供易于使用的开发者体验，借助 Amazon Bedrock 知识库，可以安全地将基础模型连接到数据来源，以便在托管服务中增强检索，从而扩展基础模型已有功能，使其更了解特定领域和组织，越用越好，才是王道。<br> 要使用Llama 3 8B和Llama 3 70B模型，我们首先需要进入Amazon Bedrock控制台，下滑左侧导航栏，找到模型访问权限，点击然后在右侧找到Llama 3 8B和Llama 3 70B，初次使用会显示可请求状态。<br> <img src="https://images2.imgbox.com/d6/9b/LX704Ktd_o.png" alt="在这里插入图片描述"><br> 如果显示为“可请求”，则翻到上面，点击管理模型访问权限，然后勾选刚刚的Llama3模型，翻到底部提交更改即可。<br> <img src="https://images2.imgbox.com/b1/6a/YqfNGLIY_o.png" alt="在这里插入图片描述"><br> 下面在 Amazon Bedrock 控制台中测试 Meta Llama 3 模型。首先在左侧菜单窗格中选择操场下的文本或聊天。然后选择选择模型，并将类别设置为 Meta，将模型设置为 Llama 8B Instruct 或 Llama 3 70B Instruct。<br> <img src="https://images2.imgbox.com/62/45/3B3FC3Pn_o.png" alt="在这里插入图片描述"><br> 进入后可以看到Llama 3 为我们提供了多项配置：<br> <img src="https://images2.imgbox.com/01/d6/3JzFopNZ_o.png" alt="在这里插入图片描述"><br> 其中温度是一个控制生成文本多样性的参数，较高的温度值，如1.0，会产生更随机的输出，而较低的温度值，如0.1，会使模型更倾向于选择最可能的单词。排名前P也称Top-p，是一种考虑模型输出的全局策略，它决定了更好地探索可能的输出序列，从而产生更多样化的输出。具体来说，Top-p 策略首先按照每个词的预测概率对它们进行排序，然后根据这些词的顺序逐个选择下一个输出，直到累计概率达到 p。Top-p 可以更好地探索可能的输出序列，从而产生更多样化的输出。响应长度是生成文本的最大长度限制，超过这个长度的文本将被截断或停止生成。<br> <img src="https://images2.imgbox.com/17/2b/jWeWkGDR_o.png" alt="在这里插入图片描述"><br> 另外，通过选择查看 API 请求，还可以使用亚马逊云科技命令行界面 (Amazon CLI) 和 Amazon SDK 中的代码示例来访问该模型。您可以使用诸如 meta.llama3-8b-instruct-v1 或 meta.llama3-70b-instruct-v1 这样的模型 ID。这是一个 Amazon CLI 命令样本。</p> 
<pre><code class="prism language-bash">$ aws bedrock - runtime invoke - model<span class="token punctuation">\</span>--model - <span class="token function">id</span> meta.llama3 - <span class="token number">8</span> b - instruct - v1: <span class="token number">0</span><span class="token punctuation">\</span>--body <span class="token string">"{<!-- --><span class="token entity" title='\"'>\"</span>prompt<span class="token entity" title='\"'>\"</span>:<span class="token entity" title='\"'>\"</span>Simply put, the theory of relativity states that<span class="token entity" title="\\">\\</span>n the laws of physics are the same everywhere in the universe, and that the passage of time and the length of objects can vary depending on their speed and position in a gravitational field <span class="token entity" title='\"'>\"</span>,<span class="token entity" title='\"'>\"</span>max_gen_len<span class="token entity" title='\"'>\"</span>:512,<span class="token entity" title='\"'>\"</span>temperature<span class="token entity" title='\"'>\"</span>:0.5,<span class="token entity" title='\"'>\"</span>top_p<span class="token entity" title='\"'>\"</span>:0.9}"</span><span class="token punctuation">\</span>--cli - binary - <span class="token function">format</span> raw - <span class="token keyword">in</span> <span class="token parameter variable">-base64</span> - out<span class="token punctuation">\</span>--region us - east - <span class="token number">1</span><span class="token punctuation">\</span> invoke - model - output.txt
</code></pre> 
<p>并且，可以使用 Amazon Bedrock + Amazon SDK 用各种编程语言构建您的应用程序。</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">invoke_llama3</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> prompt<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">try</span><span class="token punctuation">:</span> body <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">"prompt"</span><span class="token punctuation">:</span> prompt<span class="token punctuation">,</span>
    <span class="token string">"temperature"</span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    <span class="token string">"top_p"</span><span class="token punctuation">:</span> <span class="token number">0.9</span><span class="token punctuation">,</span>
    <span class="token string">"max_gen_len"</span><span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
response <span class="token operator">=</span> self<span class="token punctuation">.</span>bedrock_runtime_client<span class="token punctuation">.</span>invoke_model<span class="token punctuation">(</span>modelId <span class="token operator">=</span> <span class="token string">"meta.llama3-8b-instruct-v1:0"</span><span class="token punctuation">,</span> body <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span>
response_body <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>response<span class="token punctuation">[</span><span class="token string">"body"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> completion <span class="token operator">=</span> response_body<span class="token punctuation">[</span><span class="token string">"generation"</span><span class="token punctuation">]</span>
<span class="token keyword">return</span> completion
<span class="token keyword">except</span> ClientError<span class="token punctuation">:</span> logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">"Couldn't invoke Llama 3"</span><span class="token punctuation">)</span> <span class="token keyword">raise</span>
</code></pre> 
<p>以下是部分效果：<br> <img src="https://images2.imgbox.com/c3/af/YejezzjN_o.png" alt="在这里插入图片描述"><br> 以上只是初步实践，在今年即将召开的2024亚马逊云科技峰会上，将有更为深入的生成式AI应用构建实践，其将聚焦如何借助Amazon Bedrock服务，结合企业业务应用场景，简化模型选择，模型定制和集成应用。使用一站式的Bedrock服务，用户可以通过单个 API 体验20多个业界领先的基础模型（包括Claude3），利用私有数据通过RAG、微调以及提示词工程进行模型定制，快速部署模型到生成式AI应用程序中，推动业务创新，抢占赛道新机遇。<br> <img src="https://images2.imgbox.com/02/7e/hWt6QQ0g_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="2024_61"></a>三、2024亚马逊云科技峰会</h2> 
<p>亚马逊云科技中国峰会将于2024年5月29日至30日在上海世博中心盛大举办，作为一年一度的科技盛会，这次峰会将再次为我们带来云计算领域的最新动态和前沿技术。在这里，每一位参会者将有机会深入了解云计算如何推动行业发展，以及生成式AI等前沿技术的落地实践。</p> 
<p><img src="https://images2.imgbox.com/60/c6/dX2hyFIX_o.png" alt="在这里插入图片描述"><br> 除了基于Amazon Bedrock构建生成式AI应用实践外，大会还将带来自亚马逊云科技全球高管携手云计算行业领军人物围绕生成式AI的重磅发布、分享多个创新场景与客户案例，探讨生成式AI如何重构客户体验、聚焦基础模型训练与推理的基础服务、最新发布的，开箱即用的Amazon Q服务以及多个行业创新范例等等主题。</p> 
<p><img src="https://images2.imgbox.com/01/e7/Ut4Okatv_o.png" alt="在这里插入图片描述"></p> 
<p>点击<a href="https://summit.amazoncloud.cn/2024/register.html?source=3WZcI3KGLx6J6N0DwCFnx%20NX4Uci7qzWUOF7bsrAmtLUsDaP%20lqWi1ygbJEy%20ONA" rel="nofollow">参会链接</a>，一起报名，享受这场科技盛会吧！</p> 
<p>参会链接：https://summit.amazoncloud.cn/2024/register.html?source=3WZcI3KGLx6J6N0DwCFnx+NX4Uci7qzWUOF7bsrAmtLUsDaP+lqWi1ygbJEy+ONA</p> 
<h2><a id="_74"></a>最后</h2> 
<p>💖 个人简介：博客专家，人工智能优质创作者，2022年博客之星人工智能领域TOP2，COC武汉城市开发者社区主理人、2023中国开发者影响力年度优秀主理人</p> 
<p>📝 个人主页：<a href="https://blog.csdn.net/air__Heaven">中杯可乐多加冰</a></p> 
<p>🎉 支持我：点赞👍+收藏⭐️+留言📝</p> 
<p>点击下方公众号，加入采苓AI研习社，回复“白皮书”获取“中国大模型发展白皮书.pdf”，回复“产业报告”获取“AIGC深度产业报告 ”。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6564d03ec7414f2f1bebd27a00215a44/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android studio Gradle下载失败，如何手动配置解决该问题详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5a9a56c78881395d3ca3650554de3f0c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AI绘画Stable Diffusion基础教程！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
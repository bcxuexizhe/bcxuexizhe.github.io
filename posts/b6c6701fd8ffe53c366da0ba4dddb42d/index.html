<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【04】C语言括号匹配问题 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/b6c6701fd8ffe53c366da0ba4dddb42d/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="【04】C语言括号匹配问题">
  <meta property="og:description" content="欢迎来到土土的博客~🥳🥳🌹🌹🌹
💥个人主页：大耳朵土土垚的博客
💥 所属专栏：C语言系列函数实现
题目描述： 给定一个只包括 ‘(’，’)’，’{’，’}’，’[’，’]’ 的字符串 s ，判断字符串是否有效。 有效字符串需满足：
1.左括号必须用相同类型的右括号闭合。
2.左括号必须以正确的顺序闭合。
3.每个右括号都有一个对应的相同类型的左括号。
也就是说第一个必须为左括号才可以匹配的上，一左一右，相邻的同类型的左右括号可以消掉，最后能消完就行。跟消消乐一样。
示例 1：
输入：s = “()”
输出：true
示例 2：
输入：s = “()[]{}”
输出：true
示例 3：
输入：s = “{()}”
输出：true
输入：s = “{(})”
输出：tfalse
解题思路：上篇博客我们学习了数据结构的栈和队列——大耳朵土土的博客，这道题我们就可以根据栈的特点——后进先出来匹配括号，完成题解。 #define _CRT_SECURE_NO_WARNINGS 1 #include&lt;stdio.h&gt; #include&lt;stdlib.h&gt; #include&lt;stdbool.h&gt; #include&lt;assert.h&gt; // 支持动态增长的栈 typedef char STDataType; typedef struct Stack { STDataType* a; int top; // 栈顶 int capacity; // 容量 }Stack; // 初始化栈 void StackInit(Stack* ps) { assert(ps); ps-&gt;a = NULL; ps-&gt;capacity = 0; ps-&gt;top = 0;//指向栈顶的下一个数据 //ps-&gt;top = -1; //则指向栈顶数据 } // 检测栈是否为空，如果为空返回true，如果不为空返回false bool StackEmpty(Stack* ps) { assert(ps); /*if (ps-&gt;top == 0) return true; else return false;*/ return ps-&gt;top == 0; } // 入栈 void StackPush(Stack* ps, STDataType data) { assert(ps); //STDataType tmp = ps-&gt;top == ps-&gt;capacity ?">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-04T12:35:03+08:00">
    <meta property="article:modified_time" content="2024-03-04T12:35:03+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【04】C语言括号匹配问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>欢迎来到土土的博客~🥳🥳🌹🌹🌹<br> 💥个人主页：<a href="https://blog.csdn.net/Renswc?type=blog">大耳朵土土垚的博客</a><br> 💥 所属专栏：<a href="https://blog.csdn.net/renswc/category_12575630.html?spm=1001.2014.3001.5482">C语言系列函数实现</a><br> <img src="https://images2.imgbox.com/e5/c6/1IgrY040_o.jpg" alt="在这里插入图片描述"></p> 
</blockquote> 
<h3><a id="____s__5"></a>题目描述： 给定一个只包括 ‘(’，’)’，’{’，’}’，’[’，’]’ 的字符串 s ，判断字符串是否有效。</h3> 
<p>有效字符串需满足：</p> 
<p>1.左括号必须用相同类型的右括号闭合。<br> 2.左括号必须以正确的顺序闭合。<br> 3.每个右括号都有一个对应的相同类型的左括号。</p> 
<blockquote> 
 <p>也就是说第一个必须为左括号才可以匹配的上，一左一右，相邻的同类型的左右括号可以消掉，最后能消完就行。跟消消乐一样。</p> 
 <p>示例 1：</p> 
 <p>输入：s = “()”<br> 输出：true<br> 示例 2：</p> 
 <p>输入：s = “()[]{}”<br> 输出：true<br> 示例 3：</p> 
 <p>输入：s = “{()}”<br> 输出：true<br> 输入：s = “{(})”<br> 输出：tfalse</p> 
</blockquote> 
<h3><a id="httptcsdnimgcnTIV5H_31"></a><mark>解题思路</mark>：上篇博客我们学习了数据结构的栈和队列——<a href="http://t.csdnimg.cn/TIV5H" rel="nofollow">大耳朵土土的博客</a>，这道题我们就可以根据栈的特点——后进先出来匹配括号，完成题解。</h3> 
<pre><code>#define _CRT_SECURE_NO_WARNINGS 1
#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;stdbool.h&gt;
#include&lt;assert.h&gt;
// 支持动态增长的栈
typedef char STDataType;
typedef struct Stack
{
	STDataType* a;
	int top;       // 栈顶
	int capacity;  // 容量 
}Stack;
// 初始化栈 
void StackInit(Stack* ps)
{
	assert(ps);
	ps-&gt;a = NULL;
	ps-&gt;capacity = 0;
	ps-&gt;top = 0;//指向栈顶的下一个数据
	//ps-&gt;top = -1; //则指向栈顶数据
}
// 检测栈是否为空，如果为空返回true，如果不为空返回false
bool StackEmpty(Stack* ps)
{
	assert(ps);
	/*if (ps-&gt;top == 0)
		return true;
	else
		return false;*/
	return ps-&gt;top == 0;
}
// 入栈 
void StackPush(Stack* ps, STDataType data)
{
	assert(ps);
	//STDataType tmp = ps-&gt;top == ps-&gt;capacity ? 4 : ps-&gt;capacity * 2;
	if (ps-&gt;top == ps-&gt;capacity)
	{
		int newcapacity = ps-&gt;capacity == 0 ? 4 : ps-&gt;capacity*2;
		ps-&gt;capacity = newcapacity;
		ps-&gt;a = (STDataType*)realloc(ps-&gt;a, newcapacity * sizeof(STDataType));
		if (ps-&gt;a == NULL)
		{
			perror("realloc fail");
			return;
		}
	}
	ps-&gt;a[ps-&gt;top] = data;
	ps-&gt;top++;

}
// 出栈 
void StackPop(Stack* ps)
{
	assert(ps);
	assert(!StackEmpty(ps));//判断非空
	ps-&gt;top--;
}
// 获取栈顶元素 
STDataType StackTop(Stack* ps)
{
	assert(ps);
	assert(!StackEmpty(ps));//判断非空
	return ps-&gt;a[ps-&gt;top - 1];

}
// 获取栈中有效元素个数 
int StackSize(Stack* ps)
{
	assert(ps);
	return ps-&gt;top;
}

// 销毁栈 
void StackDestroy(Stack* ps)
{
	assert(ps);
	free(ps-&gt;a);
	ps-&gt;capacity = 0;
	ps-&gt;a = NULL;
	ps-&gt;top = 0;
}
//上面是C语言栈的实现，注意这里将int类型改为了char类型，利用typedef很容易全部改正

</code></pre> 
<blockquote> 
 <p>下面我们将通过上面的栈来解题</p> 
</blockquote> 
<pre><code>
bool isValid(char* s) {
	
	Stack st;
	StackInit(&amp;st);
	
	while (*s)
	{
		if (*s == '(' 
        || *s == '[' 
        || *s == '{')//左括号
		{
			StackPush(&amp;st, *s);
		}
		else//右括号
		{   
            if(StackEmpty(&amp;st))
            {
                StackDestroy(&amp;st);
                return false;
            }
            char top = StackTop(&amp;st);
            StackPop(&amp;st);
			if ((*s == ')' &amp;&amp; top != '(')
            ||(*s == ']' &amp;&amp; top != '[')
            ||(*s == '}' &amp;&amp; top != '{'))//判断是否与上一个元素匹配
			{
                StackDestroy(&amp;st);
                return false;
			}
                
		}
		s++;
	}
    bool ret = StackEmpty(&amp;st);
    StackDestroy(&amp;st);//记得释放空间
	return ret;
}
</code></pre> 
<blockquote> 
 <p>括号可以分为<em><strong>左括号和右括号***，如果是左括号就</strong>入栈</em>*，右括号就将它与栈顶元素<strong>匹配</strong>，如果匹配不成功则直接返回false，直到字符串s结束则返回true；注意如果一开始就是右括号则无需匹配直接返回false就行，因为这种情况不可能匹配成功。</p> 
</blockquote> 
<h3><a id="_166"></a>结语</h3> 
<p>以上就是该函数的实现完整代码啦~完结撒花🎉🎉🥳点个赞再走吧 ~</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4984a711922c9cc64589ad1c3c57b65d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用openai-whisper实现语音转文字</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9091a2d8fe5311adf2028c3991d31ac5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">图解KMP算法，带你彻底吃透KMP</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端实现：不同角色登入展示不同页面效果 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/3f887c50aafb31dd34556d19d8ab29e7/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="前端实现：不同角色登入展示不同页面效果">
  <meta property="og:description" content="功能介绍：首先是不同身份的用户展示的界面不同，其次实现在注册时选择对应的身份
不同身份的用户系统展示界面不同 1. 数据库user 表中添加role属性
No.1 点击“表”——右击“user”——点击“设计表”——添加“role”属性——user表中进行角色设置
添加属性：
No.2 “user”表中进行“role”多种角色设置（比如，用户，管理员）
2. 在后台的 User 类里面加一个新的字段叫 role，然后重启后台
3. 在菜单的标签上加一个 v-if 判断就可以了（eg:想让管理员看到这个菜单）
&lt;!-- &lt;el-submenu&gt;二级菜单--&gt; &lt;el-submenu index=&#34;info&#34; v-if=&#34;user.role===&#39;管理员&#39;&#34;&gt; &lt;template slot=&#34;title&#34;&gt; &lt;i class=&#34;el-icon-house&#34;&gt;&lt;/i&gt; &lt;span&gt; 信息管理&lt;/span&gt; &lt;/template&gt; &lt;el-menu-item index=&#34;/user&#34;&gt;用户信息&lt;/el-menu-item&gt; &lt;/el-submenu&gt; 完善：路由守卫解决用户页面权限问题 （添置index.js页面） router.beforeEach((to, from, next) =&gt; { // to 是到达的路由信息 // from 是开源的路由信息 // next 是帮助我们跳转路由的函数 let adminPaths = [&#39;/user&#39;] let user = JSON.parse(localStorage.getItem(&#39;honey-user&#39;) || &#39;{}&#39;) if (user.role !== &#39;管理员&#39; &amp;&amp; adminPaths.includes(to.path)) { // 如果当前登录的用户不是管理员，然后当前的到达的路径是管理员才有权限访问的路径，那这个时候我就让用户去到一个没有权限的页面，不让他访问实际的页面 next(&#39;/403&#39;) } else { next() } }) 在注册时选择不同身份登录 1.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-19T20:47:28+08:00">
    <meta property="article:modified_time" content="2024-02-19T20:47:28+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端实现：不同角色登入展示不同页面效果</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>功能介绍：首先是不同身份的用户展示的界面不同，其次实现在注册时选择对应的身份</strong></p> 
<h2><strong>不同身份的用户系统展示界面不同</strong></h2> 
<p>1. 数据库user 表中添加role属性</p> 
<p>No.1 点击“表”——右击“user”——点击“设计表”——添加“role”属性——user表中进行角色设置</p> 
<p><img alt="" height="415" src="https://images2.imgbox.com/ce/d2/CvQH26Ci_o.png" width="346"></p> 
<p>添加属性：</p> 
<p><img alt="" height="52" src="https://images2.imgbox.com/13/78/5dTleESL_o.png" width="1200"></p> 
<p>No.2  “user”表中进行“role”多种角色设置（比如，用户，管理员）</p> 
<p><img alt="" height="307" src="https://images2.imgbox.com/c8/95/N0vmIpCB_o.png" width="1200"></p> 
<p>2. 在后台的 User 类里面加一个新的字段叫 role，然后重启后台</p> 
<p><img alt="" height="549" src="https://images2.imgbox.com/c8/2a/GP94uxT7_o.png" width="1121"></p> 
<p>3. 在菜单的标签上加一个 v-if 判断就可以了（eg:想让管理员看到这个菜单）</p> 
<pre>&lt;!--          &lt;el-submenu&gt;二级菜单--&gt;
&lt;el-submenu index="info" v-if="user.role==='管理员'"&gt;
  &lt;template slot="title"&gt;
    &lt;i class="el-icon-house"&gt;&lt;/i&gt;
    &lt;span&gt; 信息管理&lt;/span&gt;
  &lt;/template&gt;
  &lt;el-menu-item index="/user"&gt;用户信息&lt;/el-menu-item&gt;
&lt;/el-submenu&gt;</pre> 
<p><img alt="" height="349" src="https://images2.imgbox.com/9e/67/KlvHuGUW_o.png" width="906"></p> 
<h3>完善：路由守卫解决用户页面权限问题 （添置index.js页面）</h3> 
<pre>router.beforeEach((to, from, next) =&gt; {
  // to 是到达的路由信息
  // from 是开源的路由信息
  // next 是帮助我们跳转路由的函数
  let adminPaths = ['/user']
  let user = JSON.parse(localStorage.getItem('honey-user') || '{}')

  if (user.role !== '管理员' &amp;&amp; adminPaths.includes(to.path)) {
    // 如果当前登录的用户不是管理员，然后当前的到达的路径是管理员才有权限访问的路径，那这个时候我就让用户去到一个没有权限的页面，不让他访问实际的页面
    next('/403')
  } else {
    next()
  }
})
</pre> 
<p><img alt="" height="718" src="https://images2.imgbox.com/46/a3/cEf4mFU0_o.png" width="1200"></p> 
<h2>在注册时选择不同身份登录</h2> 
<p>1. 在对应vue页面添加预计的框框</p> 
<pre>&lt;el-form-item prop="role"&gt;
  &lt;el-radio-group v-model="user.role"&gt;
    &lt;el-radio label="管理员"&gt;&lt;/el-radio&gt;
      &lt;el-radio label="用户"&gt;&lt;/el-radio&gt;
  &lt;/el-radio-group&gt;
&lt;/el-form-item&gt;</pre> 
<p>2. 在vue页面下方export default---data---rules添加角色提醒</p> 
<pre>role: [
  { required: true, message: '请选择角色', trigger: 'blur' },
],</pre> 
<p>3. 在WebController 中设置判断，即注册时该项不能为空</p> 
<pre>if(StrUtil.isBlank(user.getUsername())||StrUtil.isBlank(user.getPassword())||StrUtil.isBlank(user.getRole())){
    return Result.error("数据输入不合法");

}</pre> 
<p><img alt="" height="723" src="https://images2.imgbox.com/d5/25/m4q0mVMs_o.png" width="1200"></p> 
<p>4. 普通框架（未加入Mybaits），需人为补上该字段，使其插入数据库（<strong>记得然后项目重启</strong>）</p> 
<p><img alt="" height="318" src="https://images2.imgbox.com/c7/ce/nFuJwxih_o.png" width="1200"></p> 
<p>5. 简易版展示效果：</p> 
<p><img alt="" height="538" src="https://images2.imgbox.com/a4/ee/n7nZxR2V_o.png" width="1146"></p> 
<p>补充：想设置跳转页面链接很简单</p> 
<p>只需要如下命令</p> 
<pre>&lt;router-link to ="/"&gt;返回首页&lt;/router-link&gt;</pre> 
<p><img alt="" height="248" src="https://images2.imgbox.com/73/55/kkhxxF8p_o.png" width="742"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f50560a5d0b511311110804bd56b6373/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">中科院一区论文复现，改进蜣螂算法，Fuch映射&#43;反向学习&#43;自适应步长&#43;随机差分变异，MATLAB代码...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2f6719d304450976917dd8b8a974843c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">修复 Android 手机陷入恢复模式的 5 种方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>1. MySQL 5.7安装部署 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/bcbcc17429eb8ab2af78e6feba81b03b/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="1. MySQL 5.7安装部署">
  <meta property="og:description" content="RDBMS关系型数据库管理系统 一、RDBMS关系型数据库管理系统1、数据存储结构2、约束 constraint1)、域约束2)、检查性约束3)、主键约束 primary key4)、惟一键约束 unique key5)、外键约束 Foreign Key 3、关系型数据库管理系统的软件 二、MySQL 5.7安装部署1、安装MySQL软件仓库2、安装MySQL 5.73、启动MySQL服务4、修改root用户密码5、测试连接登录数据库6、在防火墙中放行数据库服务 三、MySQL配置文件解析1、配置文件 ---- /etc/my.cnf 一、RDBMS关系型数据库管理系统 1、数据存储结构 数据库
表
记录 record
字段 column
2、约束 constraint 1)、域约束 在字段进行数据类型限制
作用: 确保表中的某个字段的数据格式统一
2)、检查性约束 作用: 确保数据的合理性
3)、主键约束 primary key 作用：确保某一行的数据的惟一性
不允许出现重复数据
不允许为空
注意: 一张表只能有一个主键
4)、惟一键约束 unique key 不允许重复、允许为空
一张表中可以存在多个惟一键
5)、外键约束 Foreign Key 作用: 确保数据的完整性
3、关系型数据库管理系统的软件 开源软件
MySQL、PostgreSQL
MariaDB
商业数据库
Oracle
SQL Server
国产数据库
阿里 OceanBase
华为 GuassDB
二、MySQL 5.7安装部署 1、安装MySQL软件仓库 [root@web ~]# wget http://repo.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-06T16:04:11+08:00">
    <meta property="article:modified_time" content="2024-05-06T16:04:11+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">1. MySQL 5.7安装部署</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>RDBMS关系型数据库管理系统</h4> 
 <ul><li><a href="#RDBMS_1" rel="nofollow">一、RDBMS关系型数据库管理系统</a></li><li><ul><li><a href="#1_2" rel="nofollow">1、数据存储结构</a></li><li><a href="#2_constraint_9" rel="nofollow">2、约束 constraint</a></li><li><ul><li><a href="#1_10" rel="nofollow">1)、域约束</a></li><li><a href="#2_14" rel="nofollow">2)、检查性约束</a></li><li><a href="#3___primary_key_17" rel="nofollow">3)、主键约束 primary key</a></li><li><a href="#4___unique_key_24" rel="nofollow">4)、惟一键约束 unique key</a></li><li><a href="#5_Foreign_Key_28" rel="nofollow">5)、外键约束 Foreign Key</a></li></ul> 
   </li><li><a href="#3_32" rel="nofollow">3、关系型数据库管理系统的软件</a></li></ul> 
  </li><li><a href="#MySQL_57_48" rel="nofollow">二、MySQL 5.7安装部署</a></li><li><ul><li><a href="#1MySQL_50" rel="nofollow">1、安装MySQL软件仓库</a></li><li><a href="#2MySQL_57_69" rel="nofollow">2、安装MySQL 5.7</a></li><li><a href="#3MySQL_75" rel="nofollow">3、启动MySQL服务</a></li><li><a href="#4root_88" rel="nofollow">4、修改root用户密码</a></li><li><a href="#5_107" rel="nofollow">5、测试连接登录数据库</a></li><li><a href="#6_127" rel="nofollow">6、在防火墙中放行数据库服务</a></li></ul> 
  </li><li><a href="#MySQL_151" rel="nofollow">三、MySQL配置文件解析</a></li><li><ul><li><a href="#1___etcmycnf_153" rel="nofollow">1、配置文件 ---- /etc/my.cnf</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="RDBMS_1"></a>一、RDBMS关系型数据库管理系统</h2> 
<h3><a id="1_2"></a>1、数据存储结构</h3> 
<p>数据库<br> 表<br> 记录 record<br> 字段 column</p> 
<h3><a id="2_constraint_9"></a>2、约束 constraint</h3> 
<h4><a id="1_10"></a>1)、域约束</h4> 
<p>在字段进行数据类型限制<br> 作用: 确保表中的某个字段的数据格式统一</p> 
<h4><a id="2_14"></a>2)、检查性约束</h4> 
<p>作用: 确保数据的合理性</p> 
<h4><a id="3___primary_key_17"></a>3)、主键约束 primary key</h4> 
<p>作用：确保某一行的数据的惟一性</p> 
<p>不允许出现重复数据<br> 不允许为空<br> 注意: 一张表只能有一个主键</p> 
<h4><a id="4___unique_key_24"></a>4)、惟一键约束 unique key</h4> 
<p>不允许重复、允许为空<br> 一张表中可以存在多个惟一键</p> 
<h4><a id="5_Foreign_Key_28"></a>5)、外键约束 Foreign Key</h4> 
<p>作用: 确保数据的完整性</p> 
<h3><a id="3_32"></a>3、关系型数据库管理系统的软件</h3> 
<p>开源软件<br> MySQL、PostgreSQL<br> MariaDB</p> 
<p>商业数据库<br> Oracle<br> SQL Server</p> 
<p>国产数据库<br> 阿里 OceanBase<br> 华为 GuassDB</p> 
<h2><a id="MySQL_57_48"></a>二、MySQL 5.7安装部署</h2> 
<h3><a id="1MySQL_50"></a>1、安装MySQL软件仓库</h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@web ~<span class="token punctuation">]</span><span class="token comment"># wget http://repo.mysql.com/mysql57-community-release-el7.rpm </span>

<span class="token punctuation">[</span>root@web ~<span class="token punctuation">]</span><span class="token comment"># rpm -ivh mysql57-community-release-el7.rpm </span>
warning: mysql57-community-release-el7.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEY
Preparing<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
Updating / installing<span class="token punctuation">..</span>.
   <span class="token number">1</span>:mysql57-community-release-el7-11 <span class="token comment">################################# [100%]</span>

<span class="token punctuation">[</span>root@web ~<span class="token punctuation">]</span><span class="token comment"># ls /etc/yum.repos.d/</span>
CentOS-Base.repo  CentOS-Debuginfo.repo  CentOS-Media.repo    CentOS-Vault.repo          mysql-community.repo
</code></pre> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@web ~<span class="token punctuation">]</span><span class="token comment"># sed -ri '/gpgcheck/s|1|0|g' /etc/yum.repos.d/mysql-community.repo</span>
<span class="token punctuation">[</span>root@web ~<span class="token punctuation">]</span><span class="token comment"># sed -ri '/gpgkey/d' /etc/yum.repos.d/mysql-community.repo</span>
</code></pre> 
<h3><a id="2MySQL_57_69"></a>2、安装MySQL 5.7</h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># yum install -y mysql-community-server </span>
</code></pre> 
<h3><a id="3MySQL_75"></a>3、启动MySQL服务</h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl start mysqld</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># systemctl enable mysqld</span>

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># netstat -antp | grep mysql</span>
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::3306                 :::*                    LISTEN      <span class="token number">7620</span>/mysqld         

<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ps -elf | grep mysql</span>
<span class="token number">1</span> S mysql      <span class="token number">7620</span>      <span class="token number">1</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> - <span class="token number">296199</span> poll_s <span class="token number">10</span>:42 ?       00:00:00 /usr/sbin/mysqld <span class="token parameter variable">--daemonize</span> --pid-file<span class="token operator">=</span>/var/run/mysqld/mysqld.pid
</code></pre> 
<h3><a id="4root_88"></a>4、修改root用户密码</h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@web ~<span class="token punctuation">]</span><span class="token comment"># grep -i "password" /var/log/mysqld.log </span>
<span class="token number">2023</span>-08-17T07:39:00.876344Z <span class="token number">1</span> <span class="token punctuation">[</span>Note<span class="token punctuation">]</span> A temporary password is generated <span class="token keyword">for</span> root@localhost: kjFL%6Iiy_sp
<span class="token punctuation">[</span>root@web ~<span class="token punctuation">]</span><span class="token comment"># </span>
<span class="token punctuation">[</span>root@web ~<span class="token punctuation">]</span><span class="token comment"># mysql -u root -p</span>
Enter password: 

mysql<span class="token operator">&gt;</span> alter user <span class="token string">'root'</span>@<span class="token string">'localhost'</span> identified by <span class="token string">'WWW.1.com'</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> flush privileges<span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">exit</span>
Bye
</code></pre> 
<h3><a id="5_107"></a>5、测试连接登录数据库</h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mysql -uroot -pWWW.1.com</span>
mysql: <span class="token punctuation">[</span>Warning<span class="token punctuation">]</span> Using a password on the <span class="token builtin class-name">command</span> line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with <span class="token punctuation">;</span> or <span class="token punctuation">\</span>g.
Your MySQL connection <span class="token function">id</span> is <span class="token number">5</span>
Server version: <span class="token number">5.7</span>.17 MySQL Community Server <span class="token punctuation">(</span>GPL<span class="token punctuation">)</span>

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>, <span class="token number">2016</span>, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="token string">'help;'</span> or <span class="token string">'\h'</span> <span class="token keyword">for</span> help. Type <span class="token string">'\c'</span> to <span class="token function">clear</span> the current input statement.

mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">exit</span>
</code></pre> 
<h3><a id="6_127"></a>6、在防火墙中放行数据库服务</h3> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --permanent --add-port=3306/tcp </span>
success
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --reload</span>
success
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># firewall-cmd --list-all</span>
public <span class="token punctuation">(</span>active<span class="token punctuation">)</span>
  target: default
  icmp-block-inversion: no
  interfaces: ens33
  sources: 
  services: dhcpv6-client <span class="token function">ssh</span>
  ports: <span class="token number">3306</span>/tcp
  protocols: 
  masquerade: no
  forward-ports: 
  source-ports: 
  icmp-blocks: 
  rich rules: 

</code></pre> 
<h2><a id="MySQL_151"></a>三、MySQL配置文件解析</h2> 
<h3><a id="1___etcmycnf_153"></a>1、配置文件 ---- /etc/my.cnf</h3> 
<ul><li> <p>datadir=目录<br> 指定数据目录<br> 数据目录的属主、属组必须为mysql用户</p> </li><li> <p>socket=/var/lib/mysql/mysql.sock<br> 套接字文件<br> 作用: 接收本地客户端的访问请求<br> 如果要修改套接字文件的位置，会影响客户端的连接登录，为方便客户端连接登录，可以在配置文件中为客户端指定套接字文件</p> </li></ul> 
<blockquote> 
 <p>[client]<br> socket=/mysql/data/mysql.sock</p> 
</blockquote> 
<ul><li> <p>log-error=<br> 指定错误日志</p> </li><li> <p>pid-file=<br> 指定pid文件</p> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dc47b0a743d6fb61a5726eaf1601a7b8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据结构：队列</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fd6e55d6dfb755ffecc7ea779fb5f544/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据结构：线性表(详解)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
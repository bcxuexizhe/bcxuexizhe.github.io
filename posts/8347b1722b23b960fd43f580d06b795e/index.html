<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>string类的介绍与使用【C&#43;&#43;】 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/8347b1722b23b960fd43f580d06b795e/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="string类的介绍与使用【C&#43;&#43;】">
  <meta property="og:description" content="string类 前言一、为什么学习string类C语言中的字符串示例 二、标准库中的string类string类string类的常用接口说明string类对象的常见构造string类对象的容量操作string的接口测试及使用string类对象的访问及遍历操作下标和方括号遍历范围for遍历迭代器遍历相同的代码，在不同的编译器有不同的空间 string类对象的修改操作string类非成员函数vs和g&#43;&#43;下string结构的说明示例例一例二例三例四例五其他 三、string类的模拟实现经典的string类问题浅拷贝深拷贝传统版写法的String类现代版写法的String类 写时拷贝string类的模拟实现 四、扩展文章sortvs编译器string的扩容总结扩容优化留存空间 g&#43;&#43;编译器string的扩容capacity（）reserve()resize（）shrink_to_fitatinserterasenpos解决c&#43;&#43;默认遇到空格和换行就结束的问题getline()循环 to_stringstoi 前言 推荐一个网站给想要了解或者学习人工智能知识的读者，这个网站里内容讲解通俗易懂且风趣幽默，对我帮助很大。我想与大家分享这个宝藏网站，请点击下方链接查看。
https://www.captainbed.cn/f1
string 类是编程语言中用于表示和操作字符串的基本数据类型或类。它提供了一系列方法和操作，允许开发者对字符串进行创建、修改、查找、比较、转换等。string 类通常具有不可变性，意味着一旦创建了字符串对象，其内容就不能被修改，但可以创建新的字符串对象来表示修改后的内容。这种特性有助于在多线程环境中保持数据的安全性。string 类还提供了各种构造函数、操作符重载和格式化功能，使字符串操作更加灵活和高效。
在C&#43;&#43;中，string类函数的长度范围可以是非法的，但不建议用。
一、为什么学习string类 C语言中的字符串 C语言中，字符串是以&#39;\0&#39;结尾的一些字符的集合，为了操作方便，C标准库中提供了一些str系列的库函数，但是这些库函数与字符串是分离开的，不太符合OOP的思想，而且底层空间需要用户自己管理，稍不留神可能还会越界访问。
示例 把字符串转换成整数
字符串相加
在OJ中，有关字符串的题目基本以string类的形式出现，而且在常规工作中，为了简单、方便、快捷，基本都使用string类，很少有人去使用C库中的字符串操作函数。
二、标准库中的string类 string类 string类的文档介绍
字符串是表示字符序列的类标准的字符串类提供了对此类对象的支持，其接口类似于标准字符容器的接口，但添加了专门用于操作单字节字符字符串的设计特性。string类是使用char(即作为它的字符类型，使用它的默认char_traits和分配器类型(关于模板的更多信息，请参阅basic_string)。string类是basic_string模板类的一个实例，它使用char来实例化basic_string模板类，并用char_traits和allocator作为basic_string的默认参数(根于更多的模板信息请参考basic_string)。注意，这个类独立于所使用的编码来处理字节:如果用来处理多字节或变长字符(如UTF-8)的序列，这个类的所有成员(如长度或大小)以及它的迭代器，将仍然按照字节(而不是实际编码的字符)来操作。 总结
string是表示字符串的字符串类该类的接口与常规容器的接口基本相同，再添加了一些专门用来操作string的常规操作。string在底层实际是：basic_string模板类的别名t typedef basic_string&lt;char, char_traits, allocator&gt; string; 不能操作多字节或者变长字符的序列。 在使用string类时，必须包含#include头文件以及using namespace std;
string类的常用接口说明 string类对象的常见构造 函数名称（constructor）功能说明string()构造空的string类对象，即空字符串string(const char* s)用C-string来构造string类对象string(size_t n, char c)string类对象中包含n个字符cstring(const string&amp;s)拷贝构造函数 void Teststring() { string s1; // 构造空的string类对象s1 string s2(&#34;hello bit&#34;); // 用C格式字符串构造string类对象s2 string s3(s2); // 拷贝构造s3 } string类对象的容量操作 函数名称功能说明size返回字符串有效字符长度length返回字符串有效字符长度capacity返回空间总大小empty检测字符串释放为空串，是返回true，否则返回falseclear清空有效字符reserve为字符串预留空间**resize将有效字符的个数该成n个，多出的空间用字符c填充 在C&#43;&#43;中，string类有两个成员函数size()和length()，它们都用于返回字符串的长度，但它们之间没有区别，可以互换使用。这是因为C&#43;&#43;标准库中的string类是基于字符数组实现的，它们都返回的是存储在string对象中的字符个数。因此，在C&#43;&#43;中，size()和length()函数可以互相替代使用，没有区别。
string的接口测试及使用 #define _CRT_SECURE_NO_WARNINGS #include &lt;iostream&gt; using namespace std; #include &lt;string&gt; // 测试string容量相关的接口 // size/clear/resize void Teststring1() { // 注意：string类对象支持直接用cin和cout进行输入和输出 string s(&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-24T21:46:05+08:00">
    <meta property="article:modified_time" content="2024-05-24T21:46:05+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">string类的介绍与使用【C&#43;&#43;】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>string类</h4> 
 <ul><li><a href="#_3" rel="nofollow">前言</a></li><li><a href="#string_15" rel="nofollow">一、为什么学习string类</a></li><li><ul><li><a href="#C_17" rel="nofollow">C语言中的字符串</a></li><li><a href="#_20" rel="nofollow">示例</a></li></ul> 
  </li><li><a href="#string_26" rel="nofollow">二、标准库中的string类</a></li><li><ul><li><a href="#string_27" rel="nofollow">string类</a></li><li><a href="#string_52" rel="nofollow">string类的常用接口说明</a></li><li><ul><li><a href="#string_54" rel="nofollow">string类对象的常见构造</a></li><li><a href="#string_70" rel="nofollow">string类对象的容量操作</a></li><li><a href="#string_83" rel="nofollow">string的接口测试及使用</a></li><li><a href="#string_289" rel="nofollow">string类对象的访问及遍历操作</a></li><li><ul><li><a href="#_304" rel="nofollow">下标和方括号遍历</a></li><li><a href="#for_324" rel="nofollow">范围for遍历</a></li><li><a href="#_361" rel="nofollow">迭代器遍历</a></li><li><a href="#_402" rel="nofollow">相同的代码，在不同的编译器有不同的空间</a></li></ul> 
    </li><li><a href="#string_411" rel="nofollow">string类对象的修改操作</a></li><li><a href="#string_440" rel="nofollow">string类非成员函数</a></li><li><a href="#vsgstring_451" rel="nofollow">vs和g++下string结构的说明</a></li><li><a href="#_488" rel="nofollow">示例</a></li><li><ul><li><a href="#_489" rel="nofollow">例一</a></li><li><a href="#_526" rel="nofollow">例二</a></li><li><a href="#_550" rel="nofollow">例三</a></li><li><a href="#_571" rel="nofollow">例四</a></li><li><a href="#_617" rel="nofollow">例五</a></li><li><a href="#_669" rel="nofollow">其他</a></li></ul> 
   </li></ul> 
  </li></ul> 
  </li><li><a href="#string_675" rel="nofollow">三、string类的模拟实现</a></li><li><ul><li><a href="#string_677" rel="nofollow">经典的string类问题</a></li><li><a href="#_729" rel="nofollow">浅拷贝</a></li><li><a href="#_739" rel="nofollow">深拷贝</a></li><li><ul><li><a href="#String_744" rel="nofollow">传统版写法的String类</a></li><li><a href="#String_791" rel="nofollow">现代版写法的String类</a></li></ul> 
   </li><li><a href="#_843" rel="nofollow">写时拷贝</a></li><li><a href="#string_853" rel="nofollow">string类的模拟实现</a></li></ul> 
  </li><li><a href="#_1084" rel="nofollow">四、扩展</a></li><li><ul><li><a href="#_1086" rel="nofollow">文章</a></li><li><a href="#sort_1093" rel="nofollow">sort</a></li><li><a href="#vsstring_1140" rel="nofollow">vs编译器string的扩容</a></li><li><ul><li><a href="#_1154" rel="nofollow">总结</a></li><li><ul><li><a href="#_1155" rel="nofollow">扩容优化</a></li><li><a href="#_1166" rel="nofollow">留存空间</a></li></ul> 
   </li></ul> 
   </li><li><a href="#gstring_1176" rel="nofollow">g++编译器string的扩容</a></li><li><a href="#capacity_1180" rel="nofollow">capacity（）</a></li><li><a href="#reserve_1215" rel="nofollow">reserve()</a></li><li><a href="#resize_1243" rel="nofollow">resize（）</a></li><li><a href="#shrink_to_fit_1280" rel="nofollow">shrink_to_fit</a></li><li><a href="#at_1327" rel="nofollow">at</a></li><li><a href="#insert_1375" rel="nofollow">insert</a></li><li><a href="#erase_1409" rel="nofollow">erase</a></li><li><a href="#npos_1429" rel="nofollow">npos</a></li><li><a href="#c_1432" rel="nofollow">解决c++默认遇到空格和换行就结束的问题</a></li><li><ul><li><a href="#getline_1437" rel="nofollow">getline()</a></li><li><a href="#_1467" rel="nofollow">循环</a></li></ul> 
   </li><li><a href="#to_string_1487" rel="nofollow">to_string</a></li><li><a href="#stoi_1532" rel="nofollow">stoi</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_3"></a>前言</h2> 
<p>推荐一个网站给想要了解或者学习<a href="https://www.captainbed.cn/f1" rel="nofollow">人工智能知识</a>的读者，这个网站里内容讲解通俗易懂且风趣幽默，对我帮助很大。我想与大家分享这个宝藏网站，请点击下方链接查看。<br> <a href="https://www.captainbed.cn/f1" rel="nofollow">https://www.captainbed.cn/f1</a></p> 
<p><code>string</code> 类是编程语言中用于表示和操作字符串的基本数据类型或类。它提供了一系列方法和操作，允许开发者对字符串进行创建、修改、查找、比较、转换等。<code>string</code> 类通常具有不可变性，意味着一旦创建了字符串对象，其内容就不能被修改，但可以创建新的字符串对象来表示修改后的内容。这种特性有助于在多线程环境中保持数据的安全性。<code>string</code> 类还提供了各种构造函数、操作符重载和格式化功能，使字符串操作更加灵活和高效。</p> 
<p>在C++中，<code>string</code>类函数的长度范围可以是非法的，但不建议用。</p> 
<hr> 
<h2><a id="string_15"></a>一、为什么学习string类</h2> 
<h3><a id="C_17"></a>C语言中的字符串</h3> 
<p>C语言中，字符串是以<code>'\0'</code>结尾的一些字符的集合，为了操作方便，C标准库中提供了一些<code>str</code>系列的库函数，但是这些库函数与字符串是分离开的，不太符合OOP的思想，而且底层空间需要用户自己管理，稍不留神可能还会越界访问。</p> 
<h3><a id="_20"></a>示例</h3> 
<p><a href="https://leetcode.cn/problems/ba-zi-fu-chuan-zhuan-huan-cheng-zheng-shu-lcof/description/" rel="nofollow">把字符串转换成整数</a><br> <a href="https://leetcode.cn/problems/add-strings/description/" rel="nofollow">字符串相加</a></p> 
<p>在OJ中，有关字符串的题目基本以<code>string</code>类的形式出现，而且在常规工作中，为了简单、方便、快捷，基本都使用<code>string</code>类，很少有人去使用C库中的字符串操作函数。</p> 
<h2><a id="string_26"></a>二、标准库中的string类</h2> 
<h3><a id="string_27"></a>string类</h3> 
<p><a href="https://cplusplus.com/reference/string/string/?kw=string" rel="nofollow"><code>string</code>类的文档介绍</a></p> 
<ol><li>字符串是表示字符序列的类</li><li>标准的字符串类提供了对此类对象的支持，其接口类似于标准字符容器的接口，但添加了专门用于操作单字节字符字符串的设计特性。</li><li><code>string</code>类是使用<code>char</code>(即作为它的字符类型，使用它的默认<code>char_traits</code>和分配器类型(关于模板的更多信息，请参阅<code>basic_string</code>)。</li><li><code>string</code>类是<code>basic_string</code>模板类的一个实例，它使用<code>char</code>来实例化<code>basic_string</code>模板类，并用<code>char_traits</code>和<code>allocator</code>作为<code>basic_string</code>的默认参数(根于更多的模板信息请参考<code>basic_string</code>)。</li><li>注意，这个类独立于所使用的编码来处理字节:如果用来处理多字节或变长字符(如UTF-8)的序列，这个类的所有成员(如长度或大小)以及它的迭代器，将仍然按照字节(而不是实际编码的字符)来操作。</li></ol> 
<p>总结</p> 
<ol><li><code>string</code>是表示字符串的字符串类</li><li>该类的接口与常规容器的接口基本相同，再添加了一些专门用来操作<code>string</code>的常规操作。</li><li><code>string</code>在底层实际是：<code>basic_string</code>模板类的别名t</li></ol> 
<pre><code class="prism language-cpp"><span class="token keyword">typedef</span> basic_string<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> char_traits<span class="token punctuation">,</span> allocator<span class="token operator">&gt;</span>
string<span class="token punctuation">;</span>
</code></pre> 
<ol start="4"><li>不能操作多字节或者变长字符的序列。</li></ol> 
<p>在使用<code>string</code>类时，必须包含<code>#include</code>头文件以及<code>using namespace std;</code></p> 
<h3><a id="string_52"></a>string类的常用接口说明</h3> 
<h4><a id="string_54"></a>string类对象的常见构造</h4> 
<table><thead><tr><th>函数名称（<a href="https://cplusplus.com/reference/string/string/string/" rel="nofollow">constructor</a>）</th><th>功能说明</th></tr></thead><tbody><tr><td><code>string()</code></td><td>构造空的<code>string</code>类对象，即空字符串</td></tr><tr><td><code>string(const char* s)</code></td><td>用<code>C-string</code>来构造<code>string</code>类对象</td></tr><tr><td><code>string(size_t n, char c)</code></td><td><code>string</code>类对象中包含<code>n</code>个字符<code>c</code></td></tr><tr><td><code>string(const string&amp;s)</code></td><td>拷贝构造函数</td></tr></tbody></table> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">Teststring</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string s1<span class="token punctuation">;</span> <span class="token comment">// 构造空的string类对象s1</span>
	string <span class="token function">s2</span><span class="token punctuation">(</span><span class="token string">"hello bit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用C格式字符串构造string类对象s2</span>
	string <span class="token function">s3</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 拷贝构造s3</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="string_70"></a>string类对象的容量操作</h4> 
<table><thead><tr><th>函数名称</th><th>功能说明</th></tr></thead><tbody><tr><td><a href="https://cplusplus.com/reference/string/string/size/" rel="nofollow">size</a></td><td>返回字符串有效字符长度</td></tr><tr><td><a href="https://cplusplus.com/reference/string/string/length/" rel="nofollow">length</a></td><td>返回字符串有效字符长度</td></tr><tr><td><a href="https://cplusplus.com/reference/string/string/capacity/" rel="nofollow">capacity</a></td><td>返回空间总大小</td></tr><tr><td><a href="https://cplusplus.com/reference/string/string/empty/" rel="nofollow">empty</a></td><td>检测字符串释放为空串，是返回<code>true</code>，否则返回<code>false</code></td></tr><tr><td><a href="https://cplusplus.com/reference/string/string/clear/" rel="nofollow">clear</a></td><td>清空有效字符</td></tr><tr><td><a href="https://cplusplus.com/reference/string/string/reserve/" rel="nofollow">reserve</a></td><td>为字符串预留空间**</td></tr><tr><td><a href="https://cplusplus.com/reference/string/string/resize/" rel="nofollow">resize</a></td><td>将有效字符的个数该成<code>n</code>个，多出的空间用字符<code>c</code>填充</td></tr></tbody></table> 
<p>在C++中，<code>string</code>类有两个成员函数<code>size()</code>和<code>length()</code>，它们都用于返回字符串的长度，但它们之间没有区别，可以互换使用。这是因为C++标准库中的<code>string</code>类是基于字符数组实现的，它们都返回的是存储在<code>string</code>对象中的字符个数。因此，在C++中，<code>size()</code>和<code>length()</code>函数可以互相替代使用，没有区别。</p> 
<h4><a id="string_83"></a>string的接口测试及使用</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token comment"></span>
<span class="token comment">// 测试string容量相关的接口</span>
<span class="token comment">// size/clear/resize</span>
<span class="token keyword">void</span> <span class="token function">Teststring1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 注意：string类对象支持直接用cin和cout进行输入和输出</span>
	string <span class="token function">s</span><span class="token punctuation">(</span><span class="token string">"hello, bit!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 将s中的字符串清空，注意清空时只是将size清0，不改变底层空间的大小</span>
	s<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 将s中有效字符个数增加到10个，多出位置用'a'进行填充</span>
	<span class="token comment">// “aaaaaaaaaa”</span>
	s<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 将s中有效字符个数增加到15个，多出位置用缺省值'\0'进行填充</span>
	<span class="token comment">// "aaaaaaaaaa\0\0\0\0\0"</span>
	<span class="token comment">// 注意此时s中有效字符个数已经增加到15个</span>
	s<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 将s中有效字符个数缩小到5个</span>
	s<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//====================================================================================</span>
<span class="token keyword">void</span> <span class="token function">Teststring2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string s<span class="token punctuation">;</span>
	<span class="token comment">// 测试reserve是否会改变string中有效元素个数</span>
	s<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 测试reserve参数小于string的底层空间大小时，是否会将空间缩小</span>
	s<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 利用reserve提高插入数据的效率，避免增容带来的开销</span>
<span class="token comment">//====================================================================================</span>
<span class="token keyword">void</span> <span class="token function">TestPushBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string s<span class="token punctuation">;</span>
	size_t sz <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"making s grow:\n"</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>sz <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			sz <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">"capacity changed: "</span> <span class="token operator">&lt;&lt;</span> sz <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 构建vector时，如果提前已经知道string中大概要放多少个元素，可以提前将string中空间设置好</span>
<span class="token keyword">void</span> <span class="token function">TestPushBackReserve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string s<span class="token punctuation">;</span>
	s<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	size_t sz <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"making s grow:\n"</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		s<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>sz <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			sz <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			cout <span class="token operator">&lt;&lt;</span> <span class="token string">"capacity changed: "</span> <span class="token operator">&lt;&lt;</span> sz <span class="token operator">&lt;&lt;</span> <span class="token char">'\n'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment"></span>
<span class="token comment">// string的遍历</span>
<span class="token comment">// begin()+end()   for+[]  范围for</span>
<span class="token comment">// 注意：string遍历时使用最多的还是for+下标 或者 范围for(C++11后才支持)</span>
<span class="token comment">// begin()+end()大多数使用在需要使用STL提供的算法操作string时，比如：采用reverse逆置string</span>
<span class="token keyword">void</span> <span class="token function">Teststring3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"hello Bit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> string <span class="token function">s2</span><span class="token punctuation">(</span><span class="token string">"Hello Bit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> s2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> s2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'H'</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// s2[0] = 'h';   代码编译失败，因为const类型对象不能修改</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Teststring4</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string <span class="token function">s</span><span class="token punctuation">(</span><span class="token string">"hello Bit"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 3种遍历方式：</span>
	<span class="token comment">// 需要注意的以下三种方式除了遍历string对象，还可以遍历是修改string中的字符，</span>
	<span class="token comment">// 另外以下三种方式对于string而言，第一种使用最多</span>
	<span class="token comment">// 1. for+operator[]</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 2.迭代器</span>
	string<span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// string::reverse_iterator rit = s.rbegin();</span>
	<span class="token comment">// C++11之后，直接使用auto定义迭代器，让编译器推到迭代器的类型</span>
	<span class="token keyword">auto</span> rit <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>rit <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>rit <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 3.范围for</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> ch <span class="token operator">:</span> s<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//</span>
<span class="token comment">// 测试string：</span>
<span class="token comment">// 1. 插入(拼接)方式：push_back  append  operator+= </span>
<span class="token comment">// 2. 正向和反向查找：find() + rfind()</span>
<span class="token comment">// 3. 截取子串：substr()</span>
<span class="token comment">// 4. 删除：erase</span>
<span class="token keyword">void</span> <span class="token function">Teststring5</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string str<span class="token punctuation">;</span>
	str<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 在str后插入空格</span>
	str<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 在str后追加一个字符"hello"</span>
	str <span class="token operator">+=</span> <span class="token char">'b'</span><span class="token punctuation">;</span>           <span class="token comment">// 在str后追加一个字符'b'   </span>
	str <span class="token operator">+=</span> <span class="token string">"it"</span><span class="token punctuation">;</span>          <span class="token comment">// 在str后追加一个字符串"it"</span>
	cout <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> str<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment">// 以C语言的方式打印字符串</span>

	<span class="token comment">// 获取file的后缀</span>
	string <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">"string.cpp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	size_t pos <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">rfind</span><span class="token punctuation">(</span><span class="token char">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	string <span class="token function">suffix</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pos<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> suffix <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// npos是string里面的一个静态成员变量</span>
	<span class="token comment">// static const size_t npos = -1;</span>

	<span class="token comment">// 取出url中的域名</span>
	string <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"http://www.cplusplus.com/reference/string/string/find/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> url <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	size_t start <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"://"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">==</span> string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"invalid url"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	start <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	size_t finish <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token char">'/'</span><span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
	string address <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> finish <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> address <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 删除url的协议前缀</span>
	pos <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"://"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	url<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> pos <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> url <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>注意：</p> 
<ol><li><code>size()</code>与<code>length()</code>方法底层实现原理完全相同，引入<code>size()</code>的原因是为了与其他容器的接口保持一致，一般情况下基本都是用<code>size()</code>。</li><li><code>clear()</code>只是将<code>string</code>中有效字符清空，不改变底层空间大小。</li><li><code>resize(size_t n)</code> 与 <code>resize(size_t n, char c)</code>都是将字符串中有效字符个数改变到<code>n</code>个，不同的是当字符个数增多时：<code>resize(n)</code>用0来填充多出的元素空间，<code>resize(size_t n, char c)</code>用字符<code>c</code>来填充多出的元素空间。<br> 注意：<code>resize</code>在改变元素个数时，如果是将元素个数增多，可能会改变底层容量的大小，如果是将元素个数减少，底层空间总大小不变。</li><li><code>reserve(size_t res_arg=0)</code>：为<code>string</code>预留空间，不改变有效元素个数，当<code>reserve</code>的参数小于<code>string</code>的底层空间总大小时，<code>reserver</code>不会改变容量大小。</li></ol> 
<h4><a id="string_289"></a>string类对象的访问及遍历操作</h4> 
<table><thead><tr><th align="center">函数名称</th><th align="left">功能说明</th></tr></thead><tbody><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/operator%5B%5D/" rel="nofollow">operator[ ]</a></td><td align="left">返回<code>pos</code>位置的字符，<code>const string</code>类对象调用</td></tr><tr><td align="center"><a href="http://www.cplusplus.com/reference/string/string/begin/" rel="nofollow">begin</a> + <a href="https://cplusplus.com/reference/string/string/end/" rel="nofollow">end</a></td><td align="left"><code>begin</code>获取一个字符的迭代器 + <code>end</code>获取最后一个字符下一个位置的迭代器</td></tr><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/rbegin/" rel="nofollow">rbegin</a>+<a href="https://cplusplus.com/reference/string/string/rend/" rel="nofollow">rend</a></td><td align="left"><code>rbegin</code>获取最后一个字符的迭代器 + <code>rend</code>获取第一个字符位置的迭代器</td></tr><tr><td align="center">范围<code>for</code></td><td align="left">C++11支持更简洁的范围<code>for</code>的新遍历方式</td></tr></tbody></table> 
<p>ps: c++重载两个<code>operator[]</code>,为什么不会报错呢？是因为外部<code>const</code>的存在导致两个重载参数不一样，构成函数重载</p> 
<p><img src="https://images2.imgbox.com/a0/ee/M9NftOs2_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/74/c5/8NzUBPm5_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_304"></a>下标和方括号遍历</h5> 
<p>以下是一个使用C ++的示例，使用下标和方括号来遍历<code>string</code>类的示例：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    std<span class="token double-colon punctuation">::</span>string str <span class="token operator">=</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span>

    <span class="token comment">// 使用下标和方括号遍历string类</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这段代码创建了一个名为<code>str</code>的字符串，其中包含<code>“Hello, World！”</code>的文本。然后，使用<code>for</code>循环遍历字符串中的每个字符。循环变量<code>i</code>从<code>0</code>开始，直到字符串的长度（使用<code>str.length()</code>获得）。在循环体中，通过<code>str[i]</code>使用下标和方括号来访问字符串中的字符，并使用<code>std::cout</code>将其打印到控制台上。</p> 
<h5><a id="for_324"></a>范围for遍历</h5> 
<p>以下是一个示例，演示了如何使用<code>for</code>循环遍历字符串，并将每个字符打印出来：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 一个字符串示例</span>
    std<span class="token double-colon punctuation">::</span>string myString <span class="token operator">=</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span>

    <span class="token comment">// 使用for循环遍历字符串</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> ch <span class="token operator">:</span> myString<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行上述代码，会将字符串中的每个字符打印出来：</p> 
<pre><code class="prism language-c++">H
e
l
l
o
,
 
W
o
r
l
d
!
</code></pre> 
<h5><a id="_361"></a>迭代器遍历</h5> 
<p>以下是一个示例，演示了如何使用迭代器遍历字符串，并将每个字符打印出来：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 一个字符串示例</span>
    std<span class="token double-colon punctuation">::</span>string myString <span class="token operator">=</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span>

    <span class="token comment">// 使用迭代器遍历字符串</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>string<span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> myString<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> myString<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>it<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token operator">*</span>it<span class="token punctuation">;</span> <span class="token comment">// 获取迭代器指向的字符</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>运行上述代码，会将字符串中的每个字符打印出来：</p> 
<pre><code class="prism language-C++">H
e
l
l
o
,
 
W
o
r
l
d
!
</code></pre> 
<p>在这个示例中，我们使用了迭代器来遍历字符串。通过调用<code>myString.begin()</code>和<code>myString.end()</code>，我们分别获得了字符串的起始和结束迭代器。在每一次循环中，我们通过<code>*it</code>操作符获取迭代器指向的字符，并将其打印出来。然后，迭代器<code>it</code>向前移动到下一个位置，直到达到字符串的末尾为止。</p> 
<h5><a id="_402"></a>相同的代码，在不同的编译器有不同的空间</h5> 
<p><img src="https://images2.imgbox.com/7b/09/rXRWDBSo_o.png" alt="在这里插入图片描述"><br> 这段代码主要包含两个问题。第一个问题是输出 <code>std::string::iterator</code> 的类型名，第二个问题是输出 <code>std::string</code> 对象的大小，并且说明为什么在不同编译器下结果不同。</p> 
<p>首先，输出 <code>std::string::iterator</code> 的类型名，可以使用 <code>typeid</code> 运算符。<code>typeid</code> 运算符可以应用于任意表达式，返回该表达式的类型信息，类型信息可以使用 <code>type_info</code> 类来表示，其中包含了类型的名称等信息。因此，<code>typeid(std::string::iterator).name()</code> 的作用就是获取 <code>std::string::iterator</code> 的类型名，并输出到标准输出流中。</p> 
<p>而对于第二个问题，<code>std::string</code> 是一个标准库提供的类模板，通常情况下在不同的编译器下，<code>std::string</code> 的实现是不同的。因此，<code>sizeof(s2)</code> 的结果在不同的编译器下也会有所不同。不同的编译器可能会有不同的实现方式和优化策略，例如内部缓存、内存对齐、空间预分配等。另外，不同的编译器还可能配置不同的编译选项和版本，这些也可能影响到 <code>std::string</code> 的实现和大小。</p> 
<p>因此，如果在不同的编译器下运行相同的代码，可能会得到不同的结果。这不一定是问题，只是反映了实现和优化的差异。如果需要在不同的编译器和平台上保证代码的可移植性，需要避免直接依赖于具体的实现细节，而是使用标准库提供的接口和规范</p> 
<h4><a id="string_411"></a>string类对象的修改操作</h4> 
<table><thead><tr><th align="center">函数名称</th><th align="left">功能说明</th></tr></thead><tbody><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/push_back/" rel="nofollow">push_back</a></td><td align="left">在字符串后尾插字符<code>c</code></td></tr><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/append/" rel="nofollow">append</a></td><td align="left">在字符串后追加一个字符串</td></tr><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/operator+=/" rel="nofollow">operator+=</a></td><td align="left">在字符串后追加字符串<code>str</code></td></tr><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/c_str/" rel="nofollow">c_str</a></td><td align="left">返回<code>C</code>格式字符串</td></tr><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/find/#google_vignette" rel="nofollow">find</a> + <a href="https://cplusplus.com/reference/string/string/npos/" rel="nofollow">npos</a></td><td align="left">从字符串<code>pos</code>位置开始往后找字符<code>c</code>，返回该字符在字符串中的位置</td></tr><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/rfind/" rel="nofollow">rfind</a></td><td align="left">从字符串<code>pos</code>位置开始往前找字符<code>c</code>，返回该字符在字符串中的位置</td></tr><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/substr/" rel="nofollow">substr</a></td><td align="left">在<code>str</code>中从<code>pos</code>位置开始，截取<code>n</code>个字符，然后将其返回</td></tr></tbody></table> 
<p><img src="https://images2.imgbox.com/21/c2/l3GZpzYY_o.png" alt="在这里插入图片描述"><br> 最常用的形式如下</p> 
<pre><code class="prism language-cpp">s1 <span class="token operator">+=</span> <span class="token char">'y'</span><span class="token punctuation">;</span>
s1 <span class="token operator">+=</span><span class="token char">'yyyyyyyyyyyyyyyyyy'</span><span class="token punctuation">;</span>

string <span class="token function">s2</span> <span class="token punctuation">(</span><span class="token string">"11111111111"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s1 <span class="token operator">+=</span> s2<span class="token punctuation">;</span>
</code></pre> 
<p>注意：</p> 
<ol><li>在<code>string</code>尾部追加字符时，<code>s.push_back( c ) / s.append(1, c) / s += 'c'</code>三种的实现方式差不多，一般情况下<code>string</code>类的<code>+=</code>操作用的比较多，<code>+=</code>操作不仅可以连接单个字符，还可以连接字符串。</li><li>对<code>string</code>操作时，如果能够大概预估到放多少字符，可以先通过<code>reserve</code>把空间预留好。</li></ol> 
<h4><a id="string_440"></a>string类非成员函数</h4> 
<table><thead><tr><th align="center">函数</th><th align="left">功能说明</th></tr></thead><tbody><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/operator+/" rel="nofollow">operator+</a></td><td align="left">尽量少用，因为传值返回，导致深拷贝效率低</td></tr><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/operator%3E%3E/" rel="nofollow">operator&gt;&gt;</a></td><td align="left">输入运算符重载</td></tr><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/operator%3C%3C/" rel="nofollow">operator&lt;&lt;</a></td><td align="left">输出运算符重载</td></tr><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/getline/" rel="nofollow">getline</a></td><td align="left">获取一行字符串</td></tr><tr><td align="center"><a href="https://cplusplus.com/reference/string/string/operators/" rel="nofollow">relational operators</a></td><td align="left">大小比较</td></tr></tbody></table> 
<p>上面的几个接口大家了解一下，下面的OJ题目中会有一些体现他们的使用。<code>string</code>类中还有一些其他的操作，这里不一一列举，大家在需要用到时不明白了查文档即可。</p> 
<h4><a id="vsgstring_451"></a>vs和g++下string结构的说明</h4> 
<p>ps:下述结构是在32位平台下进行验证，32位平台下指针占4个字节。</p> 
<ul><li><code>vs</code>下<code>string</code>的结构<br> <code>string</code>总共占28个字节，内部结构稍微复杂一点，先是有一个联合体，联合体用来定义<code>string</code>中字符串的存储空间： 
  <ul><li>当字符串长度小于16时，使用内部固定的字符数组来存放</li><li>当字符串长度大于等于16时，从堆上开辟空间</li></ul> </li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">union</span> _Bxty
<span class="token punctuation">{<!-- --></span> <span class="token comment">// storage for small buffer or pointer to larger one</span>
	value_type _Buf<span class="token punctuation">[</span>_BUF_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
	pointer _Ptr<span class="token punctuation">;</span>
	<span class="token keyword">char</span> _Alias<span class="token punctuation">[</span>_BUF_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// to permit aliasing</span>
<span class="token punctuation">}</span> _Bx<span class="token punctuation">;</span>
</code></pre> 
<p>这种设计也是有一定道理的，大多数情况下字符串的长度都小于16，那<code>string</code>对象创建好之后，内部已经有了16个字符数组的固定空间，不需要通过堆创建，效率高。<br> 其次：还有一个<code>size_t</code>字段保存字符串长度，一个<code>size_t</code>字段保存从堆上开辟空间总的容量<br> 最后：还有一个指针做一些其他事情。<br> 故总共占16+4+4+4=28个字节。<br> <img src="https://images2.imgbox.com/cc/22/gnA4wZrB_o.png" alt="在这里插入图片描述"></p> 
<ul><li><code>g++</code>下<code>string</code>的结构<br> <code>G++</code>下，<code>string</code>是通过写时拷贝实现的，<code>string</code>对象总共占4个字节，内部只包含了一个指针，该指针将来指向一块堆空间，内部包含了如下字段： 
  <ul><li> <p>空间总大小</p> </li><li> <p>字符串有效长度</p> </li><li> <p>引用计数</p> </li><li> <p>指向堆空间的指针，用来存储字符串。</p> </li></ul> </li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">struct</span> <span class="token class-name">_Rep_base</span>
<span class="token punctuation">{<!-- --></span>
	size_type _M_length<span class="token punctuation">;</span>
	size_type _M_capacity<span class="token punctuation">;</span>
	_Atomic_word _M_refcount<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_488"></a>示例</h4> 
<h5><a id="_489"></a>例一</h5> 
<p><a href="https://leetcode.cn/problems/reverse-only-letters/description/" rel="nofollow">仅仅反转字母</a></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">bool</span> <span class="token function">isLetter</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">&gt;=</span> <span class="token char">'a'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token char">'z'</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">&gt;=</span> <span class="token char">'A'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token char">'Z'</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	string <span class="token function">reverseOnlyLetters</span><span class="token punctuation">(</span>string S<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>S<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> S<span class="token punctuation">;</span>

		size_t begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> end <span class="token operator">=</span> S<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isLetter</span><span class="token punctuation">(</span>S<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token operator">++</span>begin<span class="token punctuation">;</span>

			<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isLetter</span><span class="token punctuation">(</span>S<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token operator">--</span>end<span class="token punctuation">;</span>

			<span class="token function">swap</span><span class="token punctuation">(</span>S<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">,</span> S<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token operator">++</span>begin<span class="token punctuation">;</span>
			<span class="token operator">--</span>end<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> S<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_526"></a>例二</h5> 
<p><a href="https://leetcode.cn/problems/first-unique-character-in-a-string/description/" rel="nofollow">字符串中的第一个唯一字符</a></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">int</span> <span class="token function">firstUniqChar</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

		<span class="token comment">// 统计每个字符出现的次数</span>
		<span class="token keyword">int</span> count<span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> size <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
			count<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>

		<span class="token comment">// 按照字符次序从前往后找只出现一次的字符</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> count<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
				<span class="token keyword">return</span> i<span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_550"></a>例三</h5> 
<p><a href="https://www.nowcoder.com/practice/8c949ea5f36f422594b306a2300315da?tpId=37&amp;&amp;tqId=21224&amp;rp=5&amp;ru=/activity/oj&amp;qru=/ta/huawei/question-ranking" rel="nofollow">字符串最后一个单词的长度</a></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;string&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string line<span class="token punctuation">;</span>
	<span class="token comment">// 不要使用cin&gt;&gt;line,因为会它遇到空格就结束了</span>
	<span class="token comment">// while(cin&gt;&gt;line)</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		size_t pos <span class="token operator">=</span> line<span class="token punctuation">.</span><span class="token function">rfind</span><span class="token punctuation">(</span><span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> line<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> pos <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_571"></a>例四</h5> 
<p><a href="https://leetcode.cn/problems/valid-palindrome/description/" rel="nofollow">验证回文串</a></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">bool</span> <span class="token function">isLetterOrNumber</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>ch <span class="token operator">&gt;=</span> <span class="token char">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token char">'9'</span><span class="token punctuation">)</span>
			<span class="token operator">||</span> <span class="token punctuation">(</span>ch <span class="token operator">&gt;=</span> <span class="token char">'a'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token char">'z'</span><span class="token punctuation">)</span>
			<span class="token operator">||</span> <span class="token punctuation">(</span>ch <span class="token operator">&gt;=</span> <span class="token char">'A'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token char">'Z'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">bool</span> <span class="token function">isPalindrome</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 先小写字母转换成大写，再进行判断</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> ch <span class="token operator">:</span> s<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">&gt;=</span> <span class="token char">'a'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token char">'z'</span><span class="token punctuation">)</span>
				ch <span class="token operator">-=</span> <span class="token number">32</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">int</span> begin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> end <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isLetterOrNumber</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>begin<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token operator">++</span>begin<span class="token punctuation">;</span>

			<span class="token keyword">while</span> <span class="token punctuation">(</span>begin <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isLetterOrNumber</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token operator">--</span>end<span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>begin<span class="token punctuation">]</span> <span class="token operator">!=</span> s<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>

				<span class="token operator">++</span>begin<span class="token punctuation">;</span>
				<span class="token operator">--</span>end<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_617"></a>例五</h5> 
<p><a href="https://leetcode.cn/problems/add-strings/description/" rel="nofollow">字符串相加</a></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	string <span class="token function">addstrings</span><span class="token punctuation">(</span>string num1<span class="token punctuation">,</span> string num2<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 从后往前相加，相加的结果到字符串可以使用insert头插</span>
		<span class="token comment">// 或者+=尾插以后再reverse过来</span>
		<span class="token keyword">int</span> end1 <span class="token operator">=</span> num1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> end2 <span class="token operator">=</span> num2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">int</span> value1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> value2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> next <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		string addret<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>end1 <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">||</span> end2 <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>end1 <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
				value1 <span class="token operator">=</span> num1<span class="token punctuation">[</span>end1<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>
			<span class="token keyword">else</span>
				value1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span>end2 <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span>
				value2 <span class="token operator">=</span> num2<span class="token punctuation">[</span>end2<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>
			<span class="token keyword">else</span>
				value2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

			<span class="token keyword">int</span> valueret <span class="token operator">=</span> value1 <span class="token operator">+</span> value2 <span class="token operator">+</span> next<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>valueret <span class="token operator">&gt;</span> <span class="token number">9</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				next <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
				valueret <span class="token operator">-=</span> <span class="token number">10</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">else</span>
			<span class="token punctuation">{<!-- --></span>
				next <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">//addret.insert(addret.begin(), valueret+'0');</span>
			addret <span class="token operator">+=</span> <span class="token punctuation">(</span>valueret <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>next <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">//addret.insert(addret.begin(), '1');</span>
			addret <span class="token operator">+=</span> <span class="token char">'1'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token function">reverse</span><span class="token punctuation">(</span>addret<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> addret<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> addret<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="_669"></a>其他</h5> 
<p><a href="https://leetcode.cn/problems/reverse-string-ii/description/" rel="nofollow">反转字符串 II</a><br> <a href="https://leetcode.cn/problems/reverse-words-in-a-string-iii/description/" rel="nofollow">反转字符串中的单词 III</a><br> <a href="https://leetcode.cn/problems/multiply-strings/description/" rel="nofollow">字符串相乘</a><br> <a href="https://www.nowcoder.com/practice/e896d0f82f1246a3aa7b232ce38029d4?tpId=37&amp;&amp;tqId=21282&amp;rp=1&amp;ru=/activity/oj&amp;qru=/ta/huawei/question-ranking" rel="nofollow">找出字符串中第一个只出现一次的字符</a></p> 
<h2><a id="string_675"></a>三、string类的模拟实现</h2> 
<h3><a id="string_677"></a>经典的string类问题</h3> 
<p>模拟实现<code>string</code></p> 
<p>大家看下以下<code>string</code>类的实现是否有问题？</p> 
<pre><code class="prism language-cpp"><span class="token comment">// 为了和标准库区分，此处使用String</span>
<span class="token keyword">class</span> <span class="token class-name">String</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">/*String()
	 :_str(new char[1])
	 {*_str = '\0';}
	 */</span>
	 <span class="token comment">//String(const char* str = "\0") 错误示范</span>
	 <span class="token comment">//String(const char* str = nullptr) 错误示范</span>
	<span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 构造String类对象时，如果传递nullptr指针，可以认为程序非</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">nullptr</span> <span class="token operator">==</span> str<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">assert</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		_str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token function">strcpy</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token operator">~</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_str<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _str<span class="token punctuation">;</span>
			_str <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">char</span><span class="token operator">*</span> _str<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 测试</span>
<span class="token keyword">void</span> <span class="token function">TestString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	String <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"hello bit!!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	String <span class="token function">s2</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/99/2c/7f9PMYvK_o.png" alt="在这里插入图片描述"><br> 说明：上述<code>String</code>类没有显式定义其拷贝构造函数与赋值运算符重载，此时编译器会合成默认的，当用<code>s1</code>构造<code>s2</code>时，编译器会调用默认的拷贝构造。最终导致的问题是，<code>s1</code>、<code>s2</code>共用同一块内存空间，在释放时同一块空间被释放多次而引起程序崩溃，这种拷贝方式，称为浅拷贝。</p> 
<h3><a id="_729"></a>浅拷贝</h3> 
<p>浅拷贝：也称位拷贝，编译器只是将对象中的值拷贝过来。如果对象中管理资源，最后就会导致多个对象共享同一份资源，当一个对象销毁时就会将该资源释放掉，而此时另一些对象不知道该资源已经被释放，以为还有效，所以当继续对资源进项操作时，就会发生发生了访问违规。</p> 
<p>就像一个家庭中有两个孩子，但父母只买了一份玩具，两个孩子愿意一块玩，则万事大吉，万一不想分享就你争我夺，玩具损坏。<br> <img src="https://images2.imgbox.com/53/b9/0EqBIaBI_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e9/be/qnttIpsN_o.png" alt="在这里插入图片描述"><br> 可以采用深拷贝解决浅拷贝问题，即：每个对象都有一份独立的资源，不要和其他对象共享。父母给每个孩子都买一份玩具，各自玩各自的就不会有问题了。</p> 
<p><img src="https://images2.imgbox.com/74/fa/lvsPPuUC_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_739"></a>深拷贝</h3> 
<p>如果一个类中涉及到资源的管理，其拷贝构造函数、赋值运算符重载以及析构函数必须要显式给出。一般情况都是按照深拷贝方式提供。</p> 
<p><img src="https://images2.imgbox.com/f3/15/ToC6dUAl_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="String_744"></a>传统版写法的String类</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">String</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 构造String类对象时，如果传递nullptr指针，可以认为程序非</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">nullptr</span> <span class="token operator">==</span> str<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">assert</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		_str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token function">strcpy</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">const</span> String<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
		<span class="token operator">:</span>
		<span class="token function">_str</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>_str<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token punctuation">}</span>
	<span class="token function">strcpy</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> s<span class="token punctuation">.</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	String<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> String<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> <span class="token operator">&amp;</span>s<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">char</span><span class="token operator">*</span> pStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>_str<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token function">strcpy</span><span class="token punctuation">(</span>pStr<span class="token punctuation">,</span> s<span class="token punctuation">.</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _str<span class="token punctuation">;</span>
			_str <span class="token operator">=</span> pStr<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_str<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _str<span class="token punctuation">;</span>
			_str <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">char</span><span class="token operator">*</span> _str<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
    
</code></pre> 
<h4><a id="String_791"></a>现代版写法的String类</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">String</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">nullptr</span> <span class="token operator">==</span> str<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">assert</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		_str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token function">strcpy</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">const</span> String<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
		<span class="token operator">:</span>
		<span class="token function">_str</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token punctuation">}</span>
	String <span class="token function">strTmp</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">swap</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> strTmp<span class="token punctuation">.</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 对比下和上面的赋值那个实现比较好？</span>
	String<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>String s<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">swap</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> s<span class="token punctuation">.</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">/*
	String&amp; operator=(const String&amp; s)
	{
	if(this != &amp;s)
	{
	String strTmp(s);
	swap(_str, strTmp._str);
	}
	return *this;
	}
	*/</span>
	<span class="token operator">~</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_str<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _str<span class="token punctuation">;</span>
			_str <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">char</span><span class="token operator">*</span> _str<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_843"></a>写时拷贝</h3> 
<p><img src="https://images2.imgbox.com/db/a8/FT3KsvdW_o.png" alt="在这里插入图片描述"><br> 写时拷贝就是一种拖延症，是在浅拷贝的基础之上增加了引用计数的方式来实现的。</p> 
<p>引用计数：用来记录资源使用者的个数。在构造时，将资源的计数给成1，每增加一个对象使用该资源，就给计数增加1，当某个对象被销毁时，先给该计数减1，然后再检查是否需要释放资源，如果计数为1，说明该对象时资源的最后一个使用者，将该资源释放；否则就不能释放，因为还有其他对象在使用该资源。</p> 
<p><a href="https://coolshell.cn/articles/12199.html" rel="nofollow">C++ STL STRING的COPY-ON-WRITE技术</a><br> <a href="https://coolshell.cn/articles/1443.html" rel="nofollow">C++的STD::STRING的“读时也拷贝”技术！</a></p> 
<h3><a id="string_853"></a>string类的模拟实现</h3> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;assert.h&gt;</span></span>

<span class="token keyword">namespace</span> bit
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">class</span> <span class="token class-name">string</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token keyword">typedef</span> <span class="token keyword">char</span><span class="token operator">*</span> iterator<span class="token punctuation">;</span>
	<span class="token keyword">public</span><span class="token operator">:</span>
		<span class="token function">string</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_size <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
			_capacity <span class="token operator">=</span> _size<span class="token punctuation">;</span>
			_str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>_capacity <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token function">strcpy</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token function">string</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
			<span class="token operator">:</span> <span class="token function">_str</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>
			<span class="token punctuation">,</span> <span class="token function">_size</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
			<span class="token punctuation">,</span> <span class="token function">_capacity</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			string <span class="token function">tmp</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">swap</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		string<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">this</span><span class="token operator">-&gt;</span><span class="token function">swap</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token operator">~</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_str<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _str<span class="token punctuation">;</span>
				_str <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">/</span>
		<span class="token comment">// iterator</span>
		iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span> 
			<span class="token keyword">return</span> _str<span class="token punctuation">;</span> 
		<span class="token punctuation">}</span>

		iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
		<span class="token punctuation">{<!-- --></span> 
			<span class="token keyword">return</span> _str <span class="token operator">+</span> _size<span class="token punctuation">;</span> 
		<span class="token punctuation">}</span>

		<span class="token comment">/</span>
		<span class="token comment">// modify</span>
		<span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>_size <span class="token operator">==</span> _capacity<span class="token punctuation">)</span>
				<span class="token function">reserve</span><span class="token punctuation">(</span>_capacity <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			_str<span class="token punctuation">[</span>_size<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>
			_str<span class="token punctuation">[</span>_size<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		string<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">push_back</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// 作业实现</span>
		<span class="token keyword">void</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
		string<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">+=</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			_str<span class="token punctuation">[</span>_size<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>_str<span class="token punctuation">,</span> s<span class="token punctuation">.</span>_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
			std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>_size<span class="token punctuation">,</span> s<span class="token punctuation">.</span>_size<span class="token punctuation">)</span><span class="token punctuation">;</span>
			std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>_capacity<span class="token punctuation">,</span> s<span class="token punctuation">.</span>_capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _str<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">/</span>
		<span class="token comment">// capacity</span>
		size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _size<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		size_t <span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> _capacity<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token number">0</span> <span class="token operator">==</span> _size<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">void</span> <span class="token function">resize</span><span class="token punctuation">(</span>size_t newSize<span class="token punctuation">,</span> <span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>newSize <span class="token operator">&gt;</span> _size<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token comment">// 如果newSize大于底层空间大小，则需要重新开辟空间</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>newSize <span class="token operator">&gt;</span> _capacity<span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token function">reserve</span><span class="token punctuation">(</span>newSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token function">memset</span><span class="token punctuation">(</span>_str <span class="token operator">+</span> _size<span class="token punctuation">,</span> c<span class="token punctuation">,</span> newSize <span class="token operator">-</span> _size<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			_size <span class="token operator">=</span> newSize<span class="token punctuation">;</span>
			_str<span class="token punctuation">[</span>newSize<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">void</span> <span class="token function">reserve</span><span class="token punctuation">(</span>size_t newCapacity<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">// 如果新容量大于旧容量，则开辟空间</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>newCapacity <span class="token operator">&gt;</span> _capacity<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>newCapacity <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token function">strcpy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> _str<span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// 释放原来旧空间,然后使用新空间</span>
				<span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> _str<span class="token punctuation">;</span>
				_str <span class="token operator">=</span> str<span class="token punctuation">;</span>
				_capacity <span class="token operator">=</span> newCapacity<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment"></span>
		<span class="token comment">// access</span>
		<span class="token keyword">char</span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t index<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">assert</span><span class="token punctuation">(</span>index <span class="token operator">&lt;</span> _size<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> _str<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t index<span class="token punctuation">)</span><span class="token keyword">const</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">assert</span><span class="token punctuation">(</span>index <span class="token operator">&lt;</span> _size<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> _str<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment"></span>
		<span class="token comment">// 作业</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&gt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 返回c在string中第一次出现的位置</span>
		size_t <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">,</span> size_t pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
		<span class="token comment">// 返回子串s在string中第一次出现的位置</span>
		size_t <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">,</span> size_t pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

		<span class="token comment">// 在pos位置上插入字符c/字符串str，并返回该字符的位置</span>
		string<span class="token operator">&amp;</span> <span class="token function">insert</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">,</span> <span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
		string<span class="token operator">&amp;</span> <span class="token function">insert</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 删除pos位置上的元素，并返回该元素的下一个位置</span>
		string<span class="token operator">&amp;</span> <span class="token function">erase</span><span class="token punctuation">(</span>size_t pos<span class="token punctuation">,</span> size_t len<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">private</span><span class="token operator">:</span>
		<span class="token keyword">friend</span> ostream<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>ostream<span class="token operator">&amp;</span> _cout<span class="token punctuation">,</span> <span class="token keyword">const</span> bit<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">friend</span> istream<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span>istream<span class="token operator">&amp;</span> _cin<span class="token punctuation">,</span> bit<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span><span class="token operator">:</span>
		<span class="token keyword">char</span><span class="token operator">*</span> _str<span class="token punctuation">;</span>
		size_t _capacity<span class="token punctuation">;</span>
		size_t _size<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	ostream<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>ostream<span class="token operator">&amp;</span> _cout<span class="token punctuation">,</span> <span class="token keyword">const</span> bit<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 不能使用这个, 因为string的字符串内部可能会包含\0</span>
		<span class="token comment">// 直接cout时, 是将_str当成char*打印的，遇到内部的\0时后序内容就不打印了</span>
		<span class="token comment">//cout &lt;&lt; s._str;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			_cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> _cout<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">///对自定义的string类进行测试</span>
<span class="token keyword">void</span> <span class="token function">TestBitstring</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	bit<span class="token double-colon punctuation">::</span>string <span class="token function">s1</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	s1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	s1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	s1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token char">'i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	s1 <span class="token operator">+=</span> <span class="token char">'t'</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> s1<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 利用迭代器打印string中的元素</span>
	bit<span class="token double-colon punctuation">::</span>string<span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> s1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it<span class="token punctuation">;</span>
		<span class="token operator">++</span>it<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">// 这里可以看到一个类只要支持的基本的iterator，就支持范围for</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> ch <span class="token operator">:</span> s1<span class="token punctuation">)</span>
		cout <span class="token operator">&lt;&lt;</span> ch<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_1084"></a>四、扩展</h2> 
<h3><a id="_1086"></a>文章</h3> 
<p><a href="https://coolshell.cn/articles/10478.html" rel="nofollow">C++面试中STRING类的一种正确写法</a></p> 
<p><a href="https://blog.csdn.net/haoel/article/details/1491219">STL 的string类怎么啦？</a></p> 
<h3><a id="sort_1093"></a>sort</h3> 
<p>在C++中，<code>sort()</code>函数是一个标准库函数，位于头文件中。它用于对各种容器（如数组、向量、字符串等）中的元素进行排序。</p> 
<p><code>sort()</code>函数的一般语法如下：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>

<span class="token function">sort</span><span class="token punctuation">(</span>container<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> container<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>其中，<code>container</code>是要排序的容器，可以是数组、向量、字符串等类型。<code>sort()</code>函数会按升序对容器中的元素进行排序，默认使用元素的小于比较运算符（<code>&lt;</code>）。</p> 
<p>例如，对一个整型数组进行排序的示例代码如下：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arr <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>

    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Sorted array: "</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出结果为：<code>1 2 5 8 9</code></p> 
<p>需要注意的是，<code>sort()</code>函数默认是对容器中元素进行升序排序，如果需要进行降序排序，可以使用<code>greater&lt;&gt;()</code>函数作为第三个参数，如下所示：</p> 
<pre><code class="prism language-cpp"><span class="token function">sort</span><span class="token punctuation">(</span>container<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> container<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">greater</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>以上就是C++中<code>sort()</code>函数的基本用法。</p> 
<h3><a id="vsstring_1140"></a>vs编译器string的扩容</h3> 
<p>在vs编译器中，会对扩容进行优化，首先前几次会按二倍扩容，后面是按1.5倍扩容</p> 
<p><img src="https://images2.imgbox.com/67/a8/pELzwGhe_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token number">15</span>
<span class="token number">31</span>
……
</code></pre> 
<p>为什么会是15呢？是因为编译器会自动留一个空间给<code>'\0'</code></p> 
<h4><a id="_1154"></a>总结</h4> 
<h5><a id="_1155"></a>扩容优化</h5> 
<p>在 Visual Studio 编译器中，对于 <code>string</code> 类的扩容，确实存在一种优化策略。通常情况下，首几次扩容时，编译器会按照二倍扩容的方式进行，即将当前内存块的大小乘以2。</p> 
<p>这种扩容方式能够保证每次扩容都有足够的额外空间，以容纳未来可能增长的字符串内容。同时，二倍扩容也能够减少频繁的扩容操作，提高性能。</p> 
<p>然而，随着字符串的长度不断增长，二倍扩容可能会导致内存空间浪费的问题。为了解决这个问题，VS 编译器在一定的阈值之后会切换到按1.5倍扩容的方式。</p> 
<p>按照1.5倍扩容的方式，每次扩容时将当前内存块的大小乘以1.5，以提供更适当的额外空间。这种方式可以在一定程度上减少内存的浪费，同时仍然提供足够的空间用于字符串的增长。</p> 
<p>需要注意的是，具体的扩容策略可能会因不同的编译器版本或设置而有所变化。上述描述是一种常见的优化策略，在大多数情况下是适用的。</p> 
<h5><a id="_1166"></a>留存空间</h5> 
<p>在 Visual Studio 编译器中，当对 <code>string</code> 进行扩容时，编译器会自动为新的内存块留出一个额外的空间来存储 <code>'\0'</code> 终止字符。这是为了确保字符串在扩容后仍然是以 <code>'\0'</code> 结尾的，以符合 C 风格的字符串表示法。</p> 
<p><code>'\0'</code> 字符用于表示字符串的结束，它是一个空字符，ASCII 值为0。在 C 和 C++ 中，字符串是以 <code>'\0'</code> 结尾的字符数组。因此，为了在对 <code>string</code> 进行扩容后仍然保持以 <code>'\0'</code> 结尾的特性，编译器会预留一个空间。</p> 
<p>例如，如果当前字符串的长度为 <code>n</code>，在扩容时，编译器会为新的内存块分配 <code>n + 1</code> 的空间，其中 <code>n</code> 用于存储原有的字符，而额外的一个空间用于存储 <code>'\0'</code> 终止字符。</p> 
<p>这种方式确保了对 <code>string</code> 进行扩容后，字符串仍然可以被正确地处理和使用，而不会导致字符截断或其他意外行为。</p> 
<h3><a id="gstring_1176"></a>g++编译器string的扩容</h3> 
<p>相比于vs编译器，g++编译器显然没有扩容优化的概念</p> 
<p><img src="https://images2.imgbox.com/2d/0f/WGokbYEE_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="capacity_1180"></a>capacity（）</h3> 
<p>在C++中，<code>capacity</code>（容量）通常用于描述容器对象（如<code>vector</code>、<code>string</code>等）的内部存储空间的大小。容量表示容器已分配的内存大小，而不是容器中实际存储的元素数量。</p> 
<p>对于<code>vector</code>容器来说，<code>capacity()</code>函数可以返回当前容器的容量大小。例如：</p> 
<pre><code class="prism language-cpp">std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> myVector<span class="token punctuation">;</span>
std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"容量："</span> <span class="token operator">&lt;&lt;</span> myVector<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
</code></pre> 
<p>对于<code>string</code>字符串来说，<code>capacity()</code>函数也可以返回当前字符串的容量大小。例如：</p> 
<pre><code class="prism language-cpp">std<span class="token double-colon punctuation">::</span>string myString<span class="token punctuation">;</span>
std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"容量："</span> <span class="token operator">&lt;&lt;</span> myString<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
</code></pre> 
<p>当容器中的元素数量超过容器的容量时，容器会重新分配内存空间，将之前的元素复制到新的内存空间中。重新分配内存空间会导致性能损耗，因此在添加大量元素之前，可以使用<code>reserve()</code>函数预先分配足够的容量，以避免频繁的内存分配和复制操作。</p> 
<p>例如，在<code>vector</code>容器中，可以使用<code>reserve()</code>函数预先分配容量：</p> 
<pre><code class="prism language-cpp">std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> myVector<span class="token punctuation">;</span>
myVector<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 预分配容量为100</span>
</code></pre> 
<p>在<code>string</code>字符串中，也可以使用<code>reserve()</code>函数预分配容量：</p> 
<pre><code class="prism language-cpp">std<span class="token double-colon punctuation">::</span>string myString<span class="token punctuation">;</span>
myString<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 预分配容量为100</span>
</code></pre> 
<p>总之，<code>capacity</code>（容量）用于描述容器对象内部存储空间的大小，可以通过<code>capacity()</code>函数来获取容器当前的容量大小。</p> 
<h3><a id="reserve_1215"></a>reserve()</h3> 
<p>ps：只会影响<code>capacity</code>不会影响<code>size</code></p> 
<p>在C++中，<code>reserve()</code>函数用于预分配容器对象的内存空间，以提前为容器对象分配足够的内存，避免频繁的内存分配和复制操作。</p> 
<p>对于<code>vector</code>容器来说，<code>reserve()</code>函数可以用来预分配容器的容量。例如：</p> 
<pre><code class="prism language-cpp">std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> myVector<span class="token punctuation">;</span>
myVector<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 预分配容量为100</span>
</code></pre> 
<p>在上面的例子中，我们使用<code>reserve()</code>函数预先分配了容量为100的<code>vector</code>对象，即预先分配了100个int类型的内存空间。这样，当我们向<code>vector</code>中添加元素时，就不需要频繁地进行内存分配和复制操作。</p> 
<p>同样地，对于<code>string</code>字符串来说，也可以使用<code>reserve()</code>函数预分配容量。例如：</p> 
<pre><code class="prism language-cpp">std<span class="token double-colon punctuation">::</span>string myString<span class="token punctuation">;</span>
myString<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 预分配容量为100</span>
</code></pre> 
<p>在上述例子中，我们使用<code>reserve()</code>函数预先分配了容量为100的<code>string</code>对象，即预先分配了100个字符的内存空间。这样，在添加较长的字符串时，就不需要频繁地进行内存分配和复制操作。</p> 
<p>需要注意的是，<code>reserve()</code>函数仅仅是预分配了容器对象的内存空间，并不会改变容器对象中实际存储的元素数量。因此，预分配的容量可以大于或等于实际存储的元素数量。</p> 
<p>总而言之，<code>reserve()</code>函数用于预分配容器对象的内存空间，以提前为容器对象分配足够的内存，避免频繁的内存分配和复制操作。在<code>vector</code>和<code>string</code>等容器中都可以使用<code>reserve()</code>函数。</p> 
<h3><a id="resize_1243"></a>resize（）</h3> 
<p>ps：<code>resize（）</code>会影响<code>size</code></p> 
<p>在C++中，<code>resize()</code>函数用于改变容器对象的大小。</p> 
<p>对于<code>vector</code>容器来说，<code>resize()</code>函数可以用来改变容器的大小，即添加或删除元素。例如：</p> 
<pre><code class="prism language-cpp">std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> myVector<span class="token punctuation">;</span>
myVector<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将容器的大小设置为10</span>
</code></pre> 
<p>在上面的例子中，我们使用<code>resize()</code>函数将容器的大小设置为10。如果原来容器的大小小于10，那么<code>resize()</code>函数将在容器的末尾添加足够数量的默认构造元素，使得容器的大小达到10。如果原来容器的大小大于10，那么<code>resize()</code>函数将删除容器末尾多出的元素，使得容器的大小为10。</p> 
<p>对于<code>string</code>字符串来说，<code>resize()</code>函数也可以用来改变字符串的大小。例如：</p> 
<pre><code class="prism language-cpp">std<span class="token double-colon punctuation">::</span>string myString<span class="token punctuation">;</span>
myString<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将字符串的大小设置为10</span>
</code></pre> 
<p>在上述例子中，我们使用<code>resize()</code>函数将字符串的大小设置为10。如果原来字符串的大小小于10，那么<code>resize()</code>函数将在字符串的末尾添加足够数量的空字符，使得字符串的大小达到10。如果原来字符串的大小大于10，那么<code>resize()</code>函数将删除字符串末尾多出的字符，使得字符串的大小为10。</p> 
<p>需要注意的是，<code>resize()</code>函数会改变容器对象中实际存储的元素数量。因此，新调整大小后的容器大小可能小于、等于或大于调用<code>resize()</code>函数之前的容器大小。</p> 
<p>总而言之，<code>resize()</code>函数用于改变容器对象的大小，在<code>vector</code>和<code>string</code>等容器中都可以使用<code>resize()</code>函数。对于<code>vector</code>容器，<code>resize()</code>函数可以添加或删除元素；对于<code>string</code>字符串，<code>resize()</code>函数可以添加或删除字符。<br> <img src="https://images2.imgbox.com/56/34/6wkyjqcZ_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/27/f5/xyYQjQO1_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4e/3a/vgtHifSn_o.png" alt="在这里插入图片描述"></p> 
<p>已有的值不会动，在后面填写值，VS一开始开辟的空间是16，<code>resize</code>开辟空间，<code>size</code>变成20，<code>capacity</code>容量不够，按2倍扩容<br> <img src="https://images2.imgbox.com/2c/cb/CTgncKm7_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/de/70/AnUnhSqB_o.png" alt="在这里插入图片描述"><br> <code>resize</code>也会删除数据</p> 
<h3><a id="shrink_to_fit_1280"></a>shrink_to_fit</h3> 
<p>C++中的<code>shrink_to_fit</code>函数是一个<code>vector</code>容器的成员函数，用于请求<code>vector</code>缩小其容量以适应其当前大小。它的语法如下：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">shrink_to_fit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>该函数会释放<code>vector</code>中多余的内存空间，使其容量等于其大小。这样做可以节省内存空间，但也会导致如果再次添加元素，可能需要重新分配内存并复制元素。因此，<code>shrink_to_fit</code>函数一般用于不再需要添加新元素或者已经达到稳定状态的情况下。</p> 
<p>以下是一个示例：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vec<span class="token punctuation">;</span>

    <span class="token comment">// 在不断添加元素后，vector的容量可能会超过实际需要的大小</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        vec<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"容量："</span> <span class="token operator">&lt;&lt;</span> vec<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"大小："</span> <span class="token operator">&lt;&lt;</span> vec<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    <span class="token comment">// 调用shrink_to_fit函数，释放多余的内存空间</span>
    vec<span class="token punctuation">.</span><span class="token function">shrink_to_fit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"调用shrink_to_fit函数后的容量："</span> <span class="token operator">&lt;&lt;</span> vec<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"调用shrink_to_fit函数后的大小："</span> <span class="token operator">&lt;&lt;</span> vec<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出结果：</p> 
<pre><code class="prism language-c++">容量：128
大小：100
调用shrink_to_fit函数后的容量：100
调用shrink_to_fit函数后的大小：100
</code></pre> 
<p>在该示例中，初始时<code>vector</code>的容量为128，大小为100。通过调用<code>shrink_to_fit</code>函数，<code>vector</code>的容量被缩小为100，与其大小相等。</p> 
<h3><a id="at_1327"></a>at</h3> 
<p>C++中的<code>at()</code>函数是用于访问容器中指定位置元素的方法。<code>at()</code>函数可以用于访问<code>std::vector</code>、<code>std::array</code>、<code>std::deque</code>以及<code>std::string</code>等容器。</p> 
<p><code>at()</code>函数的语法如下：</p> 
<pre><code class="prism language-cpp">reference <span class="token function">at</span><span class="token punctuation">(</span>size_type pos<span class="token punctuation">)</span><span class="token punctuation">;</span>
const_reference <span class="token function">at</span><span class="token punctuation">(</span>size_type pos<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
</code></pre> 
<p>其中，<code>pos</code>表示要访问的元素的索引位置。</p> 
<p>如果使用<code>at()</code>函数访问一个容器中的元素，当索引超出容器的有效范围时，会抛出一个<code>std::out_of_range</code>异常。这与使用<code>operator[]</code>操作符进行访问不同，后者在索引超出范围时，行为是未定义的。</p> 
<p>以下是一个示例：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vec <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 访问索引为2的元素</span>
        <span class="token keyword">int</span> value <span class="token operator">=</span> vec<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"索引为2的元素："</span> <span class="token operator">&lt;&lt;</span> value <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

        <span class="token comment">// 访问超出范围的索引</span>
        value <span class="token operator">=</span> vec<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 这里会抛出std::out_of_range异常</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"索引为10的元素："</span> <span class="token operator">&lt;&lt;</span> value <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>out_of_range<span class="token operator">&amp;</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"发生了out_of_range异常："</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>输出结果：</p> 
<pre><code class="prism language-C++">索引为2的元素：3
发生了out_of_range异常：vector::_M_range_check: __n (which is 10) &gt;= this-&gt;size() (which is 5)
</code></pre> 
<p>在该示例中，首先使用<code>at()</code>函数访问索引为2的元素，输出结果为3。然后，使用<code>at()</code>函数访问超出范围的索引10，这里会抛出一个<code>std::out_of_range</code>异常，并显示相应的错误信息。</p> 
<h3><a id="insert_1375"></a>insert</h3> 
<p>在C++中，insert是一个用于在容器中插入元素的函数。它有多种用法，如：</p> 
<ol><li>在vector中插入元素：</li></ol> 
<pre><code class="prism language-cpp">vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> nums <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
nums<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 在索引为2的位置插入元素5</span>
</code></pre> 
<ol start="2"><li>在list中插入元素：</li></ol> 
<pre><code class="prism language-cpp">list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> nums <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">auto</span> it <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">advance</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
nums<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 在迭代器指向的位置插入元素5</span>
</code></pre> 
<ol start="3"><li>在map中插入键值对：</li></ol> 
<pre><code class="prism language-cpp">map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> scores <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span><span class="token string">"Alice"</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token string">"Charlie"</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
scores<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token string">"David"</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 插入键值对"Davis"和60</span>
</code></pre> 
<ol start="4"><li>在set中插入元素：</li></ol> 
<pre><code class="prism language-cpp">set<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> names <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"Alice"</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token string">"Charlie"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
names<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"David"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 插入元素"David"</span>
</code></pre> 
<p>这只是insert的一些用法示例，在不同的容器中有不同的使用方法，具体可以查看C++的文档或教程。</p> 
<h3><a id="erase_1409"></a>erase</h3> 
<p>C++中的<code>erase</code>是一个字符串或容器的成员函数，用于删除容器中的一个或多个元素。具体用法如下：</p> 
<ol><li>字符串的<code>erase</code>函数用于删除字符串中的一个或多个字符。具体用法如下：</li></ol> 
<pre><code class="prism language-cpp">string str <span class="token operator">=</span> <span class="token string">"Hello World"</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 删除索引为5的字符，结果为"HelloWorld"</span>
str<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 删除从索引0开始的5个字符，结果为"World"</span>
</code></pre> 
<ol start="2"><li>容器的<code>erase</code>函数用于删除容器中的一个或多个元素。具体用法如下：</li></ol> 
<pre><code class="prism language-cpp">vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> vec <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
vec<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 删除容器的第一个元素，结果为{2, 3, 4, 5}</span>
vec<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 删除容器的第3个和第4个元素，结果为{2, 3, 5}</span>
</code></pre> 
<p>需要注意的是，对于字符串的<code>erase</code>函数，删除字符会导致字符串的长度减小；对于容器的erase函数，删除元素会导致容器的大小减小。</p> 
<h3><a id="npos_1429"></a>npos</h3> 
<p>C++的<code>npos</code>是一个常量，用于表示字符串的结尾位置。它定义在<code>std</code>命名空间下的<code>string</code>类中，具体的值是-1。通常可以通过<code>string</code>类的成员函数<code>find</code>来判断字符串中是否包含某个子串，如果找不到匹配的子串，find函数将返回<code>npos</code>。</p> 
<h3><a id="c_1432"></a>解决c++默认遇到空格和换行就结束的问题</h3> 
<p>C++和C语言默认遇到空格和换行就结束</p> 
<p>要解决C++默认遇到空格和换行就结束的问题，可以使用<code>std::getline()</code>函数的全版本，该函数允许设置自定义的分隔符。</p> 
<h4><a id="getline_1437"></a>getline()</h4> 
<p>以下是使用<code>std::getline()</code>函数的全版本来解决这个问题的示例：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    std<span class="token double-colon punctuation">::</span>string str<span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter a line of text: "</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">getline</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">,</span> str<span class="token punctuation">,</span> <span class="token char">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将换行符'\n'作为分隔符</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You entered: "</span> <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在上面的示例中，我们在<code>std::getline()</code>函数的第三个参数中显式地指定了换行符’<code>\n'</code>作为分隔符。这样，输入流<code>std::cin</code>会一直读取，直到遇到换行符才会停止，并将读取的内容存储到字符串<code>str</code>中。</p> 
<p>如果你想要同时避免空格和换行符，可以指定一个空格作为分隔符，如下所示：</p> 
<pre><code class="prism language-cpp">std<span class="token double-colon punctuation">::</span><span class="token function">getline</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">,</span> str<span class="token punctuation">,</span> <span class="token char">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这样，输入流<code>std::cin</code>会一直读取，直到遇到空格或换行符才会停止，并将读取的内容存储到字符串<code>str</code>中。</p> 
<p>请注意，在使用<code>std::getline()</code>函数时，需要包含头文件<code>&lt;iostream&gt;</code>和<code>&lt;string&gt;</code>。</p> 
<h4><a id="_1467"></a>循环</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    std<span class="token double-colon punctuation">::</span>string str<span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter a line of text: "</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>cin<span class="token operator">&gt;&gt;</span>str<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
    	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You entered: "</span> <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
  	<span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>但是这种写法程序不好正常的结束，我们需要用到<code>ctrl+z</code>或者<code>ctrl+c</code>来结束进程</p> 
<h3><a id="to_string_1487"></a>to_string</h3> 
<p>在C++中，<code>to_string</code>是一个用于将不同类型数据转换为字符串的函数。它的语法如下：</p> 
<pre><code class="prism language-cpp">string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将整数转换为字符串</span>
string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">long</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将长整数转换为字符串</span>
string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将长长整数转换为字符串</span>
string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将无符号整数转换为字符串</span>
string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">long</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将无符号长整数转换为字符串</span>
string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token keyword">long</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将无符号长长整数转换为字符串</span>
string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">float</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将浮点数转换为字符串</span>
string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">double</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将双精度浮点数转换为字符串</span>
string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">double</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将长双精度浮点数转换为字符串</span>
string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将C风格字符串转换为字符串</span>
string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将string对象转换为字符串</span>
</code></pre> 
<p>使用<code>to_string</code>函数，你可以将各种类型的数据转换为字符串。例如：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
string str <span class="token operator">=</span> <span class="token function">to_string</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">float</span> floatNum <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
string floatStr <span class="token operator">=</span> <span class="token function">to_string</span><span class="token punctuation">(</span>floatNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>此外，<code>to_string</code>函数还可以用于自定义类型，只需要为该类型定义一个适当的<code>to_string</code>函数重载即可。例如：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">struct</span> <span class="token class-name">Point</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
    <span class="token keyword">int</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

string <span class="token function">to_string</span><span class="token punctuation">(</span><span class="token keyword">const</span> Point<span class="token operator">&amp;</span> p<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token string">"("</span> <span class="token operator">+</span> <span class="token function">to_string</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> <span class="token function">to_string</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">")"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Point p <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
string pointStr <span class="token operator">=</span> <span class="token function">to_string</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出："(3, 5)"</span>
</code></pre> 
<p>上述例子中，我们为<code>Point</code>结构体定义了一个<code>to_string</code>函数重载，用于将<code>Point</code>类型转换为字符串。</p> 
<h3><a id="stoi_1532"></a>stoi</h3> 
<p>在C++中，<code>stoi</code>是一个用于将字符串转换为整数的函数。它的语法如下：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">stoi</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> str<span class="token punctuation">,</span> size_t<span class="token operator">*</span> pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">int</span> base <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>其中，<code>str</code>是要转换的字符串，<code>pos</code>是一个可选的指针，用于返回转换结束的位置，<code>base</code>指定了转换的基数，默认为10。</p> 
<p><code>stoi</code>函数将字符串解析为整数，并返回对应的整数值。如果转换失败，将抛出一个<code>std::invalid_argument</code>或<code>std::out_of_range</code>异常。</p> 
<p>下面是一些使用<code>stoi</code>函数的例子：</p> 
<pre><code class="prism language-cpp">string str <span class="token operator">=</span> <span class="token string">"1234"</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token function">stoi</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将字符串"1234"转换为整数1234</span>

string hexStr <span class="token operator">=</span> <span class="token string">"FF"</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> hexNum <span class="token operator">=</span> <span class="token function">stoi</span><span class="token punctuation">(</span>hexStr<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将十六进制字符串"FF"转换为整数255</span>

string invalidStr <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> invalidNum<span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
    invalidNum <span class="token operator">=</span> <span class="token function">stoi</span><span class="token punctuation">(</span>invalidStr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 无效的字符串，将抛出异常</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>invalid_argument<span class="token operator">&amp;</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Invalid argument: "</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在上面的例子中，首先将一个字符串<code>"1234"</code>转换为整数<code>1234</code>，然后将十六进制字符串<code>"FF"</code>转换为整数<code>255</code>。最后，将一个无效的字符串<code>"abc"</code>试图转换为整数，由于该字符串无法转换为整数，将抛出一个<code>std::invalid_argument</code>异常。</p> 
<p>需要注意的是，如果传递给<code>stoi</code>函数的字符串无法完全转换为整数，例如包含非数字字符，或者超出了整数的表示范围，将抛出一个<code>std::invalid_argument</code>或<code>std::out_of_range</code>异常。你可以通过捕获异常来处理这些错误情况。</p> 
<hr>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d62a4d11c82436ccb94d6f8417f3fcd3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java方法的重载</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9e598040eece8dd264210501293df6d0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">五分钟”手撕“图书管理系统</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
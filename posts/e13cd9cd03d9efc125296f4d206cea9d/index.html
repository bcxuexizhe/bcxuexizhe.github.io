<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言之数据结构之栈和队列的运用 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/e13cd9cd03d9efc125296f4d206cea9d/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="C语言之数据结构之栈和队列的运用">
  <meta property="og:description" content="目录 1. 用队列实现栈1.1 思路讲解1.2 代码实现 2. 用栈实现队列1.1 思路讲解1.2 代码实现 总结 •͈ᴗ•͈ 个人主页：御翮
•͈ᴗ•͈ 个人专栏：C语言数据结构
•͈ᴗ•͈ 欢迎大家关注和订阅!!!
1. 用队列实现栈 题目描述：
请你仅使用两个队列实现一个后入先出（LIFO）的栈，并支持普通栈的全部四种操作（push、top、pop 和 empty）。
实现 MyStack 类：
void push(int x) 将元素 x 压入栈顶。int pop() 移除并返回栈顶元素。int top() 返回栈顶元素。boolean empty() 如果栈是空的，返回 true ；否则，返回 false 。 注意：
你只能使用队列的标准操作 —— 也就是 push to back、peek/pop from front、size 和 is empty 这些操作。你所使用的语言也许不支持队列。 你可以使用 list （列表）或者 deque（双端队列）来模拟一个队列 , 只要是标准的队列操作即可。 示例：
输入：
[“MyStack”, “push”, “push”, “top”, “pop”, “empty”]
[ [ ], [1], [2], [ ], [ ], [ ] ]">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-04T22:00:42+08:00">
    <meta property="article:modified_time" content="2024-05-04T22:00:42+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言之数据结构之栈和队列的运用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><ul><li><a href="#1__11" rel="nofollow">1. 用队列实现栈</a></li><li><ul><li><a href="#11__52" rel="nofollow">1.1 思路讲解</a></li><li><a href="#12__73" rel="nofollow">1.2 代码实现</a></li></ul> 
   </li><li><a href="#2__328" rel="nofollow">2. 用栈实现队列</a></li><li><ul><li><a href="#11__369" rel="nofollow">1.1 思路讲解</a></li><li><a href="#12__391" rel="nofollow">1.2 代码实现</a></li></ul> 
   </li><li><a href="#_589" rel="nofollow">总结</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<p><img src="https://images2.imgbox.com/b5/3e/hBhLa1lk_o.jpg" alt="在这里插入图片描述"><br> <code>•͈ᴗ•͈</code> 个人主页：<a href="https://blog.csdn.net/2301_81988400?type=lately">御翮</a><br> <code>•͈ᴗ•͈</code> 个人专栏：<a href="https://blog.csdn.net/2301_81988400/category_12649437.html?spm=1001.2014.3001.5482">C语言数据结构</a><br> <code>•͈ᴗ•͈</code> 欢迎大家关注和订阅!!!</p> 
<p><img src="https://images2.imgbox.com/e5/fb/YCp0NWmk_o.gif" alt="在这里插入图片描述"></p> 
<h3><a id="1__11"></a>1. 用队列实现栈</h3> 
<p><strong>题目描述：</strong></p> 
<p>请你仅使用<mark>两个队列</mark>实现一个后入先出（LIFO）的栈，并支持普通栈的全部四种操作（<code>push</code>、<code>top</code>、<code>pop</code> 和 <code>empty</code>）。</p> 
<p>实现 <code>MyStack</code> 类：</p> 
<ul><li><code>void push(int x)</code> 将元素 x 压入栈顶。</li><li><code>int pop()</code> 移除并返回栈顶元素。</li><li><code>int top()</code> 返回栈顶元素。</li><li><code>boolean empty()</code> 如果栈是空的，返回 <code>true</code> ；否则，返回 <code>false</code> 。</li></ul> 
<p><strong>注意：</strong></p> 
<ul><li>你只能使用队列的标准操作 —— 也就是 <code>push to back</code>、<code>peek/pop from front</code>、<code>size</code> 和 <code>is empty</code> 这些操作。</li><li>你所使用的语言也许不支持队列。 你可以使用 list （列表）或者 deque（双端队列）来模拟一个队列 , 只要是标准的队列操作即可。</li></ul> 
<p><strong>示例：</strong></p> 
<blockquote> 
 <p><strong>输入：</strong><br> [“MyStack”, “push”, “push”, “top”, “pop”, “empty”]<br> [ [ ], [1], [2], [ ], [ ], [ ] ]<br> <strong>输出：</strong><br> [ null, null, null, 2, 2, false ]</p> 
</blockquote> 
<p><strong>解释：</strong></p> 
<blockquote> 
 <p>MyStack myStack = new MyStack();<br> myStack.push(1);<br> myStack.push(2);<br> myStack.top(); // 返回 2<br> myStack.pop(); // 返回 2<br> myStack.empty(); // 返回 False</p> 
</blockquote> 
<p><strong>提示：</strong></p> 
<ul><li><code>1 &lt;= x &lt;= 9</code></li><li>最多调用<code>100</code> 次 <code>push</code>、<code>pop</code>、<code>top</code> 和 <code>empty</code></li><li>每次调用 <code>pop</code> 和 <code>top</code> 都保证栈不为空</li></ul> 
<h4><a id="11__52"></a>1.1 思路讲解</h4> 
<p>首先队列的特性是先入先出，而栈的特性是先入后出</p> 
<p>题目说用两个队列实现一个栈</p> 
<p>所以当栈为空时我们有两个空队列q1和q2</p> 
<p>我们入数据时先默认入q2，假设这里依次入1、2、3</p> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/79/e4/2DX1TIHT_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>如果这个时候我们要出栈呢，如果按队列先入先出，我们会拿到1而不是最后入的3</p> 
<p>此时我们可以先把1和2依次放入q1中，此时q2中就只剩3，就可以先取出3了</p> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/49/1a/P23IVap1_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>如果我们接着要放数据，就放入非空的队列q1，这样留一个队列q2为空，就还可以继续这样的出栈操作</p> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/e1/60/Z2ybdQTr_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>当我们要继续出栈时，就把前n-1个数据放入空的队列中，再把最后一个数据取出，这样如此颠倒反复，就完成了先入后出的操作</p> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/ac/ef/uyLBScWI_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h4><a id="12__73"></a>1.2 代码实现</h4> 
<p><em><strong>队列代码：</strong></em></p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdbool.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;assert.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">int</span> QDatatype<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">QNode</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span> <span class="token class-name">QNode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
	QDatatype data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>QNode<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Queue</span>
<span class="token punctuation">{<!-- --></span>
	QNode<span class="token operator">*</span> head<span class="token punctuation">;</span>
	QNode<span class="token operator">*</span> tail<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Queue<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">Init_Queue</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ptr<span class="token operator">-&gt;</span>head <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>tail <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">Destroy_Queue</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	QNode<span class="token operator">*</span> cur <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>head<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>ptr<span class="token operator">-&gt;</span>head <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cur <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>head<span class="token punctuation">;</span>
		ptr<span class="token operator">-&gt;</span>head <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		<span class="token function">free</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	ptr<span class="token operator">-&gt;</span>tail <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

QNode<span class="token operator">*</span> <span class="token function">Buy_Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	QNode<span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span>QNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>QNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Print_Queue</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	QNode<span class="token operator">*</span> cur <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>head<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> cur<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Push_Queue</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> ptr<span class="token punctuation">,</span> QDatatype val<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	QNode<span class="token operator">*</span> newnode <span class="token operator">=</span> <span class="token function">Buy_Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>newnode <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"Push_Queue\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	newnode<span class="token operator">-&gt;</span>data <span class="token operator">=</span> val<span class="token punctuation">;</span>
	newnode<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ptr<span class="token operator">-&gt;</span>head <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		ptr<span class="token operator">-&gt;</span>head <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>tail <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		ptr<span class="token operator">-&gt;</span>tail<span class="token operator">-&gt;</span>next <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
		ptr<span class="token operator">-&gt;</span>tail <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">Queue_Size</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	QNode<span class="token operator">*</span> cur <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>head<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
		count<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Pop_Queue</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ptr<span class="token operator">-&gt;</span>head <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"队列中没有元素\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Queue_Size</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">free</span><span class="token punctuation">(</span>ptr<span class="token operator">-&gt;</span>tail<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//如果删完了但是没有将tail置为NULL，则case 5 会发生错误，显示队尾元素随机值。</span>
		ptr<span class="token operator">-&gt;</span>tail <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		ptr<span class="token operator">-&gt;</span>head <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	QNode<span class="token operator">*</span> pop <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>head<span class="token punctuation">;</span>
	ptr<span class="token operator">-&gt;</span>head <span class="token operator">=</span> ptr<span class="token operator">-&gt;</span>head<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>pop<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

QDatatype <span class="token function">Queue_Front</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ptr<span class="token operator">-&gt;</span>head<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

QDatatype <span class="token function">Queue_Back</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ptr<span class="token operator">-&gt;</span>tail<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">Check_Empty</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Queue_Size</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//以上是自己创建的队列，因为c语言没有队列</span>
</code></pre> 
<p><em><strong>队列实现栈代码：</strong></em></p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> 
<span class="token punctuation">{<!-- --></span>
	Queue q1<span class="token punctuation">;</span>
	Queue q2<span class="token punctuation">;</span>
<span class="token punctuation">}</span> MyStack<span class="token punctuation">;</span>



<span class="token comment">// 创建栈</span>
MyStack<span class="token operator">*</span> <span class="token function">myStackCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	MyStack<span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span>MyStack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token comment">// 开辟空间可能失败，失败则终止程序</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Fail: myStackCreate\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">Init_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tmp<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 我们的栈由两个队列组成，所以初始化要调用队列的初始化</span>
	<span class="token function">Init_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tmp<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">// 数据入栈</span>
<span class="token keyword">void</span> <span class="token function">myStackPush</span><span class="token punctuation">(</span>MyStack<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Check_Empty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 哪个队列有元素就往哪放，两个都没有就默认放q2，保证只有一个队列有数据</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">Push_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
		<span class="token function">Push_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">// 数据出栈</span>
<span class="token keyword">int</span> <span class="token function">myStackPop</span><span class="token punctuation">(</span>MyStack<span class="token operator">*</span> obj<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//题目保证每次调用pop时栈都不为空，不用考虑为空时的pop</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Check_Empty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 哪个队列有数据就将n-1个数据放到另一个队列，剩下的最后一个元素就是栈顶元素，直接出栈</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">Queue_Size</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取队列元素个数n</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sum <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">// 将前n-1个数据放到另一个空队列</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Push_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">,</span> <span class="token function">Queue_Front</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Pop_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		QDatatype tmp <span class="token operator">=</span> <span class="token function">Queue_Front</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 保存最后一个元素的值，再pop，因为要返回出栈元素的值</span>
		<span class="token function">Pop_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">Queue_Size</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> sum <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Push_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">,</span> <span class="token function">Queue_Front</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Pop_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		QDatatype tmp <span class="token operator">=</span> <span class="token function">Queue_Front</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token function">Pop_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>



<span class="token comment">// 获取栈顶元素</span>
<span class="token keyword">int</span> <span class="token function">myStackTop</span><span class="token punctuation">(</span>MyStack<span class="token operator">*</span> obj<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//题目保证每次调用top时栈都不为空，不用考虑为空时的top</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Check_Empty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 因为我们前面入栈时保证了只有一个队列有数据，所以队尾元素就是栈顶元素</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token function">Queue_Back</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
		<span class="token keyword">return</span> <span class="token function">Queue_Back</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">// 判断栈是否为空</span>
bool <span class="token function">myStackEmpty</span><span class="token punctuation">(</span>MyStack<span class="token operator">*</span> obj<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Check_Empty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">Check_Empty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 栈由两个队列组成，两个队列都为空栈就为空</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> true<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
		<span class="token keyword">return</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">// 销毁栈</span>
<span class="token keyword">void</span> <span class="token function">myStackFree</span><span class="token punctuation">(</span>MyStack<span class="token operator">*</span> obj<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token function">Destroy_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 消耗栈要销毁里面的两个队列</span>
	<span class="token function">Destroy_Queue</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="2__328"></a>2. 用栈实现队列</h3> 
<p><strong>题目描述：</strong></p> 
<p>请你仅使用两个栈实现先入先出队列。队列应当支持一般队列支持的所有操作（<code>push</code>、<code>pop</code>、<code>peek</code>、<code>empty</code>）。</p> 
<p>实现 <code>MyQueue</code> 类：</p> 
<ul><li><code>void push(int x)</code> 将元素 x 推到队列的末尾</li><li><code>int pop()</code> 从队列的开头移除并返回元素</li><li><code>int peek()</code> 返回队列开头的元素</li><li><code>boolean empty()</code> 如果队列为空，返回 <code>true</code> ；否则，返回 <code>false</code></li></ul> 
<p><strong>注意：</strong></p> 
<ul><li>你只能使用标准的栈操作 —— 也就是只有 <code>push to top</code>, <code>peek/pop from top</code>, <code>size</code>, 和 <code>is empty</code> 操作是合法的。</li><li>你所使用的语言也许不支持栈。你可以使用 list 或者 deque（双端队列）来模拟一个栈，只要是标准的栈操作即可。</li></ul> 
<p><strong>示例 ：</strong></p> 
<blockquote> 
 <p><strong>输入：</strong><br> [“MyQueue”, “push”, “push”, “peek”, “pop”, “empty”]<br> [ [ ], [1], [2], [ ], [ ], [ ] ]<br> <strong>输出：</strong><br> [ null, null, null, 1, 1, false ]</p> 
</blockquote> 
<p><strong>解释：</strong></p> 
<blockquote> 
 <p>MyQueue myQueue = new MyQueue();<br> myQueue.push(1); // queue is: [1]<br> myQueue.push(2); // queue is: [1, 2] (leftmost is front of the queue)<br> myQueue.peek(); // return 1<br> myQueue.pop(); // return 1, queue is [2]<br> myQueue.empty(); // return false</p> 
</blockquote> 
<p><strong>提示：</strong></p> 
<p><code>1 &lt;= x &lt;= 9</code><br> 最多调用 <code>100</code> 次 <code>push</code>、<code>pop</code>、<code>peek</code> 和 <code>empty</code><br> 假设所有操作都是有效的 （例如，一个空的队列不会调用 <code>pop</code> 或者 <code>peek</code> 操作）</p> 
<h4><a id="11__369"></a>1.1 思路讲解</h4> 
<p>首先栈的特性是先入后出，而队列的特性是先入先出</p> 
<p>题目说用两个栈实现一个队列</p> 
<p>所以当队列为空时我们有两个空栈</p> 
<p>我们给这两个栈分别命名为push和pop</p> 
<p>我们入数据只往push里放</p> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/39/f3/qjMWB654_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>出数据的话，如果pop为空，我们就把push栈里面的数据全放进pop栈里，再出栈，就取到了队头的元素</p> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/ef/bf/wiW07860_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>如果pop不为空，就直接出栈就好了</p> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/5b/04/Im7hmpv0_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>后序有数据也是直接放在push，push只进行入栈，pop只进行出栈，不像用队列实现栈一样要来回颠倒。</p> 
<h4><a id="12__391"></a>1.2 代码实现</h4> 
<p><em><strong>栈代码：</strong></em></p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdbool.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;assert.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;errno.h&gt;</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">int</span> STDataType<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Stack</span>
<span class="token punctuation">{<!-- --></span>
	STDataType<span class="token operator">*</span> stack<span class="token punctuation">;</span>
	<span class="token keyword">int</span> size<span class="token punctuation">;</span>
	<span class="token keyword">int</span> capacity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Stack<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">Init_Stack</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	STDataType<span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span>STDataType<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>STDataType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"Init_Stack\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	ptr<span class="token operator">-&gt;</span>stack <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
	ptr<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	ptr<span class="token operator">-&gt;</span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Destroy_Stack</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>ptr<span class="token operator">-&gt;</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ptr<span class="token operator">-&gt;</span>stack <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Check_Capacity</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ptr<span class="token operator">-&gt;</span>size <span class="token operator">==</span> ptr<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		STDataType<span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span>STDataType<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>ptr<span class="token operator">-&gt;</span>stack<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> ptr<span class="token operator">-&gt;</span>capacity <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>STDataType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"Check_Capacity\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		ptr<span class="token operator">-&gt;</span>stack <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		ptr<span class="token operator">-&gt;</span>capacity <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Print_Stack</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ptr<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> ptr<span class="token operator">-&gt;</span>stack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Push_Stack</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ptr<span class="token punctuation">,</span> STDataType val<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">Check_Capacity</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ptr<span class="token operator">-&gt;</span>stack<span class="token punctuation">[</span>ptr<span class="token operator">-&gt;</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
	ptr<span class="token operator">-&gt;</span>size<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">Pop_Stack</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ptr<span class="token operator">-&gt;</span>size<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

STDataType <span class="token function">Top_Stack</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ptr<span class="token operator">-&gt;</span>stack<span class="token punctuation">[</span>ptr<span class="token operator">-&gt;</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">Size_Stack</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ptr<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">Empty_Stack</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> ptr<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>ptr<span class="token operator">-&gt;</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">else</span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> 
<span class="token punctuation">{<!-- --></span>
	Stack push<span class="token punctuation">;</span>
	Stack pop<span class="token punctuation">;</span>
<span class="token punctuation">}</span> MyQueue<span class="token punctuation">;</span>
</code></pre> 
<p><em><strong>栈实现队列代码：</strong></em></p> 
<pre><code class="prism language-c"><span class="token comment">// 创建队列</span>
MyQueue<span class="token operator">*</span> <span class="token function">myQueueCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	MyQueue<span class="token operator">*</span> queue <span class="token operator">=</span> <span class="token punctuation">(</span>MyQueue<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyQueue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>queue <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token comment">// 开辟空间有可能失败，失败则终止程序</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"myQueueCreate"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token function">Init_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>queue<span class="token operator">-&gt;</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始化队列要初始化里面的栈</span>
	<span class="token function">Init_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>queue<span class="token operator">-&gt;</span>pop<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> queue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">// 数据入队列</span>
<span class="token keyword">void</span> <span class="token function">myQueuePush</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token function">Push_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>push<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 数据只入push栈</span>
<span class="token punctuation">}</span>



<span class="token comment">// 数据出队列</span>
<span class="token keyword">int</span> <span class="token function">myQueuePop</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Empty_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>pop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 如果pop栈为空，就要从push栈里面把数据拿过来</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">Size_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取push中的元素个数n</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Push_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>pop<span class="token punctuation">,</span> <span class="token function">Top_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>push<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Pop_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">Top_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>pop<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 先储存队头元素再出队列，因为题目要返回队头元素</span>
	<span class="token function">Pop_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>pop<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">// 获取队头元素</span>
<span class="token keyword">int</span> <span class="token function">myQueuePeek</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Empty_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>pop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 如果pop栈为空，那就把push栈里面的元素拿过来</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token function">Size_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">Push_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>pop<span class="token punctuation">,</span> <span class="token function">Top_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>push<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">Pop_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token function">Top_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>pop<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 队头元素就是pop栈中的栈顶元素，因为pop栈内的元素是push栈内的元素顺序颠倒过来</span>
<span class="token punctuation">}</span>



<span class="token comment">// 判断队列是否为空</span>
bool <span class="token function">myQueueEmpty</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">Empty_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>push<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">Empty_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>pop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 两个栈都为空，队列就为空</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> true<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>
		<span class="token keyword">return</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">// 销毁队列</span>
<span class="token keyword">void</span> <span class="token function">myQueueFree</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span>
	<span class="token function">Destroy_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 销毁队列要销毁里面的两个栈</span>
	<span class="token function">Destroy_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>pop<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>					<span class="token comment">// 不要忘记释放这个空间</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_589"></a>总结</h3> 
<p>两个队列实现栈需要来回颠倒。<br> 两个栈实现队列要确定一个push和一个pop。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f87498d8b81166758e52ddcc80b74433/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【python的魅力】：教你如何用几行代码实现文本语音识别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cb9d6fdedec2e10228f7c56cdb0e5e37/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据结构：栈</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
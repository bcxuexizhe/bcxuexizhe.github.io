<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>五分钟”手撕“图书管理系统 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/9e598040eece8dd264210501293df6d0/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="五分钟”手撕“图书管理系统">
  <meta property="og:description" content="前言：
图书馆管理系统需要结合JavaSE的绝大部分知识，是一个很好的训练项目。
为了让大家更加方便的查阅与学习，我把代码放开头，供大家查询。
还有对代码的分析，我将以类为单位分开讲解。
目录
全部代码 Main类 User类 BookList类 Book类 NormalUser类 全部代码 /*一共有三个包*/ //User包 //User.java package user; import Book.BookList; import Operation.IOparetion; public abstract class User { protected String name; protected IOparetion[] iOparetions; public User(String name) { this.name = name; } public abstract int menu(); public void doIOparetion(int chioce, BookList bookList){ this.iOparetions[chioce].work(bookList); } } //User包 //NormalUser.java package user; import Operation.*; import java.util.Scanner; public class NormalUser extends User{ public NormalUser(String name) { super(name); this.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-24T23:20:42+08:00">
    <meta property="article:modified_time" content="2024-05-24T23:20:42+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">五分钟”手撕“图书管理系统</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p><strong>前言：</strong></p> 
 <p><strong>图书馆管理系统需要结合JavaSE的绝大部分知识，是一个很好的训练项目。</strong></p> 
 <p><strong>为了让大家更加方便的查阅与学习，我把<span style="color:#ff9900;">代码放开头，供大家查询。</span></strong></p> 
 <p><strong>还有对代码的分析，我将以类为单位分开讲解。</strong></p> 
</blockquote> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%85%A8%E9%83%A8%E4%BB%A3%E7%A0%81%C2%A0-toc" style="margin-left:0px;"><a href="#%E5%85%A8%E9%83%A8%E4%BB%A3%E7%A0%81%C2%A0" rel="nofollow">全部代码 </a></p> 
<p id="Main%E7%B1%BB%C2%A0-toc" style="margin-left:0px;"><a href="#Main%E7%B1%BB%C2%A0" rel="nofollow">Main类 </a></p> 
<p id="User%E7%B1%BB%C2%A0-toc" style="margin-left:0px;"><a href="#User%E7%B1%BB%C2%A0" rel="nofollow">User类 </a></p> 
<p id="BookList%E7%B1%BB%C2%A0-toc" style="margin-left:0px;"><a href="#BookList%E7%B1%BB%C2%A0" rel="nofollow">BookList类 </a></p> 
<p id="Book%E7%B1%BB%C2%A0-toc" style="margin-left:0px;"><a href="#Book%E7%B1%BB%C2%A0" rel="nofollow">Book类 </a></p> 
<p id="NormalUser%E7%B1%BB%C2%A0-toc" style="margin-left:0px;"><a href="#NormalUser%E7%B1%BB%C2%A0" rel="nofollow">NormalUser类 </a></p> 
<hr id="hr-toc"> 
<p></p> 
<p> </p> 
<h2 id="%E5%85%A8%E9%83%A8%E4%BB%A3%E7%A0%81%C2%A0">全部代码 </h2> 
<pre><code class="language-java">/*一共有三个包*/

//User包
//User.java
package user;
import Book.BookList;
import Operation.IOparetion;

public abstract class User {
    protected String name;
    protected IOparetion[] iOparetions;

    public User(String name) {
        this.name = name;
    }

    public abstract int menu();

    public void doIOparetion(int chioce, BookList bookList){
        this.iOparetions[chioce].work(bookList);
    }
}







//User包
//NormalUser.java
package user;
import Operation.*;
import java.util.Scanner;

public class NormalUser extends User{
    public NormalUser(String name) {
        super(name);
        this.iOparetions= new IOparetion[] {
                new ExitOparetion(),
                new FindOparetion(),
                new BorrowedOparetion(),
                new ReturnOparetion()
    };
    }
    @Override
    public int menu() {
        System.out.println("******管理员用户******");
        System.out.println("1.查找图书");
        System.out.println("2.借阅图书");
        System.out.println("3.归还图书");
        System.out.println("0.退出系统");
        System.out.println("******************");
        System.out.println("请输入数字：");
        Scanner scanner=new Scanner(System.in);
        int choice= scanner.nextInt();
        return choice;
    }
}






//User包
//Administrators.java
package user;
import Operation.*;
import java.util.Scanner;

public class Administrators extends User {
    public Administrators(String name) {
        super(name);
        this.iOparetions = new IOparetion[]{
                new ExitOparetion(),
                new FindOparetion(),
                new AddOparetion(),
                new DelOparetion(),
                new ShowOparetion()
        };
    }
    public int menu() {
        System.out.println("******普通用户******");
        System.out.println("1.查找图书");
        System.out.println("2.新增图书");
        System.out.println("3.删除图书");
        System.out.println("4.显示图书");
        System.out.println("0.退出系统");
        System.out.println("******************");
        System.out.println("请输入数字：");
        Scanner scanner = new Scanner(System.in);
        int choice = scanner.nextInt();
        return choice;
    }
}





//Book包
//Book.java
package Book;

public class Book {
    private String name;
    private String author;
    private int price;
    private String type;
    private boolean isLend;

    public Book(String name, String author, int price, String type) {
        this.name = name;
        this.author = author;
        this.price = price;
        this.type = type;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getAuthor() {
        return author;
    }

    public void setAuthor(String author) {
        this.author = author;
    }

    public int getPrice() {
        return price;
    }

    public void setPrice(int price) {
        this.price = price;
    }

    public String getType() {
        return type;
    }

    public void setType(String type) {
        this.type = type;
    }

    public boolean isLend() {
        return isLend;
    }

    public void setLend(boolean lend) {
        isLend = lend;
    }

    @Override
    public String toString() {
        return "Book{" +
                "name='" + name + '\'' +
                ", author='" + author + '\'' +
                ", price=" + price +
                ", type='" + type + '\'' +
                (isLend==true?"已借出":"未借出")+
                '}';
    }
}





//Book包
//BookList.java
package Book;

public class BookList {
    private Book[] book=new Book[10];
    private int usedSize;

    public Book getBook(int pos) {
        return book[pos];
    }

    public void setBook(int pos,Book book) {
        this.book[pos] = book;
    }

    public int getUsedSize() {
        return usedSize;
    }

    public void setUsedSize(int usedSize) {
        this.usedSize = usedSize;
    }

    public BookList() {
        book[0]=new Book("西游记","吴承恩",19,"小说");
        book[1]=new Book("三国演义","罗贯中",36,"小说");
        book[2]=new Book("红楼梦","曹雪芹",13,"小说");
        this.usedSize=3;
    }
    public boolean isFull(){
        if(usedSize==book.length){
            return true;
        }return false;
    }
}





//Oparetion包
//Ioparetion.java
package Operation;

import Book.BookList;

public interface IOparetion {
    void work(BookList bookList);
}





//Oparetion包
//AddOparetion.java
package Operation;

import Book.Book;
import Book.BookList;
import java.util.Scanner;

public class AddOparetion implements IOparetion {
    @Override
    public void work(BookList bookList) {
        Scanner scanner=new Scanner(System.in);
        System.out.println("请输入你要添加的书籍名字");
        String name=scanner.nextLine();
        System.out.println("请输入作者的名字");
        String author=scanner.nextLine();
        System.out.println("请输入书的种类");
        String type=scanner.nextLine();
        System.out.println("请输入书的价格");
        int price=scanner.nextInt();
        Book book=new Book(name,author,price,type);
        if(bookList.isFull()){
            System.out.println("书架满了，借阅失败");
            return;
        }
        bookList.setBook(bookList.getUsedSize(), book);
        bookList.setUsedSize(bookList.getUsedSize()+1);
        System.out.println("添加成功");
    }
}




//Oparetion包
//BorrowedOparetion.java
package Operation;

import Book.BookList;
import java.util.Scanner;

public class BorrowedOparetion implements IOparetion{
    @Override
    public void work(BookList bookList) {
        System.out.println("请输入你要找的书名");
        Scanner scanner=new Scanner(System.in);
        String name=scanner.nextLine();
        for(int i=0;i&lt;bookList.getUsedSize();i++){
            if(name.equals(bookList.getBook(i).getName())){
                bookList.getBook(i).setLend(true);
                System.out.println("借阅成功");
                return;
            }
        }
        System.out.println("借阅失败");
    }
    }




//Oparetion包
//DelOparetion.java
package Operation;

import Book.BookList;
import java.util.Scanner;

public class DelOparetion implements IOparetion{
    @Override
    public void work(BookList bookList) {
        System.out.println("请输入你要删除的书籍名字");
        Scanner scanner=new Scanner(System.in);
        String s=scanner.nextLine();
        int pos=-1;
        int i=0;
        for (;i&lt;bookList.getUsedSize();i++){
            if(s.equals(bookList.getBook(i))){
                pos=i;
            }
            if(i&gt;=bookList.getUsedSize()){
                System.out.println("没有你要找的书");
                return;
            }
        }for(int j=i;i&lt;bookList.getUsedSize()-1;i++){
            bookList.setBook(j,bookList.getBook(j+1));

        }
        bookList.setBook(bookList.getUsedSize(), null);
        bookList.setUsedSize(bookList.getUsedSize()-1);
        System.out.println("删除成功");
    }
}





//Oparetion包
//ExitOparetion.java
package Operation;
import Book.BookList;

public class ExitOparetion implements IOparetion {
    @Override
    public void work(BookList bookList) {
        System.out.println("退出系统中....");
        for(int i=0;i&lt;bookList.getUsedSize()-1;i++){
            bookList.setBook(i,null);
        }
        System.exit(0);
    }
}




//Oparetion包
//FindOparetion.java
package Operation;

import Book.BookList;
import java.util.Scanner;

public class FindOparetion implements IOparetion{
    @Override
    public void work(BookList bookList) {
        System.out.println("请输入你要找的书名");
        Scanner scanner=new Scanner(System.in);
        String name=scanner.nextLine();
        for(int i=0;i&lt;bookList.getUsedSize();i++){
            if(name.equals(bookList.getBook(i).getName())){
                System.out.println("找到了，下标为："+i);
                System.out.println(bookList.getBook(i));
                return;
            }
        }
        System.out.println("没找到");
    }
}




//Oparetion包
//ReturnOparetion.java
package Operation;

import Book.BookList;
import java.util.Scanner;

public class ReturnOparetion implements IOparetion{
    @Override
    public void work(BookList bookList) {
        Scanner scanner=new Scanner(System.in);
        System.out.println("请输入你要归还的书名");
        String s=scanner.nextLine();
        for (int i = 0; i &lt; bookList.getUsedSize()-1; i++) {
            if(s.equals(bookList.getBook(i).getName())){
                bookList.getBook(i).setLend(false);
                System.out.println("归还成功");
                return;
            }
        }
        System.out.println("归还失败，没有你要归还的书");
    }
}




//Oparetion包
//ShowOparetion.java
package Operation;
import Book.BookList;

public class ShowOparetion implements IOparetion{
    @Override
    public void work(BookList bookList) {
        for(int i=0;i&lt;bookList.getUsedSize();i++){
            System.out.println(bookList.getBook(i));
        }
    }
    }</code></pre> 
<blockquote> 
 <p> 首先，我们需要打个框架出来，由于java是一门面向对象的编程，所以我们应该要多考虑对象，而不是过程。</p> 
 <p>我将它分为三个包：<strong>User、Book、operation包</strong>，其实对象有：<span style="color:#ff9900;"><strong>书架、书、用户、管理员。</strong></span></p> 
 <p>总体请看下图：</p> 
</blockquote> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/61/83/19H0YUr1_o.jpg"></p> 
<blockquote> 
 <p>这里我主要讲解大致结构和细微的细节 ，因为方法的思路在数据结构讲解更加清晰</p> 
</blockquote> 
<h2 id="Main%E7%B1%BB%C2%A0">Main类 </h2> 
<pre><code class="language-java">public class Main {
    public static User login(){
        Scanner scanner=new Scanner(System.in);
        System.out.println("请输入你的名字");
        String name=scanner.nextLine();
        System.out.println("请输入你的身份：1.普通用户  2.管理员用户");
        int choice =scanner.nextInt();
        if(choice==1){
            NormalUser normalUser=new NormalUser(name);
            return normalUser;
        }else{
            Administrators administrators=new Administrators(name);
            return administrators;
        }
    }
    public static void main(String[] args) {
        BookList bookList=new BookList();
        User user=login();
        while (true){
            int ret=user.menu();
            user.doIOparetion(ret,bookList);
        }
    }
}
</code></pre> 
<blockquote> 
 <p> 上述代码中：</p> 
 <p>Scanner来new一个对象来输入，int一个choice来接收选1还是2，选择是管理人还是普通用户。</p> 
 <p>由于要<span style="color:#ff9900;"><strong>返回一个</strong></span><span style="color:#be191c;"><strong>对象</strong></span><span style="color:#ff9900;"><strong>，所以login的返回值是user类型的</strong></span>，user与管理员和普通用户是父子关系，<strong>在main中用user类型接收，属于向上转型（好处就是发生多态）</strong>。</p> 
</blockquote> 
<h2 id="User%E7%B1%BB%C2%A0">User类 </h2> 
<pre><code class="language-java">package user;
import Book.BookList;
import Operation.IOparetion;

public abstract class User {
    protected String name;
    protected IOparetion[] iOparetions;

    public User(String name) {
        this.name = name;
    }

    public abstract int menu();

    public void doIOparetion(int chioce, BookList bookList){
        this.iOparetions[chioce].work(bookList);
    }
}
</code></pre> 
<blockquote> 
 <p> 上述代码中：</p> 
 <p>User作为父类，被管理员和普通用户继承，被abstract修饰主要是为了menu这个方法被继承，<strong>实现<span style="color:#be191c;">多态</span></strong>。</p> 
 <p>IOparetion是一个接口，是为了被那些add和del等等方法实现的，还是实现多态，</p> 
 <p><strong>它现在<span style="color:#ff9900;">作为一个数组来接收，是为了存放这些方法</span></strong>，这样就不用一个个在用户或者管理员里面书写了，可以直接定义为一个类（这也是为什么方法可以另外书写的原因），这体现了面向对象的特点，<strong>大大缩短了工程量和分模块的简洁性</strong>（即使下次有人需要用，不需要再写，直接调用就好了）。</p> 
</blockquote> 
<h2 id="BookList%E7%B1%BB%C2%A0"><strong>BookList类 </strong></h2> 
<pre><code class="language-java">package Book;

public class BookList {
    private Book[] book=new Book[10];
    private int usedSize;

    public Book getBook(int pos) {
        return book[pos];
    }

    public void setBook(int pos,Book book) {
        this.book[pos] = book;
    }

    public int getUsedSize() {
        return usedSize;
    }

    public void setUsedSize(int usedSize) {
        this.usedSize = usedSize;
    }

    public BookList() {
        book[0]=new Book("西游记","吴承恩",19,"小说");
        book[1]=new Book("三国演义","罗贯中",36,"小说");
        book[2]=new Book("红楼梦","曹雪芹",13,"小说");
        this.usedSize=3;
    }
    public boolean isFull(){
        if(usedSize==book.length){
            return true;
        }return false;
    }
}
</code></pre> 
<blockquote> 
 <p> 对于上述代码：</p> 
 <p>由于java是面向对象编程，所以<strong>对于一些信息不需要用户来知道内部是怎么实现的</strong>，所以<strong><span style="color:#ff9900;">用private修饰，这样的话需要set和get方法来获取，这样之后的代码都需要调用set和get来获取或者是赋值。</span></strong></p> 
 <p>BookList是书架，所以里面是摆书的，<span style="color:#ff9900;"><strong>所以用Book类型作为数组，来收取book。可以放很多本。</strong></span></p> 
 <p><strong>usedsize是有效书籍数，就是记录里面有多少本。</strong></p> 
</blockquote> 
<h2 id="Book%E7%B1%BB%C2%A0">Book类 </h2> 
<pre><code class="language-java">package Book;

public class Book {
    private String name;
    private String author;
    private int price;
    private String type;
    private boolean isLend;

    public Book(String name, String author, int price, String type) {
        this.name = name;
        this.author = author;
        this.price = price;
        this.type = type;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getAuthor() {
        return author;
    }

    public void setAuthor(String author) {
        this.author = author;
    }

    public int getPrice() {
        return price;
    }

    public void setPrice(int price) {
        this.price = price;
    }

    public String getType() {
        return type;
    }

    public void setType(String type) {
        this.type = type;
    }

    public boolean isLend() {
        return isLend;
    }

    public void setLend(boolean lend) {
        isLend = lend;
    }
    @Override
    public String toString() {
        return "Book{" +
                "name='" + name + '\'' +
                ", author='" + author + '\'' +
                ", price=" + price +
                ", type='" + type + '\'' +
                (isLend==true?"已借出":"未借出")+
                '}';
    }
}
</code></pre> 
<blockquote> 
 <p>对于上述代码：</p> 
 <p>Book是类，它代表的是一本书，所以你需要定义名字作者价格什么什么的。</p> 
 <p><strong>也是利用封装，只把必要的信息给用户，所以用privat密封起来，更加安全一点，所以需要set和get方法。</strong></p> 
 <p>这里的toString方法里面有个三目操作符，如果isLend被借出的话，就是true，就会打印已借出，否则为借出。 </p> 
</blockquote> 
<h2 id="NormalUser%E7%B1%BB%C2%A0">NormalUser类 </h2> 
<pre><code class="language-java">package user;
import Operation.*;
import java.util.Scanner;

public class NormalUser extends User{
    public NormalUser(String name) {
        super(name);
        this.iOparetions= new IOparetion[] {
                new ExitOparetion(),
                new FindOparetion(),
                new BorrowedOparetion(),
                new ReturnOparetion()
    };
    }
    @Override
    public int menu() {
        System.out.println("******管理员用户******");
        System.out.println("1.查找图书");
        System.out.println("2.借阅图书");
        System.out.println("3.归还图书");
        System.out.println("0.退出系统");
        System.out.println("******************");
        System.out.println("请输入数字：");
        Scanner scanner=new Scanner(System.in);
        int choice= scanner.nextInt();
        return choice;
    }
}
</code></pre> 
<blockquote> 
 <p>对于上述代码：</p> 
 <p><strong>如果继承了父类，使用构造方法时候需要先把父类的构造方法实现。</strong></p> 
 <p><span style="color:#ff9900;"><strong>因为IOparetion是user里面的，user被普通用户继承，所以可以直接访问</strong></span>，<span style="color:#be191c;"><strong>把他变成一个数组，这样就可以存方法了</strong></span>，不用在这普通用户这个类里一个一个方法写，直接脱离出来，非常充分体现了面向对象的特点！</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8347b1722b23b960fd43f580d06b795e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">string类的介绍与使用【C&#43;&#43;】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6a50f5777eff1619d65136c95276a7fe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如果有多个文件夹，怎么快速获得文件夹的名字呢</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
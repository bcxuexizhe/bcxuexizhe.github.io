<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL-----å¤šè¡¨æŸ¥è¯¢ï¼ˆä¸€ï¼‰ - ç¼–ç¨‹å­¦ä¹ è€…</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/42030ba12059debcaf1ae53f57fc6df2/">
  <meta property="og:site_name" content="ç¼–ç¨‹å­¦ä¹ è€…">
  <meta property="og:title" content="MySQL-----å¤šè¡¨æŸ¥è¯¢ï¼ˆä¸€ï¼‰">
  <meta property="og:description" content="ç›®å½•
ä¸€.å¤šè¡¨å…³ç³»ï¼š
1.1Â ä¸€å¯¹å¤š(å¤šå¯¹ä¸€)ï¼š
1.2Â å¤šå¯¹å¤š:
1.3 ä¸€å¯¹ä¸€:
äºŒ.å¤šè¡¨æŸ¥è¯¢æ¦‚è¿°ï¼š
ä¸‰.è¿æ¥æŸ¥è¯¢ï¼š
3.1å†…è¿æ¥ï¼š
3.2å¤–è¿æ¥ï¼š
3.3è‡ªè¿æ¥æŸ¥è¯¢ï¼š
3.4è”åˆæŸ¥è¯¢ï¼š
ä¸€.å¤šè¡¨å…³ç³»ï¼š é¡¹ç›®å¼€å‘ä¸­ï¼Œåœ¨è¿›è¡Œæ•°æ®åº“è¡¨ç»“æ„è®¾è®¡æ—¶ï¼Œä¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠä¸šåŠ¡æ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œåˆ†æå¹¶è®¾è®¡è¡¨ç»“æ„ï¼Œç”±äºä¸šåŠ¡ä¹‹é—´ç›¸äº’å…³è”ï¼Œæ‰€ä»¥å„ä¸ªè¡¨ç»“æ„ä¹‹é—´ä¹Ÿå­˜åœ¨ç€å„ç§è”ç³»ï¼ŒåŸºæœ¬ä¸Šåˆ†ä¸ºä¸‰ç§ï¼š
ä¸€å¯¹å¤š(å¤šå¯¹ä¸€)å¤šå¯¹å¤šä¸€å¯¹ä¸€ 1.1Â ä¸€å¯¹å¤š(å¤šå¯¹ä¸€)ï¼š æ¡ˆä¾‹: éƒ¨é—¨ ä¸ å‘˜å·¥çš„å…³ç³»å…³ç³»: ä¸€ä¸ªéƒ¨é—¨å¯¹åº”å¤šä¸ªå‘˜å·¥ï¼Œä¸€ä¸ªå‘˜å·¥å¯¹åº”ä¸€ä¸ªéƒ¨é—¨å®ç°: åœ¨å¤šçš„ä¸€æ–¹å»ºç«‹å¤–é”®ï¼ŒæŒ‡å‘ä¸€çš„ä¸€æ–¹çš„ä¸»é”® å¤§è‡´å…³ç³»å›¾ï¼ˆå±•ç¤ºéƒ¨åˆ†ï¼‰ï¼š
å¯¹åº”SQLè„šæœ¬ï¼š
create table dept( id int auto_increment comment &#39;ID&#39; primary key, name varchar(50) not null comment &#39;éƒ¨é—¨åç§°&#39; )comment &#39;éƒ¨é—¨è¡¨&#39;; INSERT INTO dept (id, name) VALUES (1, &#39;ç ”å‘éƒ¨&#39;), (2, &#39;å¸‚åœºéƒ¨&#39;),(3, &#39;è´¢åŠ¡éƒ¨&#39;), (4, &#39;é”€å”®éƒ¨&#39;), (5, &#39;æ€»ç»åŠ&#39;); create table emp( id int auto_increment comment &#39;ID&#39; primary key, name varchar(50) not null comment &#39;å§“å&#39;, age int comment &#39;å¹´é¾„&#39;, job varchar(20) comment &#39;èŒä½&#39;, salary int comment &#39;è–ªèµ„&#39;, entrydate date comment &#39;å…¥èŒæ—¶é—´&#39;, managerid int comment &#39;ç›´å±é¢†å¯¼ID&#39;, dept_id int comment &#39;éƒ¨é—¨ID&#39; )comment &#39;å‘˜å·¥è¡¨&#39;; INSERT INTO emp (id, name, age, job,salary, entrydate, managerid, dept_id) VALUES (1, &#39;é‡‘åº¸&#39;, 66, &#39;æ€»è£&#39;,20000, &#39;2000-01-01&#39;, null,5),(2, &#39;å¼ æ— å¿Œ&#39;, 20, &#39;é¡¹ç›®ç»ç†&#39;,12500, &#39;2005-12-05&#39;, 1,1), (3, &#39;æ¨é€&#39;, 33, &#39;å¼€å‘&#39;, 8400,&#39;2000-11-03&#39;, 2,1),(4, &#39;éŸ¦ä¸€ç¬‘&#39;, 48, &#39;å¼€ å‘&#39;,11000, &#39;2002-02-05&#39;, 2,1), (5, &#39;å¸¸é‡æ˜¥&#39;, 43, &#39;å¼€å‘&#39;,10500, &#39;2004-09-07&#39;, 3,1),(6, &#39;å°æ˜­&#39;, 19, &#39;ç¨‹ åºå‘˜é¼“åŠ±å¸ˆ&#39;,6600, &#39;2004-10-12&#39;, 2,1); -- æ·»åŠ å¤–é”®çº¦æŸ alter table emp add constraint fk_emp_dept_id foreign key (dept_id) references dept(id); 1.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-25T15:56:14+08:00">
    <meta property="article:modified_time" content="2024-04-25T15:56:14+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å­¦ä¹ è€…" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å­¦ä¹ è€…</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL-----å¤šè¡¨æŸ¥è¯¢ï¼ˆä¸€ï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%E4%B8%80.%E5%A4%9A%E8%A1%A8%E5%85%B3%E7%B3%BB%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%B8%80.%E5%A4%9A%E8%A1%A8%E5%85%B3%E7%B3%BB%EF%BC%9A" rel="nofollow">ä¸€.å¤šè¡¨å…³ç³»ï¼š</a></p> 
<p id="1.1%C2%A0%E4%B8%80%E5%AF%B9%E5%A4%9A(%E5%A4%9A%E5%AF%B9%E4%B8%80)%EF%BC%9A-toc" style="margin-left:40px;"><a href="#1.1%C2%A0%E4%B8%80%E5%AF%B9%E5%A4%9A%28%E5%A4%9A%E5%AF%B9%E4%B8%80%29%EF%BC%9A" rel="nofollow">1.1Â ä¸€å¯¹å¤š(å¤šå¯¹ä¸€)ï¼š</a></p> 
<p id="1.2%C2%A0%E5%A4%9A%E5%AF%B9%E5%A4%9A%3A-toc" style="margin-left:40px;"><a href="#1.2%C2%A0%E5%A4%9A%E5%AF%B9%E5%A4%9A%3A" rel="nofollow">1.2Â å¤šå¯¹å¤š:</a></p> 
<p id="1.3%20%E4%B8%80%E5%AF%B9%E4%B8%80%3A-toc" style="margin-left:40px;"><a href="#1.3%20%E4%B8%80%E5%AF%B9%E4%B8%80%3A" rel="nofollow">1.3 ä¸€å¯¹ä¸€:</a></p> 
<p id="%E4%BA%8C.%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E6%A6%82%E8%BF%B0%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%BA%8C.%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E6%A6%82%E8%BF%B0%EF%BC%9A" rel="nofollow">äºŒ.å¤šè¡¨æŸ¥è¯¢æ¦‚è¿°ï¼š</a></p> 
<p id="%E4%B8%89.%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%B8%89.%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%EF%BC%9A" rel="nofollow">ä¸‰.è¿æ¥æŸ¥è¯¢ï¼š</a></p> 
<p id="3.1%E5%86%85%E8%BF%9E%E6%8E%A5%EF%BC%9A-toc" style="margin-left:40px;"><a href="#3.1%E5%86%85%E8%BF%9E%E6%8E%A5%EF%BC%9A" rel="nofollow">3.1å†…è¿æ¥ï¼š</a></p> 
<p id="3.2%E5%A4%96%E8%BF%9E%E6%8E%A5%EF%BC%9A-toc" style="margin-left:40px;"><a href="#3.2%E5%A4%96%E8%BF%9E%E6%8E%A5%EF%BC%9A" rel="nofollow">3.2å¤–è¿æ¥ï¼š</a></p> 
<p id="3.3%E8%87%AA%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%EF%BC%9A-toc" style="margin-left:40px;"><a href="#3.3%E8%87%AA%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%EF%BC%9A" rel="nofollow">3.3è‡ªè¿æ¥æŸ¥è¯¢ï¼š</a></p> 
<p id="3.4%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%EF%BC%9A-toc" style="margin-left:40px;"><a href="#3.4%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%EF%BC%9A" rel="nofollow">3.4è”åˆæŸ¥è¯¢ï¼š</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80.%E5%A4%9A%E8%A1%A8%E5%85%B3%E7%B3%BB%EF%BC%9A" style="background-color:transparent;">ä¸€.å¤šè¡¨å…³ç³»ï¼š</h2> 
<p>é¡¹ç›®å¼€å‘ä¸­ï¼Œ<span style="background-color:#ffd900;">åœ¨è¿›è¡Œæ•°æ®åº“è¡¨ç»“æ„è®¾è®¡æ—¶ï¼Œä¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚åŠä¸šåŠ¡æ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œåˆ†æå¹¶è®¾è®¡è¡¨ç»“æ„</span>ï¼Œç”±äºä¸šåŠ¡ä¹‹é—´ç›¸äº’å…³è”ï¼Œæ‰€ä»¥å„ä¸ªè¡¨ç»“æ„ä¹‹é—´ä¹Ÿå­˜åœ¨ç€å„ç§è”ç³»ï¼ŒåŸºæœ¬ä¸Šåˆ†ä¸ºä¸‰ç§ï¼š</p> 
<ul><li>ä¸€å¯¹å¤š(å¤šå¯¹ä¸€)</li><li>å¤šå¯¹å¤š</li><li>ä¸€å¯¹ä¸€</li></ul> 
<h3 id="1.1%C2%A0%E4%B8%80%E5%AF%B9%E5%A4%9A(%E5%A4%9A%E5%AF%B9%E4%B8%80)%EF%BC%9A">1.1Â ä¸€å¯¹å¤š(å¤šå¯¹ä¸€)ï¼š</h3> 
<ul><li>æ¡ˆä¾‹: éƒ¨é—¨ ä¸ å‘˜å·¥çš„å…³ç³»</li><li>å…³ç³»: <span style="background-color:#ffd900;">ä¸€ä¸ªéƒ¨é—¨å¯¹åº”å¤šä¸ªå‘˜å·¥ï¼Œä¸€ä¸ªå‘˜å·¥å¯¹åº”ä¸€ä¸ªéƒ¨é—¨</span></li><li>å®ç°: åœ¨å¤šçš„ä¸€æ–¹å»ºç«‹å¤–é”®ï¼ŒæŒ‡å‘ä¸€çš„ä¸€æ–¹çš„ä¸»é”®</li></ul> 
<p>å¤§è‡´å…³ç³»å›¾ï¼ˆå±•ç¤ºéƒ¨åˆ†ï¼‰ï¼š</p> 
<p><img alt="" height="346" src="https://images2.imgbox.com/01/30/pRPvZqac_o.png" width="1200"></p> 
<p>å¯¹åº”SQLè„šæœ¬ï¼š</p> 
<pre><code class="language-sql">create table dept(
id int auto_increment comment 'ID' primary key,
name varchar(50) not null comment 'éƒ¨é—¨åç§°'
)comment 'éƒ¨é—¨è¡¨';
INSERT INTO dept (id, name) VALUES (1, 'ç ”å‘éƒ¨'), (2, 'å¸‚åœºéƒ¨'),(3, 'è´¢åŠ¡éƒ¨'), (4,
'é”€å”®éƒ¨'), (5, 'æ€»ç»åŠ');
 
create table emp(
id int auto_increment comment 'ID' primary key,
name varchar(50) not null comment 'å§“å',
age int comment 'å¹´é¾„',
job varchar(20) comment 'èŒä½',
salary int comment 'è–ªèµ„',
entrydate date comment 'å…¥èŒæ—¶é—´',
managerid int comment 'ç›´å±é¢†å¯¼ID',
dept_id int comment 'éƒ¨é—¨ID'
)comment 'å‘˜å·¥è¡¨';
 
INSERT INTO emp (id, name, age, job,salary, entrydate, managerid, dept_id)
VALUES
(1, 'é‡‘åº¸', 66, 'æ€»è£',20000, '2000-01-01', null,5),(2, 'å¼ æ— å¿Œ', 20,
'é¡¹ç›®ç»ç†',12500, '2005-12-05', 1,1),
(3, 'æ¨é€', 33, 'å¼€å‘', 8400,'2000-11-03', 2,1),(4, 'éŸ¦ä¸€ç¬‘', 48, 'å¼€
å‘',11000, '2002-02-05', 2,1),
(5, 'å¸¸é‡æ˜¥', 43, 'å¼€å‘',10500, '2004-09-07', 3,1),(6, 'å°æ˜­', 19, 'ç¨‹
åºå‘˜é¼“åŠ±å¸ˆ',6600, '2004-10-12', 2,1);
-- æ·»åŠ å¤–é”®çº¦æŸ
alter table emp add constraint fk_emp_dept_id foreign key (dept_id) references
dept(id);
</code></pre> 
<h3 id="1.2%C2%A0%E5%A4%9A%E5%AF%B9%E5%A4%9A%3A">1.2Â å¤šå¯¹å¤š:</h3> 
<ul><li>æ¡ˆä¾‹: å­¦ç”Ÿ ä¸ è¯¾ç¨‹çš„å…³ç³»</li><li>å…³ç³»: <span style="background-color:#ffd900;">ä¸€ä¸ªå­¦ç”Ÿå¯ä»¥é€‰ä¿®å¤šé—¨è¯¾ç¨‹ï¼Œä¸€é—¨è¯¾ç¨‹ä¹Ÿå¯ä»¥ä¾›å¤šä¸ªå­¦ç”Ÿé€‰æ‹©</span></li><li>å®ç°: å»ºç«‹ç¬¬ä¸‰å¼ ä¸­é—´è¡¨ï¼Œä¸­é—´è¡¨è‡³å°‘åŒ…å«ä¸¤ä¸ªå¤–é”®ï¼Œåˆ†åˆ«å…³è”ä¸¤æ–¹ä¸»é”®</li></ul> 
<p>å¤§è‡´å…³ç³»å›¾ï¼š</p> 
<p><img alt="" height="400" src="https://images2.imgbox.com/5e/0b/D6UxiILR_o.png" width="1200"></p> 
<p>å¯¹åº”SQLè„šæœ¬ï¼š</p> 
<pre><code class="language-sql">-- å»ºç«‹å­¦ç”Ÿè¡¨
reate table student(
id int auto_increment primary key comment 'ä¸»é”®ID',
name varchar(10) comment 'å§“å',
no varchar(10) comment 'å­¦å·'
) comment 'å­¦ç”Ÿè¡¨';

insert into student values (null, 'é»›ç»®ä¸', '2000100101'),(null, 'è°¢é€Š',
'2000100102'),(null, 'æ®·å¤©æ­£', '2000100103'),(null, 'éŸ¦ä¸€ç¬‘', '2000100104');
-- å»ºç«‹è¯¾ç¨‹è¡¨
create table course(
id int auto_increment primary key comment 'ä¸»é”®ID',
name varchar(10) comment 'è¯¾ç¨‹åç§°'
) comment 'è¯¾ç¨‹è¡¨';

insert into course values (null, 'Java'), (null, 'PHP'), (null , 'MySQL') ,
(null, 'Hadoop');

-- å»ºç«‹äºŒè€…å…³ç³»è¡¨
create table student_course(
id int auto_increment comment 'ä¸»é”®' primary key,
studentid int not null comment 'å­¦ç”ŸID',
courseid int not null comment 'è¯¾ç¨‹ID',
constraint fk_courseid foreign key (courseid) references course (id), -- åŠ å…¥å¤–é”®çº¦æŸ
constraint fk_studentid foreign key (studentid) references student (id)
)comment 'å­¦ç”Ÿè¯¾ç¨‹ä¸­é—´è¡¨';
insert into student_course values (null,1,1),(null,1,2),(null,1,3),(null,2,2),
(null,2,3),(null,3,4)</code></pre> 
<h3 id="1.3%20%E4%B8%80%E5%AF%B9%E4%B8%80%3A">1.3 ä¸€å¯¹ä¸€:</h3> 
<ul><li>æ¡ˆä¾‹: ç”¨æˆ· ä¸ ç”¨æˆ·è¯¦æƒ…çš„å…³ç³»</li><li>å…³ç³»: <span style="background-color:#ffd900;">ä¸€å¯¹ä¸€å…³ç³»ï¼Œå¤šç”¨äºå•è¡¨æ‹†åˆ†ï¼Œå°†ä¸€å¼ è¡¨çš„åŸºç¡€å­—æ®µæ”¾åœ¨ä¸€å¼ è¡¨ä¸­ï¼Œå…¶ä»–è¯¦æƒ…å­—æ®µæ”¾åœ¨å¦ ä¸€å¼ è¡¨ä¸­ï¼Œä»¥æå‡æ“ä½œæ•ˆç‡</span></li><li>å®ç°: åœ¨ä»»æ„ä¸€æ–¹åŠ å…¥å¤–é”®ï¼Œå…³è”å¦å¤–ä¸€æ–¹çš„ä¸»é”®ï¼Œå¹¶ä¸”è®¾ç½®å¤–é”®ä¸ºå”¯ä¸€(UNIQUE)</li></ul> 
<p>å¤§è‡´å…³ç³»å›¾ï¼š</p> 
<p><img alt="" height="261" src="https://images2.imgbox.com/21/7a/H4nKBaWV_o.png" width="1200"></p> 
<p>å¯¹åº”SQLè„šæœ¬ï¼š</p> 
<pre><code class="language-sql">-- åˆ›å»ºç”¨æˆ·è¡¨
create table tb_user(
id int auto_increment primary key comment 'ä¸»é”®ID',
name varchar(10) comment 'å§“å',
age int comment 'å¹´é¾„',
gender char(1) comment '1: ç”· , 2: å¥³',
phone char(11) comment 'æ‰‹æœºå·'
) comment 'ç”¨æˆ·åŸºæœ¬ä¿¡æ¯è¡¨';
-- åˆ›å»ºç”¨æˆ·å—æ•™è‚²ä¿¡æ¯è¡¨
create table tb_user_edu(
id int auto_increment primary key comment 'ä¸»é”®ID',
degree varchar(20) comment 'å­¦å†',
major varchar(50) comment 'ä¸“ä¸š',
primaryschool varchar(50) comment 'å°å­¦',
middleschool varchar(50) comment 'ä¸­å­¦',
university varchar(50) comment 'å¤§å­¦',
userid int unique comment 'ç”¨æˆ·ID',
constraint fk_userid foreign key (userid) references tb_user(id)
) comment 'ç”¨æˆ·æ•™è‚²ä¿¡æ¯è¡¨';
-- å‘è¡¨ä¸­æ’å…¥æ•°æ®
insert into tb_user(id, name, age, gender, phone) values
(null,'é»„æ¸¤',45,'1','18800001111'),
(null,'å†°å†°',35,'2','18800002222'),
(null,'ç äº‘',55,'1','18800008888'),
(null,'æå½¦å®',50,'1','18800009999');

insert into tb_user_edu(id, degree, major, primaryschool, middleschool,
university, userid) values
(null,'æœ¬ç§‘','èˆè¹ˆ','é™å®‰åŒºç¬¬ä¸€å°å­¦','é™å®‰åŒºç¬¬ä¸€ä¸­å­¦','åŒ—äº¬èˆè¹ˆå­¦é™¢',1),
(null,'ç¡•å£«','è¡¨æ¼”','æœé˜³åŒºç¬¬ä¸€å°å­¦','æœé˜³åŒºç¬¬ä¸€ä¸­å­¦','åŒ—äº¬ç”µå½±å­¦é™¢',2),
(null,'æœ¬ç§‘','è‹±è¯­','æ­å·å¸‚ç¬¬ä¸€å°å­¦','æ­å·å¸‚ç¬¬ä¸€ä¸­å­¦','æ­å·å¸ˆèŒƒå¤§å­¦',3),
(null,'æœ¬ç§‘','åº”ç”¨æ•°å­¦','é˜³æ³‰ç¬¬ä¸€å°å­¦','é˜³æ³‰åŒºç¬¬ä¸€ä¸­å­¦','æ¸…åå¤§å­¦',4);</code></pre> 
<h2 id="%E4%BA%8C.%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E6%A6%82%E8%BF%B0%EF%BC%9A" style="background-color:transparent;">äºŒ.å¤šè¡¨æŸ¥è¯¢æ¦‚è¿°ï¼š</h2> 
<p>æˆ‘ä»¬ä¹‹å‰åœ¨è®²è§£SQLè¯­å¥çš„æ—¶å€™ï¼Œè®²è§£äº†DQLè¯­å¥ï¼Œä¹Ÿå°±æ˜¯æ•°æ®æŸ¥è¯¢è¯­å¥ï¼Œä½†æ˜¯ä¹‹å‰è®²è§£çš„æŸ¥è¯¢éƒ½æ˜¯å•è¡¨æŸ¥è¯¢ï¼Œè€Œæœ¬ç« èŠ‚æˆ‘ä»¬è¦å­¦ä¹ çš„åˆ™æ˜¯å¤šè¡¨æŸ¥è¯¢æ“ä½œ,<span style="background-color:#ffd900;">å¤šè¡¨æŸ¥è¯¢å°±æ˜¯æŒ‡ä»å¤šå¼ è¡¨ä¸­æŸ¥è¯¢æ•°æ®</span>ã€‚å…¶ä¸­ï¼Œå¤šè¡¨æŸ¥è¯¢åˆåˆ†ä¸ºè¿æ¥æŸ¥è¯¢ä¸å­æŸ¥è¯¢</p> 
<p><strong>åœ¨æŸ¥è¯¢ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¯¼å…¥æ•°æ®ï¼ˆå»ºç«‹è¡¨ä»¥åŠè¡¨ä¹‹é—´çš„å…³ç³»ï¼‰ï¼š</strong></p> 
<pre><code class="language-sql">-- åˆ›å»ºéƒ¨é—¨è¡¨
create table dept(
id int auto_increment comment 'ID' primary key,
name varchar(50) not null comment 'éƒ¨é—¨åç§°'
)comment 'éƒ¨é—¨è¡¨';

INSERT INTO dept (id, name) VALUES (1, 'ç ”å‘éƒ¨'), (2, 'å¸‚åœºéƒ¨'),(3, 'è´¢åŠ¡éƒ¨'), (4,
'é”€å”®éƒ¨'), (5, 'æ€»ç»åŠ'), (6, 'äººäº‹éƒ¨');
-- åˆ›å»ºå‘˜å·¥è¡¨
create table emp(
id int auto_increment comment 'ID' primary key,
name varchar(50) not null comment 'å§“å',
age int comment 'å¹´é¾„',
job varchar(20) comment 'èŒä½',
salary int comment 'è–ªèµ„',
entrydate date comment 'å…¥èŒæ—¶é—´',
managerid int comment 'ç›´å±é¢†å¯¼ID',
dept_id int comment 'éƒ¨é—¨ID'
)comment 'å‘˜å·¥è¡¨';
-- è®¾ç½®å¤–é”®çº¦æŸ
alter table emp add constraint fk_emp_dept_id foreign key (dept_id) references
dept(id);
-- æ’å…¥æ•°æ®
INSERT INTO emp (id, name, age, job,salary, entrydate, managerid, dept_id)
VALUES
(1, 'é‡‘åº¸', 66, 'æ€»è£',20000, '2000-01-01', null,5),
(2, 'å¼ æ— å¿Œ', 20, 'é¡¹ç›®ç»ç†',12500, '2005-12-05', 1,1),
(3, 'æ¨é€', 33, 'å¼€å‘', 8400,'2000-11-03', 2,1),
(4, 'éŸ¦ä¸€ç¬‘', 48, 'å¼€å‘',11000, '2002-02-05', 2,1),
(5, 'å¸¸é‡æ˜¥', 43, 'å¼€å‘',10500, '2004-09-07', 3,1),
(6, 'å°æ˜­', 19, 'ç¨‹åºå‘˜é¼“åŠ±å¸ˆ',6600, '2004-10-12', 2,1),
(7, 'ç­ç»', 60, 'è´¢åŠ¡æ€»ç›‘',8500, '2002-09-12', 1,3),
(8, 'å‘¨èŠ·è‹¥', 19, 'ä¼šè®¡',48000, '2006-06-02', 7,3),
(9, 'ä¸æ•å›', 23, 'å‡ºçº³',5250, '2009-05-13', 7,3),
(10, 'èµµæ•', 20, 'å¸‚åœºéƒ¨æ€»ç›‘',12500, '2004-10-12', 1,2),
(11, 'é¹¿æ–å®¢', 56, 'èŒå‘˜',3750, '2006-10-03', 10,2),
(12, 'é¹¤ç¬”ç¿', 19, 'èŒå‘˜',3750, '2007-05-09', 10,2),
(13, 'æ–¹ä¸œç™½', 19, 'èŒå‘˜',5500, '2009-02-12', 10,2),
(14, 'å¼ ä¸‰ä¸°', 88, 'é”€å”®æ€»ç›‘',14000, '2004-10-12', 1,4),
(15, 'ä¿è²èˆŸ', 38, 'é”€å”®',4600, '2004-10-12', 14,4),
(16, 'å®‹è¿œæ¡¥', 40, 'é”€å”®',4600, '2004-10-12', 14,4),
(17, 'é™ˆå‹è°…', 42, null,2000, '2011-10-12', 1,null);</code></pre> 
<p>åŸæ¥æŸ¥è¯¢å•è¡¨æ•°æ®ï¼Œæ‰§è¡Œçš„SQLå½¢å¼ä¸ºï¼šselect * from emp;</p> 
<p>åœ¨å¤šè¡¨æŸ¥è¯¢ä¸­ï¼Œæˆ‘ä»¬å°±åªéœ€è¦ä½¿ç”¨é€—å·åˆ†éš”å¤šå¼ è¡¨å³å¯ï¼Œå¦‚ï¼š select * from emp , dept</p> 
<p>æŸ¥è¯¢ç»“æœï¼ˆç»“æœå¾ˆé•¿ï¼Œå±•ç¤ºéƒ¨åˆ†ï¼‰ï¼š</p> 
<p><img alt="" height="1012" src="https://images2.imgbox.com/ba/f5/fxQnjjys_o.png" width="1200"></p> 
<p>ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§ç»“æœå‘¢ï¼Ÿè¿™é‡Œè¦å¼•å…¥ç¬›å¡å°”ç§¯çš„æ¦‚å¿µäº†ï¼š</p> 
<p><strong><span style="background-color:#ffd900;">ğŸ¦‰ğŸ¦‰ğŸ¦‰ç¬›å¡å°”ç§¯: ç¬›å¡å°”ä¹˜ç§¯æ˜¯æŒ‡åœ¨æ•°å­¦ä¸­ï¼Œä¸¤ä¸ªé›†åˆAé›†åˆ å’Œ Bé›†åˆçš„æ‰€æœ‰ç»„åˆæƒ…å†µ</span></strong></p> 
<p><img alt="" height="396" src="https://images2.imgbox.com/54/81/tt9gtqBr_o.png" width="1200"></p> 
<p>ä½†æ˜¯åœ¨å®é™…çš„æŸ¥è¯¢å½“ä¸­ï¼Œæˆ‘ä»¬æ˜¯è¦æ¶ˆé™¤ç¬›å¡å°”ç§¯çš„ï¼Œå…·ä½“æ€ä¹ˆæ¶ˆé™¤å‘¢ï¼Ÿå’Œå•è¡¨æŸ¥è¯¢ç±»ä¼¼ï¼ŒåŠ ä¸Šæ¡ä»¶å°±è¡Œäº†ï¼Œä¾‹å¦‚ï¼ˆæŸ¥è¯¢æ‰€æœ‰å‘˜å·¥åŠå…¶éƒ¨é—¨å¯¹åº”çš„ä¿¡æ¯ï¼‰ï¼š</p> 
<pre><code class="language-sql">select * from emp , dept where emp.dept_id = dept.id;
</code></pre> 
<p><strong>å…¨éƒ¨æŸ¥è¯¢ç»“æœï¼šÂ </strong></p> 
<p><img alt="" height="725" src="https://images2.imgbox.com/3c/b8/psWyQIGn_o.png" width="1184"></p> 
<h2 id="%E4%B8%89.%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%EF%BC%9A" style="background-color:transparent;">ä¸‰.è¿æ¥æŸ¥è¯¢ï¼š</h2> 
<p><img alt="" height="224" src="https://images2.imgbox.com/65/8e/pfmdZbAt_o.png" width="834"></p> 
<ul><li>å†…è¿æ¥ï¼šç›¸å½“äºæŸ¥è¯¢Aã€Bäº¤é›†éƒ¨åˆ†æ•°æ®</li><li>å¤–è¿æ¥ï¼š</li><li>å·¦å¤–è¿æ¥ï¼šæŸ¥è¯¢å·¦è¡¨æ‰€æœ‰æ•°æ®ï¼Œä»¥åŠä¸¤å¼ è¡¨äº¤é›†éƒ¨åˆ†æ•°æ®</li><li>å³å¤–è¿æ¥ï¼šæŸ¥è¯¢å³è¡¨æ‰€æœ‰æ•°æ®ï¼Œä»¥åŠä¸¤å¼ è¡¨äº¤é›†éƒ¨åˆ†æ•°æ®</li><li>è‡ªè¿æ¥ï¼šå½“å‰è¡¨ä¸è‡ªèº«çš„è¿æ¥æŸ¥è¯¢ï¼Œ<span style="background-color:#ffd900;">è‡ªè¿æ¥å¿…é¡»ä½¿ç”¨è¡¨åˆ«å</span>ï¼ï¼ï¼</li></ul> 
<h3 id="3.1%E5%86%85%E8%BF%9E%E6%8E%A5%EF%BC%9A" style="background-color:transparent;">3.1å†…è¿æ¥ï¼š</h3> 
<p><img alt="" height="346" src="https://images2.imgbox.com/d8/74/8w4XZJoK_o.png" width="1200"></p> 
<p>å†…è¿æ¥çš„è¯­æ³•åˆ†ä¸ºä¸¤ç§: <span style="background-color:#ffd900;">éšå¼å†…è¿æ¥ã€æ˜¾å¼å†…è¿æ¥</span>ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹è¯­æ³•è§„åˆ™ï¼š</p> 
<pre><code class="language-sql">-- éšå¼å†…è¿æ¥

SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 , è¡¨2 WHERE æ¡ä»¶ ... ;

-- æ˜¾å¼å†…è¿æ¥

SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 [ INNER ] JOIN è¡¨2 ON è¿æ¥æ¡ä»¶ ... ;
</code></pre> 
<p>æ¡ˆä¾‹ï¼š</p> 
<pre><code class="language-sql">#å†…è¿æ¥
-- A. æŸ¥è¯¢æ¯ä¸€ä¸ªå‘˜å·¥çš„å§“å , åŠå…³è”çš„éƒ¨é—¨çš„åç§° (éšå¼å†…è¿æ¥å®ç°)
-- å…¨éƒ¨ä¹¦å†™ï¼Œå¦‚æœè¡¨åå­—è¿‡é•¿å¯èƒ½å¯¼è‡´ä¹¦å†™é”™è¯¯
select emp.name,dept.name from emp,dept where emp.dept_id = dept.id;
-- ç®€å†™ï¼Œæ–¹ä¾¿ä¹¦å†™ï¼Œæ¨è
select e.name,d.name from emp e,dept d where e.dept_id = d.id;

-- B. æŸ¥è¯¢æ¯ä¸€ä¸ªå‘˜å·¥çš„å§“å , åŠå…³è”çš„éƒ¨é—¨çš„åç§° (æ˜¾å¼å†…è¿æ¥å®ç°)
select emp.name,dept.name from emp inner join dept on emp.dept_id = dept.id;
-- ç®€å†™
select e.name,d.name from emp e join dept d on e.dept_id = d.id;</code></pre> 
<p>Â æŸ¥è¯¢ç»“æœï¼ˆä¸¤ä¸ªæŸ¥è¯¢ç»“æœä¸€è‡´ï¼Œè¿™é‡Œå±•ç¤ºå…¶ä¸­ä¸€ä¸ªï¼‰ï¼š</p> 
<p><img alt="" height="353" src="https://images2.imgbox.com/d5/e6/NngTNaMV_o.png" width="217"></p> 
<h3 id="3.2%E5%A4%96%E8%BF%9E%E6%8E%A5%EF%BC%9A">3.2å¤–è¿æ¥ï¼š</h3> 
<p><img alt="" height="218" src="https://images2.imgbox.com/f2/a6/7hL7xmQA_o.png" width="794"></p> 
<p>å¤–è¿æ¥åˆ†ä¸º <span style="background-color:#ffd900;">å·¦å¤–è¿æ¥ï¼Œå³å¤–è¿æ¥</span>ï¼š</p> 
<ul><li>å·¦å¤–è¿æ¥è¯­æ³•ï¼š</li></ul> 
<pre><code class="language-sql">SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 LEFT [ OUTER ] JOIN è¡¨2 ON æ¡ä»¶ ... ;
</code></pre> 
<p>å·¦å¤–è¿æ¥ç›¸å½“äº<span style="background-color:#ffd900;">æŸ¥è¯¢è¡¨1(å·¦è¡¨)çš„æ‰€æœ‰æ•°æ®ï¼Œå½“ç„¶ä¹ŸåŒ…å«è¡¨1å’Œè¡¨2äº¤é›†éƒ¨åˆ†çš„æ•°æ®</span></p> 
<ul><li>Â å³å¤–è¿æ¥è¯­æ³•ï¼š</li></ul> 
<pre><code class="language-sql">SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 RIGHT [ OUTER ] JOIN è¡¨2 ON æ¡ä»¶ ... ;</code></pre> 
<p>å³å¤–è¿æ¥ç›¸å½“äº<span style="background-color:#ffd900;">æŸ¥è¯¢è¡¨2(å³è¡¨)çš„æ‰€æœ‰æ•°æ®ï¼Œå½“ä¹Ÿç„¶åŒ…å«è¡¨1å’Œè¡¨2äº¤é›†éƒ¨åˆ†çš„æ•°æ®</span></p> 
<p>Â æ¡ˆä¾‹æ¼”ç¤ºï¼š</p> 
<pre><code class="language-sql"># å¤–è¿æ¥
-- A. æŸ¥è¯¢empè¡¨çš„æ‰€æœ‰æ•°æ®, å’Œå¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯(å·¦å¤–è¿æ¥)

select e.*,d.name from emp e left outer join dept d on e.dept_id = d.id;

select e.*,d.name from emp e left join dept d on e.dept_id = d.id;

-- B. æŸ¥è¯¢deptè¡¨çš„æ‰€æœ‰æ•°æ®, å’Œå¯¹åº”çš„å‘˜å·¥ä¿¡æ¯(å³å¤–è¿æ¥)

select d.*,e.* from emp e right outer join dept d on e.dept_id = d.id;

select d.*,e.* from dept d left outer join emp e on e.dept_id = d.id;</code></pre> 
<p>Â æŸ¥è¯¢ç»“æœï¼š</p> 
<p><img alt="" height="795" src="https://images2.imgbox.com/17/16/QGjpOfQT_o.png" width="1200"></p> 
<h3 id="3.3%E8%87%AA%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%EF%BC%9A">3.3è‡ªè¿æ¥æŸ¥è¯¢ï¼š</h3> 
<p>Â è‡ªè¿æ¥æŸ¥è¯¢ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯è‡ªå·±è¿æ¥è‡ªå·±ï¼Œä¹Ÿå°±æ˜¯æŠŠä¸€å¼ è¡¨è¿æ¥æŸ¥è¯¢å¤šæ¬¡ã€‚æˆ‘ä»¬å…ˆæ¥å­¦ä¹ ä¸€ä¸‹è‡ªè¿æ¥çš„æŸ¥è¯¢è¯­æ³•ï¼š</p> 
<pre><code class="language-sql">SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨A åˆ«åA JOIN è¡¨A åˆ«åB ON æ¡ä»¶ ... ;
</code></pre> 
<p>æ¡ˆä¾‹ï¼š</p> 
<pre><code class="language-sql">-- 1.è‡ªè¿æ¥æŸ¥è¯¢
-- AæŸ¥è¯¢å‘˜å·¥ åŠå…¶ æ‰€å±é¢†å¯¼çš„åå­—

select a.name,b.name from emp a,emp b where a.managerid = b.id;

-- B æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥ emp åŠå…¶é¢†å¯¼çš„åå­— emp , å¦‚æœå‘˜å·¥æ²¡æœ‰é¢†å¯¼, ä¹Ÿéœ€è¦æŸ¥è¯¢å‡ºæ¥

select a.name 'å‘˜å·¥',b.name 'é¢†å¯¼' from emp a left join emp b on a.managerid = b.id;</code></pre> 
<p>Â æŸ¥è¯¢ç»“æœï¼š</p> 
<p><img alt="" height="370" src="https://images2.imgbox.com/04/8b/MqIeFsPC_o.png" width="429"></p> 
<h3 id="3.4%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%EF%BC%9A" style="background-color:transparent;">3.4è”åˆæŸ¥è¯¢ï¼š</h3> 
<p>å¯¹äºunionæŸ¥è¯¢ï¼Œå°±æ˜¯æŠŠå¤šæ¬¡æŸ¥è¯¢çš„ç»“æœåˆå¹¶èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„æŸ¥è¯¢ç»“æœé›†ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p> 
<pre><code class="language-sql">SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨A ...
UNION [ ALL ]
SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨B ....;</code></pre> 
<p>æ³¨æ„ï¼š</p> 
<ul><li><span style="background-color:#ffd900;">å¯¹äºè”åˆæŸ¥è¯¢çš„å¤šå¼ è¡¨çš„åˆ—æ•°å¿…é¡»ä¿æŒä¸€è‡´ï¼Œå­—æ®µç±»å‹ä¹Ÿéœ€è¦ä¿æŒä¸€è‡´</span></li><li><span style="background-color:#ffd900;">union all ä¼šå°†å…¨éƒ¨çš„æ•°æ®ç›´æ¥åˆå¹¶åœ¨ä¸€èµ·ï¼Œunion ä¼šå¯¹åˆå¹¶ä¹‹åçš„æ•°æ®å»é‡</span></li></ul> 
<p>æ¡ˆä¾‹ï¼š</p> 
<pre><code class="language-sql">-- 2.è”åˆæŸ¥è¯¢
-- A å°†è–ªèµ„ä½äº 5000 çš„å‘˜å·¥ï¼Œ å’Œ å¹´é¾„å¤§äº 50 å²çš„å‘˜å·¥å…¨éƒ¨æŸ¥è¯¢å‡ºæ¥.
select * from emp where salary &lt; 5000
union all
select * from emp where age &gt; 50;
-- ç”±ç»“æœå¯ä»¥çœ‹å‡ºï¼Œè”åˆæŸ¥è¯¢åªæ˜¯ä¸¤è¡¨çš„ç®€å•æ‹¼æ¥ï¼Œè¿˜æœ‰é‡å¤éƒ¨åˆ†
-- union allæŸ¥è¯¢å‡ºæ¥çš„ç»“æœï¼Œä»…ä»…è¿›è¡Œç®€å•çš„åˆå¹¶ï¼Œå¹¶æœªå»é‡

-- Bå¯¹æ•°æ®è¿›è¡Œå»é‡
select * from emp where salary &lt; 5000
union 
select * from emp where age &gt; 50;</code></pre> 
<p>æŸ¥è¯¢ç»“æœï¼š</p> 
<p><img alt="" height="609" src="https://images2.imgbox.com/1b/1c/ya9twUJD_o.png" width="1200"></p> 
<p>Â </p> 
<p>Â <strong>ç»“è¯­ï¼š</strong>Â <strong>å†™åšå®¢ä¸ä»…ä»…æ˜¯ä¸ºäº†åˆ†äº«å­¦ä¹ ç»å†ï¼ŒåŒæ—¶è¿™ä¹Ÿæœ‰åˆ©äºæˆ‘å·©å›ºçŸ¥è¯†ç‚¹ï¼Œæ€»ç»“è¯¥çŸ¥è¯†ç‚¹ï¼Œç”±äºä½œè€…æ°´å¹³æœ‰é™ï¼Œå¯¹æ–‡ç« æœ‰ä»»ä½•é—®é¢˜çš„è¿˜è¯·æŒ‡å‡ºï¼Œæ¥å—å¤§å®¶çš„æ‰¹è¯„ï¼Œè®©æˆ‘æ”¹è¿›ã€‚åŒæ—¶ä¹Ÿå¸Œæœ›è¯»è€…ä»¬ä¸åå•¬ä½ ä»¬çš„ç‚¹èµ+æ”¶è—+å…³æ³¨ï¼Œä½ ä»¬çš„é¼“åŠ±æ˜¯æˆ‘åˆ›ä½œçš„æœ€å¤§åŠ¨åŠ›ï¼</strong></p> 
<p style="text-align:center;"><strong><img alt="" height="390" src="https://images2.imgbox.com/5e/ee/T7eSFREC_o.jpg" width="390"></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a3fc035bb181f7bc414a699b0af9c9d3/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">æ·±å…¥æµ…å‡º Spring Boot 3.xï¼šä»åŸç†åˆ°å®æˆ˜ï¼Œå…¨é¢è§£é” Java åç«¯å¼€å‘æ–°æ½®æµ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b1db32014b677b1e8905e5315a7ed520/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">åŸºäºSpringBootå’ŒLeafletçš„åœ°éœ‡å°ç½‘ä¿¡æ¯é¢„è­¦å¯è§†åŒ–</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å­¦ä¹ è€….
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
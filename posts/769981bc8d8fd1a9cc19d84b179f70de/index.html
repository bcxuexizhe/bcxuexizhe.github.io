<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【数据结构|C语言版】栈和队列 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/769981bc8d8fd1a9cc19d84b179f70de/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="【数据结构|C语言版】栈和队列">
  <meta property="og:description" content="前言1. 栈1.1 栈的概念和性质1.2 顺序栈1.3 链栈1.4 共享栈 2. 队列2.1 队列的概念和性质2.2 循环队列2.3 链式队列2.4 双端队列 3. 例题精选3.1 有效的括号3.2 用队列实现栈2.4 用栈实现队列3.4 设计循环队列3.5 参考答案 结语 #include&lt;GUIQU.h&gt;
int main {
上期回顾: 【数据结构|C语言版】算法效率和复杂度分析
个人主页：C_GUIQU
归属专栏：【数据结构（C语言版）学习】
return 一键三连;
}
前言 各位小伙伴大家好！上次小编给大家讲解了数据结构中的重要基础：算法效率和复杂度分析，接下来我们讲解一下栈和队列！
【知识框架】
1. 栈 1.1 栈的概念和性质 栈（Stack）是一种基本的数据结构，它遵循后进先出（Last In, First Out, LIFO）的原则。这意味着最后一个被添加到栈中的元素将会是第一个被移除的元素。这个特性使得栈在解决特定类型的问题时非常有用，比如内存管理、函数调用、表达式求值等场景。
【基本概念】
栈顶（Top）与栈底（Bottom）：
栈顶是进行元素插入（称为“压栈”）和删除（称为“弹栈”）操作的位置。栈底则是栈的另一端，通常不进行直接操作。 操作：
push 或 add：向栈顶添加一个元素。pop 或 remove：从栈顶移除一个元素，并可选择返回该元素。peek 或 top：查看但不移除栈顶的元素。is_empty：检查栈是否为空。size：返回栈中元素的数量。 实现方式：
栈可以用数组或链表来实现。数组实现较为简单，但可能需要预先分配较大的空间或动态调整数组大小；链表实现则更灵活，插入和删除操作的时间复杂度都为O(1)。 【性质】
线性结构：栈是一种线性数据结构，尽管元素之间的逻辑关系不是顺序的，但它们在内存中可以是连续存储的。
受限访问：只能访问栈顶的元素，不能直接访问中间或底部的元素，这与队列（遵循先进先出，FIFO原则）或数组等其他线性结构不同。
动态大小：栈的大小会随着元素的压栈和弹栈而动态变化。
应用场景：
函数调用堆栈：每当调用一个函数时，相关信息（如局部变量、返回地址）会被压入一个特殊的栈中，当函数返回时，这些信息会被逐一弹出。表达式求值与解析：如计算数学表达式或处理编程语言的语法结构时，栈可以用来保存运算符和操作数，便于按照正确的顺序进行计算。回溯算法：在解决迷宫、括号匹配等问题时，栈可以用来存储路径或状态，以便在遇到死胡同时回退到上一步。 【实例说明】
假设我们要计算一个简单的后缀表达式（如 3 4 &#43; 5 *），使用栈的操作流程如下：">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-24T17:05:19+08:00">
    <meta property="article:modified_time" content="2024-05-24T17:05:19+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【数据结构|C语言版】栈和队列</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4> </h4> 
 <ul><li><a href="#_14" rel="nofollow">前言</a></li><li><a href="#1__19" rel="nofollow">1. 栈</a></li><li><ul><li><a href="#11__20" rel="nofollow">1.1 栈的概念和性质</a></li><li><a href="#12__63" rel="nofollow">1.2 顺序栈</a></li><li><a href="#13__168" rel="nofollow">1.3 链栈</a></li><li><a href="#14__280" rel="nofollow">1.4 共享栈</a></li></ul> 
  </li><li><a href="#2__382" rel="nofollow">2. 队列</a></li><li><ul><li><a href="#21__383" rel="nofollow">2.1 队列的概念和性质</a></li><li><a href="#22__407" rel="nofollow">2.2 循环队列</a></li><li><a href="#23__436" rel="nofollow">2.3 链式队列</a></li><li><a href="#24__467" rel="nofollow">2.4 双端队列</a></li></ul> 
  </li><li><a href="#3__493" rel="nofollow">3. 例题精选</a></li><li><ul><li><a href="#31__494" rel="nofollow">3.1 有效的括号</a></li><li><a href="#32__496" rel="nofollow">3.2 用队列实现栈</a></li><li><a href="#24__499" rel="nofollow">2.4 用栈实现队列</a></li><li><a href="#34__501" rel="nofollow">3.4 设计循环队列</a></li><li><a href="#35__504" rel="nofollow">3.5 参考答案</a></li></ul> 
  </li><li><a href="#_784" rel="nofollow">结语</a></li></ul> 
</div> 
<p></p> 
<p><img src="https://images2.imgbox.com/45/d3/tzt8vCYP_o.gif" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/2c/4c/Uq0j8s9v_o.gif" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>#include&lt;GUIQU.h&gt;<br> int main {<!-- --><br> 上期回顾: <a href="http://t.csdnimg.cn/fNSh8" rel="nofollow">【数据结构|C语言版】算法效率和复杂度分析</a><br> 个人主页：<a href="https://blog.csdn.net/2302_80269373?type=blog">C_GUIQU</a><br> 归属专栏：<a href="https://blog.csdn.net/2302_80269373/category_12642757.html">【数据结构（C语言版）学习】</a><br> return 一键三连;<br> }<br> <img src="https://images2.imgbox.com/fe/f4/t0Wnu675_o.gif" alt="在这里插入图片描述"></p> 
</blockquote> 
<h2><a id="_14"></a>前言</h2> 
<p>各位小伙伴大家好！上次小编给大家讲解了数据结构中的重要基础：算法效率和复杂度分析，接下来我们讲解一下栈和队列！</p> 
<p>【知识框架】<br> <img src="https://images2.imgbox.com/a0/e6/Cu225ETP_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="1__19"></a>1. 栈</h2> 
<h3><a id="11__20"></a>1.1 栈的概念和性质</h3> 
<p>栈（Stack）是一种基本的数据结构，它遵循后进先出（Last In, First Out, LIFO）的原则。这意味着最后一个被添加到栈中的元素将会是第一个被移除的元素。这个特性使得栈在解决特定类型的问题时非常有用，比如内存管理、函数调用、表达式求值等场景。</p> 
<p>【基本概念】</p> 
<ol><li> <p><strong>栈顶（Top）与栈底（Bottom）</strong>：</p> 
  <ul><li>栈顶是进行元素插入（称为“压栈”）和删除（称为“弹栈”）操作的位置。</li><li>栈底则是栈的另一端，通常不进行直接操作。</li></ul> </li><li> <p><strong>操作</strong>：</p> 
  <ul><li><code>push</code> 或 <code>add</code>：向栈顶添加一个元素。</li><li><code>pop</code> 或 <code>remove</code>：从栈顶移除一个元素，并可选择返回该元素。</li><li><code>peek</code> 或 <code>top</code>：查看但不移除栈顶的元素。</li><li><code>is_empty</code>：检查栈是否为空。</li><li><code>size</code>：返回栈中元素的数量。</li></ul> </li><li> <p><strong>实现方式</strong>：</p> 
  <ul><li>栈可以用数组或链表来实现。数组实现较为简单，但可能需要预先分配较大的空间或动态调整数组大小；链表实现则更灵活，插入和删除操作的时间复杂度都为O(1)。</li></ul> </li></ol> 
<p>【性质】</p> 
<ol><li> <p><strong>线性结构</strong>：栈是一种线性数据结构，尽管元素之间的逻辑关系不是顺序的，但它们在内存中可以是连续存储的。</p> </li><li> <p><strong>受限访问</strong>：只能访问栈顶的元素，不能直接访问中间或底部的元素，这与队列（遵循先进先出，FIFO原则）或数组等其他线性结构不同。</p> </li><li> <p><strong>动态大小</strong>：栈的大小会随着元素的压栈和弹栈而动态变化。</p> </li><li> <p><strong>应用场景</strong>：</p> 
  <ul><li>函数调用堆栈：每当调用一个函数时，相关信息（如局部变量、返回地址）会被压入一个特殊的栈中，当函数返回时，这些信息会被逐一弹出。</li><li>表达式求值与解析：如计算数学表达式或处理编程语言的语法结构时，栈可以用来保存运算符和操作数，便于按照正确的顺序进行计算。</li><li>回溯算法：在解决迷宫、括号匹配等问题时，栈可以用来存储路径或状态，以便在遇到死胡同时回退到上一步。</li></ul> </li></ol> 
<p>【实例说明】</p> 
<p>假设我们要计算一个简单的后缀表达式（如 <code>3 4 + 5 *</code>），使用栈的操作流程如下：</p> 
<ol><li>遇到数字 <code>3</code> 和 <code>4</code>，直接压栈。</li><li>遇到操作符 <code>+</code>，弹出 <code>4</code> 和 <code>3</code>，计算 <code>3 + 4 = 7</code>，并将结果 <code>7</code> 压入栈。</li><li>遇到数字 <code>5</code>，压栈。</li><li>遇到操作符 <code>*</code>，弹出 <code>5</code> 和 <code>7</code>，计算 <code>7 * 5 = 35</code>，将结果压入栈。</li><li>最终栈中只剩一个元素 <code>35</code>，即为表达式的计算结果。</li></ol> 
<blockquote> 
 <p>通过这个过程，我们可以看到栈如何有效地帮助我们管理和处理数据，尤其是在有明确顺序约束的场景下。</p> 
</blockquote> 
<h3><a id="12__63"></a>1.2 顺序栈</h3> 
<p>顺序栈是栈的一种具体实现方式，它基于数组来存储栈中的元素。在顺序栈中，数组的末端（通常是数组的一个固定索引位置，初始时设为-1）用来模拟栈顶，随着元素的压栈（入栈）和弹栈（出栈），这个末端索引会相应地增减。</p> 
<p>【特性】</p> 
<ul><li>空间预先分配：顺序栈需要预先分配一段连续的内存空间，用于存放栈中的元素。这意味着栈的最大容量在初始化时就被确定，如果超出这个容量，可能会导致溢出错误。</li><li>操作效率：对于压栈和弹栈操作，顺序栈的时间复杂度均为O(1)，因为只需要对数组的末端索引进行简单的修改即可，不需要移动数组中的元素。</li><li>空间利用率：如果栈的实际元素数量远小于预分配的空间，那么部分空间会被闲置，从而降低了空间利用率。</li></ul> 
<p>在C语言中实现顺序栈，主要涉及到以下几个步骤：定义栈的结构体、初始化栈、进行基本的栈操作（如压栈、弹栈、查看栈顶元素和判断栈是否为空）。</p> 
<p>下面是一个简单的C语言顺序栈实现示例：</p> 
<p>【定义顺序栈结构体】</p> 
<p>首先，定义一个结构体来描述顺序栈，包括一个整型数组用于存储元素，以及一个整型变量<code>top</code>来标记栈顶位置。</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdbool.h&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_SIZE</span> <span class="token expression"><span class="token number">100</span> </span><span class="token comment">// 定义栈的最大容量</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> data<span class="token punctuation">[</span>MAX_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 存储元素的数组</span>
    <span class="token keyword">int</span> top<span class="token punctuation">;</span>           <span class="token comment">// 栈顶指针</span>
<span class="token punctuation">}</span> Stack<span class="token punctuation">;</span>
</code></pre> 
<p>【初始化栈】<br> 接着，编写一个函数来初始化栈，包括将栈顶指针<code>top</code>设置为-1，表示栈为空。</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">initStack</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    s<span class="token operator">-&gt;</span>top <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 初始化栈顶指针</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【判断栈是否为空】</p> 
<pre><code class="prism language-c">bool <span class="token function">isEmpty</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> s<span class="token operator">-&gt;</span>top <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【压栈操作】</p> 
<p>压栈操作需要检查栈是否已满，如果未满，则将元素添加到栈顶并更新<code>top</code>。</p> 
<pre><code class="prism language-c">bool <span class="token function">push</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> item<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>top <span class="token operator">&gt;=</span> MAX_SIZE <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack Overflow\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span><span class="token operator">++</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>top<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span> <span class="token comment">// 先加后用，将元素放入栈顶并更新top</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【弹栈操作】</p> 
<p>弹栈操作需要检查栈是否为空，如果不为空，则移除栈顶元素并更新<code>top</code>。</p> 
<pre><code class="prism language-c">bool <span class="token function">pop</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> item<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack Underflow\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">*</span>item <span class="token operator">=</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>s<span class="token operator">-&gt;</span>top<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 获取并返回栈顶元素，然后减小top</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【查看栈顶元素】</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">peek</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>s<span class="token operator">-&gt;</span>top<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack is empty.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 或者其他错误代码</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【示例使用】</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Stack s<span class="token punctuation">;</span>
    <span class="token function">initStack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Top element is: %d\n"</span><span class="token punctuation">,</span> <span class="token function">peek</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">pop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 弹出栈顶元素，这里不关心弹出的值</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"After pop, top element is: %d\n"</span><span class="token punctuation">,</span> <span class="token function">peek</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这段代码展示了如何定义、初始化、操作一个顺序栈，并包含了一个简单的使用示例。请注意，实际应用中可能需要根据具体需求调整栈的最大容量<code>MAX_SIZE</code>以及其他细节。</p> 
<h3><a id="13__168"></a>1.3 链栈</h3> 
<p>在C语言中实现链栈（链式存储的栈），我们首先需要定义链表节点的结构体，然后实现链栈的基本操作，包括初始化、压栈、弹栈、查看栈顶元素以及判断栈是否为空。</p> 
<p>【定义链表节点结构体】<br> 链栈通常使用单链表实现，其中每个节点包含数据域和指向下一个节点的指针。</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token comment">// 定义链表节点结构体</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Node</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> data<span class="token punctuation">;</span>            <span class="token comment">// 数据域</span>
    <span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token operator">*</span> next<span class="token punctuation">;</span>   <span class="token comment">// 指向下一个节点的指针</span>
<span class="token punctuation">}</span> Node<span class="token punctuation">;</span>

<span class="token comment">// 定义链栈结构体</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    Node<span class="token operator">*</span> top<span class="token punctuation">;</span>          <span class="token comment">// 指向栈顶的指针</span>
<span class="token punctuation">}</span> Stack<span class="token punctuation">;</span>
</code></pre> 
<p>【初始化链栈】</p> 
<p>初始化链栈主要是将栈顶指针设为NULL，表示栈为空。</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">initStack</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    s<span class="token operator">-&gt;</span>top <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【判断栈是否为空】</p> 
<p>检查栈顶指针是否为NULL。</p> 
<pre><code class="prism language-c">bool <span class="token function">isEmpty</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> s<span class="token operator">-&gt;</span>top <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【压栈操作】</p> 
<p>在链栈的顶部添加新元素，即在链表头部插入节点。</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> item<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Node<span class="token operator">*</span> newNode <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建新节点</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newNode <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Memory allocation failed\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    newNode<span class="token operator">-&gt;</span>data <span class="token operator">=</span> item<span class="token punctuation">;</span>       <span class="token comment">// 赋值</span>
    newNode<span class="token operator">-&gt;</span>next <span class="token operator">=</span> s<span class="token operator">-&gt;</span>top<span class="token punctuation">;</span>     <span class="token comment">// 新节点的next指向原栈顶</span>
    s<span class="token operator">-&gt;</span>top <span class="token operator">=</span> newNode<span class="token punctuation">;</span>           <span class="token comment">// 更新栈顶指针</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【弹栈操作】</p> 
<p>删除链栈顶部元素，即删除链表头部节点。</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack Underflow\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    Node<span class="token operator">*</span> temp <span class="token operator">=</span> s<span class="token operator">-&gt;</span>top<span class="token punctuation">;</span>      <span class="token comment">// 临时保存栈顶节点</span>
    <span class="token keyword">int</span> item <span class="token operator">=</span> temp<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>    <span class="token comment">// 保存要返回的数据</span>
    s<span class="token operator">-&gt;</span>top <span class="token operator">=</span> temp<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>      <span class="token comment">// 更新栈顶指针</span>
    <span class="token function">free</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// 释放原栈顶节点的内存</span>
    <span class="token keyword">return</span> item<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【查看栈顶元素】</p> 
<p>返回栈顶元素，但不改变栈的状态。</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">peek</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack is empty.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 或其他错误代码</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> s<span class="token operator">-&gt;</span>top<span class="token operator">-&gt;</span>data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【示例使用】</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Stack s<span class="token punctuation">;</span>
    <span class="token function">initStack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Top element is: %d\n"</span><span class="token punctuation">,</span> <span class="token function">peek</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Popped element: %d\n"</span><span class="token punctuation">,</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"After pop, top element is: %d\n"</span><span class="token punctuation">,</span> <span class="token function">peek</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这段代码展示了如何定义一个链栈结构体，以及如何执行链栈的基本操作。请注意，在实际使用中应考虑错误处理和资源管理，例如确保内存正确分配和释放。</p> 
<h3><a id="14__280"></a>1.4 共享栈</h3> 
<p>在C语言中实现共享栈，指的是让两个栈共用同一块内存区域，以提高空间利用率。这种设计尤其适用于栈的大小难以估计，且可能出现一个栈空闲而另一个栈空间不足的情况。共享栈的关键在于通过两个栈顶指针分别跟踪两个栈的顶部，确保它们不会互相干扰。</p> 
<p>【定义共享栈结构体】<br> 首先，定义一个共享栈的结构体，包括一个静态数组用于存储数据，以及两个整型变量<code>top1</code>和<code>top2</code>分别作为两个栈的栈顶指针。</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;assert.h&gt;</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_SIZE</span> <span class="token expression"><span class="token number">100</span> </span><span class="token comment">// 共享栈的最大容量</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> data<span class="token punctuation">[</span>MAX_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 共享的存储空间</span>
    <span class="token keyword">int</span> top1<span class="token punctuation">;</span>          <span class="token comment">// 栈1的栈顶指针</span>
    <span class="token keyword">int</span> top2<span class="token punctuation">;</span>          <span class="token comment">// 栈2的栈顶指针</span>
<span class="token punctuation">}</span> SharedStack<span class="token punctuation">;</span>
</code></pre> 
<p>【初始化共享栈】<br> 初始化共享栈时，将两个栈顶指针都设置为边界值，以表明栈为空。</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">initSharedStack</span><span class="token punctuation">(</span>SharedStack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">assert</span><span class="token punctuation">(</span>s <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token operator">-&gt;</span>top1 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 栈1为空时，top1为-1</span>
    s<span class="token operator">-&gt;</span>top2 <span class="token operator">=</span> MAX_SIZE<span class="token punctuation">;</span> <span class="token comment">// 栈2为空时，top2为MAX_SIZE</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【判断栈是否为空】<br> 分别定义函数来判断栈1和栈2是否为空。</p> 
<pre><code class="prism language-c">bool <span class="token function">isStack1Empty</span><span class="token punctuation">(</span><span class="token keyword">const</span> SharedStack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> s<span class="token operator">-&gt;</span>top1 <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">isStack2Empty</span><span class="token punctuation">(</span><span class="token keyword">const</span> SharedStack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> s<span class="token operator">-&gt;</span>top2 <span class="token operator">==</span> MAX_SIZE<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【压栈操作】<br> 实现压栈操作时，需要注意栈满的条件是两个栈顶指针相邻（即<code>top1 + 1 == top2</code>或<code>top2 - 1 == top1</code>，具体取决于实现方式）。</p> 
<pre><code class="prism language-c">bool <span class="token function">pushToStack1</span><span class="token punctuation">(</span>SharedStack<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> item<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>top1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> s<span class="token operator">-&gt;</span>top2<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 检查栈满</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack1 Overflow\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span><span class="token operator">++</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>top1<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">pushToStack2</span><span class="token punctuation">(</span>SharedStack<span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> item<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>top2 <span class="token operator">==</span> <span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>top1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 检查栈满</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack2 Overflow\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span><span class="token operator">--</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>top2<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【弹栈操作】<br> 弹栈操作相对简单，只需更新相应的栈顶指针并返回数据。</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">popFromStack1</span><span class="token punctuation">(</span>SharedStack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isStack1Empty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack1 Underflow\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 或其他错误代码</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>s<span class="token operator">-&gt;</span>top1<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">popFromStack2</span><span class="token punctuation">(</span>SharedStack<span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isStack2Empty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack2 Underflow\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 或其他错误代码</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> s<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>s<span class="token operator">-&gt;</span>top2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【示例使用】</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    SharedStack sharedStack<span class="token punctuation">;</span>
    <span class="token function">initSharedStack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>sharedStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">pushToStack1</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>sharedStack<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">pushToStack2</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>sharedStack<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Popped from Stack1: %d\n"</span><span class="token punctuation">,</span> <span class="token function">popFromStack1</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>sharedStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Popped from Stack2: %d\n"</span><span class="token punctuation">,</span> <span class="token function">popFromStack2</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>sharedStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这段代码展示了如何定义和操作一个共享栈，包括初始化、压栈、弹栈以及检查栈是否为空等基本功能。请注意，实际应用中应根据具体情况调整栈的容量及错误处理逻辑。</p> 
<h2><a id="2__382"></a>2. 队列</h2> 
<h3><a id="21__383"></a>2.1 队列的概念和性质</h3> 
<p>队列（Queue）是一种基础且广泛使用的数据结构，它的特点是遵循先进先出（First In, First Out, FIFO）的原则。这意味着最早进入队列的元素也将是最先离开队列的元素。队列的这种特性类似于现实生活中的排队场景，比如人们在超市收银台前排队结账，先到的人先完成结账离开。</p> 
<p>【队列的基本概念】</p> 
<ol><li> <p><strong>结构</strong>: 队列由两部分组成——队头（front）和队尾（rear）。队头是队列中允许删除元素的一端，而队尾是允许添加元素的一端。</p> </li><li> <p><strong>操作</strong>:</p> 
  <ul><li><strong>入队（Enqueue）</strong>: 在队列的队尾添加一个元素。</li><li><strong>出队（Dequeue）</strong>: 从队列的队头移除一个元素。</li><li><strong>查看队头元素</strong>: 不移除的情况下查看队列最前面的元素。</li><li><strong>判断队列是否为空</strong>: 检查队列中是否有元素。</li></ul> </li><li> <p><strong>实现方式</strong>:</p> 
  <ul><li><strong>顺序队列</strong>: 使用数组实现，需要处理队列满时的扩容问题或队列空时的缩容问题。</li><li><strong>循环队列</strong>: 也是基于数组实现，但通过取模运算使得数组的存储空间可以循环使用，解决了顺序队列假溢出的问题。</li><li><strong>链式队列</strong>: 使用链表实现，每个节点包含元素和指向下一个节点的指针，更加灵活，不存在固定大小的限制。</li></ul> </li></ol> 
<p>【队列的性质】</p> 
<ol><li><strong>线性结构</strong>: 队列属于线性数据结构，元素之间存在一对一的前后关系。</li><li><strong>受限访问</strong>: 只能在队头进行删除操作，在队尾进行插入操作，不能随机访问队列中的元素。</li><li><strong>动态大小</strong>: 队列的长度可以根据需要动态变化，可以增长也可以缩小。</li><li><strong>应用场景广泛</strong>: 队列常用于需要处理一系列任务，且这些任务必须按照到达的顺序被处理的场景，如打印任务调度、CPU进程调度、消息队列、事件处理等。</li></ol> 
<p>总之，队列作为一种数据结构，其核心在于提供了按先进先出规则管理数据的能力，这一特性使其成为解决特定类型问题的高效工具。</p> 
<h3><a id="22__407"></a>2.2 循环队列</h3> 
<p>循环队列是队列的一种特殊实现方式，它使用数组来存储队列中的元素，并利用环状的特性使得数组空间可以得到更有效的利用。在循环队列中，当队列尾部达到数组的末端时，不是停止插入，而是绕回到数组的起始位置继续插入。同样，队列头部在出队时，也会在达到数组末端后回到起始位置。这样，即使队列中还有空余空间，数组也不会发生假溢出。</p> 
<p>【关键特点】</p> 
<ol><li> <p><strong>数组使用</strong>：循环队列仍然使用数组来存储元素，但通过维护两个指针（头指针和尾指针）来追踪队列的开始和结束位置，这两个指针都是在数组的索引范围内循环移动。</p> </li><li> <p><strong>头指针（front）与尾指针（rear）</strong>：</p> 
  <ul><li><strong>头指针</strong>指向队列的第一个元素的位置（即下一个要出队的元素）。</li><li><strong>尾指针</strong>指向队列的最后一个元素之后的位置（即下一个要入队的位置）。</li></ul> </li><li> <p><strong>判满条件</strong>：由于头尾指针都可能回到数组的起始位置，因此判断循环队列是否已满不能简单地比较头尾指针是否相等，常用的判满条件是<code>(rear + 1) % max_size == front</code>，其中<code>max_size</code>是数组的大小。</p> </li><li> <p><strong>判空条件</strong>：头尾指针相等，即<code>front == rear</code>时，队列为空。</p> </li><li> <p><strong>解决假溢出</strong>：通过循环利用数组空间，避免了普通队列中因数组两端相遇而导致无法继续入队的假溢出问题。</p> </li></ol> 
<p>【操作】</p> 
<ul><li> <p><strong>入队（enqueue）</strong>：在尾指针指向的位置插入新元素，并将尾指针向前移动一位（循环回到数组开头）。如果队列已满，则需要处理满队情况。</p> </li><li> <p><strong>出队（dequeue）</strong>：从头指针指向的位置移除元素，并将头指针向前移动一位（同样循环移动）。如果队列为空，则需要处理空队情况。</p> </li><li> <p><strong>查看队首元素</strong>：直接读取头指针指向的数组元素即可。</p> </li></ul> 
<p>【实现注意事项】</p> 
<ul><li> <p><strong>区分空和满的标志</strong>：因为头尾指针相等既可能是空队也可能是满队，通常会牺牲一个数组单元或者使用额外的布尔变量来区分这两种情况。</p> </li><li> <p><strong>数组大小的选择</strong>：考虑到循环的特性，数组的实际有效大小应该比实际需要的队列大小少一个单位，以避免混淆空队和满队的情况。</p> </li></ul> 
<p>循环队列的实现提高了空间的利用率，特别适合于那些需要高效插入和删除操作且数据量动态变化的场景，如缓存管理、任务调度等。</p> 
<h3><a id="23__436"></a>2.3 链式队列</h3> 
<p>链式队列是队列的一种实现方式，它使用链表（通常为单链表或双链表）作为底层数据结构来存储队列中的元素，而非数组。链式队列的主要特点是动态空间分配，能够灵活地适应元素数量的变化，避免了循环队列中固定大小可能导致的潜在空间浪费或溢出问题。</p> 
<p>【基本概念】</p> 
<ol><li> <p><strong>节点结构</strong>：链式队列中的每个元素存储在一个节点中，每个节点包含两部分：一个是存储数据的数据域（通常为一个变量或结构），另一个是指向下一个节点的指针域。</p> </li><li> <p><strong>队列的表示</strong>：链式队列通过两个指针来表示队列的状态，分别是队头指针和队尾指针。</p> 
  <ul><li><strong>队头指针</strong>（front）指向队列的第一个元素（即队首节点）。</li><li><strong>队尾指针</strong>（rear）指向队列的最后一个元素（即队尾节点）。注意，当队列为空时，队头指针和队尾指针都为NULL。</li></ul> </li><li> <p><strong>操作</strong>：</p> 
  <ul><li><strong>入队（Enqueue）</strong>：在队列的末尾添加一个新元素，即在队尾节点之后创建一个新的节点，并更新队尾指针指向新节点。</li><li><strong>出队（Dequeue）</strong>：从队列的前端移除一个元素，即删除队头节点，并更新队头指针指向原队头节点的下一个节点。</li><li><strong>查看队首元素</strong>：直接访问队头节点的数据域获取队首元素，无需改变队列状态。</li><li><strong>判断队列是否为空</strong>：检查队头指针是否为NULL，如果是，则队列为空。</li></ul> </li></ol> 
<p>【优点】</p> 
<ul><li><strong>动态性</strong>：链式队列的空间是动态分配的，可以根据需要自动扩展，不会出现数组固定大小的局限性。</li><li><strong>灵活性</strong>：插入和删除操作简单，只需要改变指针的指向，不需要移动元素。</li><li><strong>避免溢出</strong>：理论上只要内存足够，链式队列就不会满。</li></ul> 
<p>【缺点】</p> 
<ul><li><strong>额外开销</strong>：每个节点除了存储数据外，还需要额外的空间来存储指针，相比数组实现有额外的内存消耗。</li><li><strong>访问速度</strong>：链式结构相比数组访问元素的速度较慢，因为需要遍历链表。</li></ul> 
<p>【应用场景】</p> 
<p>链式队列因其动态性和灵活性，适用于不确定数据量大小或需要频繁插入删除操作的场景，如某些类型的事件处理系统、任务调度、广度优先搜索（BFS）的实现等。</p> 
<h3><a id="24__467"></a>2.4 双端队列</h3> 
<p>双端队列（Double-Ended Queue，简称 Deque）是一种具有队列和栈特性的线性数据结构。与传统的队列（只能在一端添加元素，在另一端移除元素）不同，双端队列允许在其两端进行插入和删除操作。这使得双端队列可以同时表现先进先出（FIFO，First In First Out）和后进先出（LIFO，Last In First Out）的特性，具体取决于操作的位置。</p> 
<p>【特点】</p> 
<ol><li> <p><strong>双端操作</strong>：可以在队列的前端（头部）进行入队（enqueue）和出队（dequeue）操作，同时也可以在队列的后端（尾部）进行同样的操作。</p> </li><li> <p><strong>动态调整大小</strong>：大多数双端队列实现支持动态调整其大小，以适应元素数量的变化。</p> </li><li> <p><strong>多样化的操作集合</strong>：除了基本的入队和出队操作，双端队列还提供了在两端读取元素的功能，如获取队头元素和队尾元素，以及在两端进行插入操作。</p> </li><li> <p><strong>变种</strong>：存在输入受限的双端队列和输出受限的双端队列，前者允许在一端进行插入和删除，在另一端仅允许插入；后者则是一端允许插入和删除，另一端仅允许删除。</p> </li><li> <p><strong>栈和队列的融合</strong>：如果限制操作方式，双端队列可以模拟栈或队列的行为。例如，仅在一端进行插入和删除操作时，双端队列就变成了栈；而如果两端都遵循FIFO原则，则表现为队列。</p> </li></ol> 
<p>【常见操作】</p> 
<ul><li><code>addFront(item)</code>：在队列前端添加一个元素。</li><li><code>addRear(item)</code>：在队列后端添加一个元素。</li><li><code>removeFront()</code>：从队列前端移除一个元素。</li><li><code>removeRear()</code>：从队列后端移除一个元素。</li><li><code>getFront()</code>：获取队列前端的元素（不移除）。</li><li><code>getRear()</code>：获取队列后端的元素（不移除）。</li><li><code>isEmpty()</code>：检查双端队列是否为空。</li><li><code>size()</code>：返回双端队列中的元素数量。</li></ul> 
<p>【实现方式】<br> 双端队列可以通过数组（需要处理循环和动态扩容的问题）或者链表（单链表或双链表）来实现。在C++标准模板库(STL)中，<code>std::deque</code>就是一个实现了双端队列的容器，它采用了分块的线性结构进行存储，允许高效地在两端进行插入和删除操作。</p> 
<h2><a id="3__493"></a>3. 例题精选</h2> 
<h3><a id="31__494"></a>3.1 有效的括号</h3> 
<p><img src="https://images2.imgbox.com/0c/f2/ZItJ9rRf_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="32__496"></a>3.2 用队列实现栈</h3> 
<p><img src="https://images2.imgbox.com/da/da/0Y88b7b4_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="24__499"></a>2.4 用栈实现队列</h3> 
<p><img src="https://images2.imgbox.com/e7/49/bkVn84Th_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="34__501"></a>3.4 设计循环队列</h3> 
<p><img src="https://images2.imgbox.com/a2/c9/rp4NQKXT_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="35__504"></a>3.5 参考答案</h3> 
<p>【有效的括号】</p> 
<pre><code class="prism language-c"><span class="token keyword">char</span> <span class="token function">pairs</span><span class="token punctuation">(</span><span class="token keyword">char</span> a<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token char">'}'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token char">'{'</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token char">']'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token char">'['</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token char">')'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token char">'('</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> stk<span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> top <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">pairs</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ch<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>top <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> stk<span class="token punctuation">[</span>top <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> ch<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> false<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            top<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            stk<span class="token punctuation">[</span>top<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> top <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【用队列实现栈】</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LEN</span> <span class="token expression"><span class="token number">20</span></span></span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">queue</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>
    <span class="token keyword">int</span> head<span class="token punctuation">;</span>
    <span class="token keyword">int</span> rear<span class="token punctuation">;</span>
    <span class="token keyword">int</span> size<span class="token punctuation">;</span>
<span class="token punctuation">}</span> Queue<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    Queue <span class="token operator">*</span>queue1<span class="token punctuation">,</span> <span class="token operator">*</span>queue2<span class="token punctuation">;</span>
<span class="token punctuation">}</span> MyStack<span class="token punctuation">;</span>

Queue <span class="token operator">*</span><span class="token function">initQueue</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Queue <span class="token operator">*</span>obj <span class="token operator">=</span> <span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>k <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>head <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>rear <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>size <span class="token operator">=</span> k<span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">enQueue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>obj<span class="token punctuation">,</span> <span class="token keyword">int</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>head <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        obj<span class="token operator">-&gt;</span>head <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    obj<span class="token operator">-&gt;</span>rear <span class="token operator">=</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> obj<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>rear<span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">deQueue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>head<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>head <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>rear<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        obj<span class="token operator">-&gt;</span>rear <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        obj<span class="token operator">-&gt;</span>head <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> a<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    obj<span class="token operator">-&gt;</span>head <span class="token operator">=</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>head <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> obj<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>head <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

MyStack <span class="token operator">*</span><span class="token function">myStackCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MyStack <span class="token operator">*</span>obj <span class="token operator">=</span> <span class="token punctuation">(</span>MyStack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>queue1 <span class="token operator">=</span> <span class="token function">initQueue</span><span class="token punctuation">(</span>LEN<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>queue2 <span class="token operator">=</span> <span class="token function">initQueue</span><span class="token punctuation">(</span>LEN<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">myStackPush</span><span class="token punctuation">(</span>MyStack <span class="token operator">*</span>obj<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">enQueue</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue2<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">enQueue</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue1<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">myStackPop</span><span class="token punctuation">(</span>MyStack <span class="token operator">*</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue2<span class="token operator">-&gt;</span>head <span class="token operator">!=</span> obj<span class="token operator">-&gt;</span>queue2<span class="token operator">-&gt;</span>rear<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">enQueue</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue1<span class="token punctuation">,</span> <span class="token function">deQueue</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">deQueue</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue1<span class="token operator">-&gt;</span>head <span class="token operator">!=</span> obj<span class="token operator">-&gt;</span>queue1<span class="token operator">-&gt;</span>rear<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">enQueue</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue2<span class="token punctuation">,</span> <span class="token function">deQueue</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">deQueue</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">myStackTop</span><span class="token punctuation">(</span>MyStack <span class="token operator">*</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>queue2<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>queue2<span class="token operator">-&gt;</span>rear<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>queue1<span class="token operator">-&gt;</span>data<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>queue1<span class="token operator">-&gt;</span>rear<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">myStackEmpty</span><span class="token punctuation">(</span>MyStack <span class="token operator">*</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue1<span class="token operator">-&gt;</span>head <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> obj<span class="token operator">-&gt;</span>queue2<span class="token operator">-&gt;</span>head <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> true<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">myStackFree</span><span class="token punctuation">(</span>MyStack <span class="token operator">*</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue1<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>queue1<span class="token operator">-&gt;</span>data <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>queue1 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue2<span class="token operator">-&gt;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>queue2<span class="token operator">-&gt;</span>data <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>queue2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>queue2 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【用栈实现队列】</p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span><span class="token operator">*</span> stk<span class="token punctuation">;</span>
    <span class="token keyword">int</span> stkSize<span class="token punctuation">;</span>
    <span class="token keyword">int</span> stkCapacity<span class="token punctuation">;</span>
<span class="token punctuation">}</span> Stack<span class="token punctuation">;</span>

Stack<span class="token operator">*</span> <span class="token function">stackCreate</span><span class="token punctuation">(</span><span class="token keyword">int</span> cpacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Stack<span class="token operator">*</span> ret <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ret<span class="token operator">-&gt;</span>stk <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> cpacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ret<span class="token operator">-&gt;</span>stkSize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    ret<span class="token operator">-&gt;</span>stkCapacity <span class="token operator">=</span> cpacity<span class="token punctuation">;</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">stackPush</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    obj<span class="token operator">-&gt;</span>stk<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>stkSize<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">stackPop</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    obj<span class="token operator">-&gt;</span>stkSize<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">stackTop</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>stk<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>stkSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">stackEmpty</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>stkSize <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">stackFree</span><span class="token punctuation">(</span>Stack<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>stk<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    Stack<span class="token operator">*</span> inStack<span class="token punctuation">;</span>
    Stack<span class="token operator">*</span> outStack<span class="token punctuation">;</span>
<span class="token punctuation">}</span> MyQueue<span class="token punctuation">;</span>

MyQueue<span class="token operator">*</span> <span class="token function">myQueueCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MyQueue<span class="token operator">*</span> ret <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyQueue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ret<span class="token operator">-&gt;</span>inStack <span class="token operator">=</span> <span class="token function">stackCreate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ret<span class="token operator">-&gt;</span>outStack <span class="token operator">=</span> <span class="token function">stackCreate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">in2out</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">stackEmpty</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>inStack<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">stackPush</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>outStack<span class="token punctuation">,</span> <span class="token function">stackTop</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>inStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">stackPop</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>inStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">myQueuePush</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">stackPush</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>inStack<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">myQueuePop</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">stackEmpty</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>outStack<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">in2out</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token function">stackTop</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>outStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">stackPop</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>outStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">myQueuePeek</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">stackEmpty</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>outStack<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">in2out</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">stackTop</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>outStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">myQueueEmpty</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token function">stackEmpty</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>inStack<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">stackEmpty</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>outStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">myQueueFree</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">stackFree</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>inStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">stackFree</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>outStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>【设计循环队列】</p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> front<span class="token punctuation">;</span>
    <span class="token keyword">int</span> rear<span class="token punctuation">;</span>
    <span class="token keyword">int</span> capacity<span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>elements<span class="token punctuation">;</span>
<span class="token punctuation">}</span> MyCircularQueue<span class="token punctuation">;</span>

MyCircularQueue<span class="token operator">*</span> <span class="token function">myCircularQueueCreate</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MyCircularQueue <span class="token operator">*</span>obj <span class="token operator">=</span> <span class="token punctuation">(</span>MyCircularQueue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyCircularQueue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>rear <span class="token operator">=</span> obj<span class="token operator">-&gt;</span>front <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>elements <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> obj<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">myCircularQueueEnQueue</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> obj<span class="token operator">-&gt;</span>capacity <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>front<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    obj<span class="token operator">-&gt;</span>elements<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>rear<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
    obj<span class="token operator">-&gt;</span>rear <span class="token operator">=</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> obj<span class="token operator">-&gt;</span>capacity<span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">myCircularQueueDeQueue</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>rear <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>front<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    obj<span class="token operator">-&gt;</span>front <span class="token operator">=</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>front <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> obj<span class="token operator">-&gt;</span>capacity<span class="token punctuation">;</span>
    <span class="token keyword">return</span> true<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">myCircularQueueFront</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>rear <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>front<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>elements<span class="token punctuation">[</span>obj<span class="token operator">-&gt;</span>front<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">myCircularQueueRear</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>rear <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>front<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>elements<span class="token punctuation">[</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>rear <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">+</span> obj<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span> <span class="token operator">%</span> obj<span class="token operator">-&gt;</span>capacity<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">myCircularQueueIsEmpty</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> obj<span class="token operator">-&gt;</span>rear <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>front<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">myCircularQueueIsFull</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> obj<span class="token operator">-&gt;</span>capacity <span class="token operator">==</span> obj<span class="token operator">-&gt;</span>front<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">myCircularQueueFree</span><span class="token punctuation">(</span>MyCircularQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token operator">-&gt;</span>elements<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_784"></a>结语</h2> 
<p>以上就是小编对栈和队列的讲解。<br> 如果觉得小编讲的还可以，还请一键三连。互三必回！<br> 持续更新中~！</p> 
<p><img src="https://images2.imgbox.com/48/2f/PbP3OuA6_o.gif" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/f3/97/Ns3SOSvu_o.gif" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a4355551de75686b9b2686a3e366018a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">一款颜值颇高的虚拟列表！差点就被埋没了，终于还是被我挖出来了</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e1b17ede53b08e6c5706d526f770a02f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">民国漫画杂志《时代漫画》第13期.PDF</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
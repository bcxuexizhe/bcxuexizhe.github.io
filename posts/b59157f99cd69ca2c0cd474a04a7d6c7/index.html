<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>图数据库Neo4j——Neo4j简介、数据结构 &amp; Docker版本的部署安装 &amp; Cypher语句的入门 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/b59157f99cd69ca2c0cd474a04a7d6c7/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="图数据库Neo4j——Neo4j简介、数据结构 &amp; Docker版本的部署安装 &amp; Cypher语句的入门">
  <meta property="og:description" content="前言 MySQL是一种开源的关系型数据库管理系统，使用SQL作为其查询语言，常见的关系型数据库有MySQL、Oracle、SQL Server、PostgreSQL等。相关博客文章如下：
【合集】MySQL的入门进阶强化——从 普通人 到 超级赛亚人 的 华丽转身PostgreSQL数据库——Docker版本的postgres安装 &amp; Navicat连接方式&#43;导入向导使用 &amp; SpringBoot结合Jpa使用PostgreSQL初步 还有就是非关系型数据库，也称为NoSQL数据库，它不使用表格来存储数据，而是使用键值对、文档、图形等方式来存储数据。常见的非关系型数据库有MongoDB、Redis、Cassandra等。相关博客文章如下：
【合集】Redis——Redis的入门到进阶 &amp; 结合实际场景的Redis的应用
此外，还有一种图数据库，图形数据库是专门用于存储图形数据的数据库，它使用图形模型来存储数据，并且支持复杂的图形查询。常见的图形数据库有Neo4j、OrientDB等。
本篇博客介绍Neo4j图数据库，Neo4j是用Java实现的开源NoSQL图数据库，本篇博客介绍docker版本的安装，Neo4j的数据结构，基本的创建、查询的Cypher语句。
目录 前言引出Neo4j什么是Neo4j？部署安装数据结构 Cypher入门创建数据删除数据查询语句按照转运次数最少按照费用最少 附录：构造数据 总结 引出 1.Neo4j是用Java实现的开源NoSQL图数据库;
2.dokcer版本的Neo4j部署安装，数据结构介绍；
3.Cypher是Neo4j的查询语言，创建和查询入门；
Neo4j 什么是Neo4j？ Neo4j是用Java实现的开源NoSQL图数据库。从2003年开始开发，2007年正式发布第一版，其源码托管于GitHtb。Neo4j作为图数据库中的代表产品，已经在众多的行业项目中进行了应用，如：网络管理、软件分析、组织和项目管理、社交项目等方面。
官网：https://neo4j.com/
Neo4j实现了专业数据库级别的图数据模型的存储，提供了完整的数据库特性，包括ACID事务的支持、集群的支持、备份和故障转移等。
Neo4j提供了申明式的查询语言Cypher，它类似于关系型数据库中的SQL语言，其具有表现力丰富、使用简单、查询效率高、高扩展性等特点。
其中，紫色圆圈是【人】数据，橙色圆圈是【电影】数据，表示人与电影之间参演或导演的数据关系。
部署安装 Neo4j支持众多平台的部署安装，如：Windows、Mac、Linux等系统。Neo4j是基于Java平台的，所以部署安装前先保证已经安装了Java虚拟机。
7474是web管理工具的端口，7687是neo4j协议端口进行数据通信
docker run \ -d \ --restart=always \ --name neo4j \ -p 7474:7474 \ -p 7687:7687 \ -v neo4j:/data \ neo4j:4.4.5 查看运行的容器
查看日志
http://119.3.162.127:7474/browser/
首次登录需要修改密码
修改后进入首页
查询语句入门
MATCH (tom:Person {name: &#34;Tom Hanks&#34;})-[:ACTED_IN]-&gt;(tomHanksMovies) RETURN tom,tomHanksMovies 数据结构 节点">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-29T19:19:46+08:00">
    <meta property="article:modified_time" content="2024-02-29T19:19:46+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">图数据库Neo4j——Neo4j简介、数据结构 &amp; Docker版本的部署安装 &amp; Cypher语句的入门</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/c8/2a/gg53gNOq_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_13"></a>前言</h2> 
<p>MySQL是一种开源的关系型数据库管理系统，使用SQL作为其查询语言，常见的关系型数据库有MySQL、Oracle、SQL Server、PostgreSQL等。相关博客文章如下：</p> 
<ul><li><a href="https://blog.csdn.net/Pireley/article/details/133816035">【合集】MySQL的入门进阶强化——从 普通人 到 超级赛亚人 的 华丽转身</a></li><li><a href="https://blog.csdn.net/Pireley/article/details/132312178">PostgreSQL数据库——Docker版本的postgres安装 &amp; Navicat连接方式+导入向导使用 &amp; SpringBoot结合Jpa使用PostgreSQL初步</a></li></ul> 
<p>还有就是非关系型数据库，也称为NoSQL数据库，它不使用表格来存储数据，而是使用键值对、文档、图形等方式来存储数据。常见的非关系型数据库有MongoDB、Redis、Cassandra等。相关博客文章如下：</p> 
<p><a href="https://blog.csdn.net/Pireley/article/details/133932190">【合集】Redis——Redis的入门到进阶 &amp; 结合实际场景的Redis的应用</a></p> 
<p>此外，还有一种图数据库，图形数据库是专门用于存储图形数据的数据库，它使用图形模型来存储数据，并且支持复杂的图形查询。常见的图形数据库有Neo4j、OrientDB等。</p> 
<p>本篇博客介绍Neo4j图数据库，Neo4j是用Java实现的开源NoSQL图数据库，本篇博客介绍docker版本的安装，Neo4j的数据结构，基本的创建、查询的Cypher语句。</p> 
<p><img src="https://images2.imgbox.com/24/40/FJzCXuWW_o.png" alt="在这里插入图片描述"></p> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_13" rel="nofollow">前言</a></li><li><a href="#_43" rel="nofollow">引出</a></li><li><a href="#Neo4j_53" rel="nofollow">Neo4j</a></li><li><ul><li><a href="#Neo4j_55" rel="nofollow">什么是Neo4j？</a></li><li><a href="#_80" rel="nofollow">部署安装</a></li><li><a href="#_184" rel="nofollow">数据结构</a></li></ul> 
  </li><li><a href="#Cypher_221" rel="nofollow">Cypher入门</a></li><li><ul><li><a href="#_229" rel="nofollow">创建数据</a></li><li><a href="#_248" rel="nofollow">删除数据</a></li><li><a href="#_262" rel="nofollow">查询语句</a></li><li><ul><li><a href="#_354" rel="nofollow">按照转运次数最少</a></li><li><a href="#_376" rel="nofollow">按照费用最少</a></li></ul> 
   </li><li><a href="#_414" rel="nofollow">附录：构造数据</a></li></ul> 
  </li><li><a href="#_542" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_43"></a>引出</h2> 
<hr> 
<p>1.Neo4j是用Java实现的开源NoSQL图数据库;<br> 2.dokcer版本的Neo4j部署安装，数据结构介绍；<br> 3.Cypher是Neo4j的查询语言，创建和查询入门；</p> 
<h2><a id="Neo4j_53"></a>Neo4j</h2> 
<h3><a id="Neo4j_55"></a>什么是Neo4j？</h3> 
<p>Neo4j是用Java实现的开源NoSQL图数据库。从2003年开始开发，2007年正式发布第一版，其源码托管于GitHtb。Neo4j作为图数据库中的代表产品，已经在众多的行业项目中进行了应用，如：网络管理、软件分析、组织和项目管理、社交项目等方面。</p> 
<p><a href="https://neo4j.com/" rel="nofollow">官网：https://neo4j.com/</a></p> 
<p><img src="https://images2.imgbox.com/30/91/mAu0094t_o.png" alt="在这里插入图片描述"></p> 
<p>Neo4j实现了专业数据库级别的图数据模型的存储，提供了完整的数据库特性，包括ACID事务的支持、集群的支持、备份和故障转移等。</p> 
<p>Neo4j提供了申明式的查询语言Cypher，它类似于关系型数据库中的SQL语言，其具有表现力丰富、使用简单、查询效率高、高扩展性等特点。</p> 
<p>其中，紫色圆圈是【人】数据，橙色圆圈是【电影】数据，表示人与电影之间参演或导演的数据关系。</p> 
<p><img src="https://images2.imgbox.com/a3/c1/bdt8M99W_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_80"></a>部署安装</h3> 
<p>Neo4j支持众多平台的部署安装，如：Windows、Mac、Linux等系统。Neo4j是基于Java平台的，所以部署安装前先保证已经安装了Java虚拟机。</p> 
<blockquote> 
 <p>7474是web管理工具的端口，7687是neo4j协议端口进行数据通信</p> 
</blockquote> 
<pre><code class="prism language-java">docker run \
<span class="token operator">-</span>d \
<span class="token operator">--</span>restart<span class="token operator">=</span>always \
<span class="token operator">--</span>name neo4j \
<span class="token operator">-</span>p <span class="token number">7474</span><span class="token operator">:</span><span class="token number">7474</span> \
<span class="token operator">-</span>p <span class="token number">7687</span><span class="token operator">:</span><span class="token number">7687</span> \
<span class="token operator">-</span>v neo4j<span class="token operator">:</span><span class="token operator">/</span>data \
neo4j<span class="token operator">:</span><span class="token number">4.4</span><span class="token number">.5</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/90/c9/Wt9yCnET_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>查看运行的容器</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/f8/3c/6du2rC4F_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>查看日志</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/b7/b8/P8ry86AW_o.png" alt="在这里插入图片描述"></p> 
<p><a href="http://119.3.162.127:7474/browser/" rel="nofollow">http://119.3.162.127:7474/browser/</a></p> 
<p><img src="https://images2.imgbox.com/d6/40/5rvLJJNU_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>首次登录需要修改密码</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/3b/42/hBwKUt2b_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>修改后进入首页</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/d0/89/BwVXRhXr_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>查询语句入门</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/c6/3d/OCdmNDOw_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java"><span class="token constant">MATCH</span> <span class="token punctuation">(</span>tom<span class="token operator">:</span><span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span> <span class="token string">"Tom Hanks"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span><span class="token operator">:</span><span class="token constant">ACTED_IN</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span>tomHanksMovies<span class="token punctuation">)</span> <span class="token class-name">RETURN</span> tom<span class="token punctuation">,</span>tomHanksMovies
</code></pre> 
<p><img src="https://images2.imgbox.com/ba/13/jhlFbhzO_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_184"></a>数据结构</h3> 
<p><img src="https://images2.imgbox.com/9c/3e/qphO1Mar_o.png" alt="在这里插入图片描述"></p> 
<ul><li> <p>节点</p> </li><li> 
  <ul><li>存储实体数据，在上图中，演员、电影都是节点。</li><li>可以理解为关系型数据库中的表。</li></ul> </li><li> <p>关系</p> </li><li> 
  <ul><li>存储节点之间的关系。</li><li>关系只能有一个类型，必须有开始节点和结束节点以及指向。</li><li>关系可以自我循环引用，但是两头永远不能为空。</li></ul> </li><li> <p>属性</p> </li><li> 
  <ul><li>节点和关系都可以有属性，它是由键值对组成的。</li><li>节点的属性可以理解为关系型数据库中的字段。</li><li>关系中的属性进一步的明确了关系。</li></ul> </li><li> <p>标签</p> </li><li> 
  <ul><li>标签是对节点的分类，这样使得构建Neo4j数据模型更加简单。</li><li>在上面的电影案例中，Movie、Person就是标签</li></ul> </li></ul> 
<h2><a id="Cypher_221"></a>Cypher入门</h2> 
<p>Cypher是Neo4j的查询语言，类似与关系型数据库中的SQL，一些关键词来源于SQL，比如：CREATE、WHERE、RETRUN等。下面我们一起学习Cypher的基本语句。</p> 
<p>Cypher语句的关键字对大小写不敏感。</p> 
<h3><a id="_229"></a>创建数据</h3> 
<p>使用CREATE命令来创建节点、关系、属性数据。语法如下</p> 
<pre><code class="prism language-java"><span class="token comment">//查询所有数据</span>
<span class="token constant">MATCH</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token constant">RETURN</span> n
<span class="token comment">//删除所有节点和关系，慎用！</span>
<span class="token constant">MATCH</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token constant">DETACH</span> <span class="token constant">DELETE</span> n
<span class="token constant">CREATE</span> <span class="token punctuation">(</span>n <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span> $value<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token constant">RETURN</span> n   <span class="token comment">//创建节点,该节点具备name属性，n为该节点的变量,创建完成后返回该节点</span>
<span class="token constant">CREATE</span> <span class="token punctuation">(</span>n<span class="token operator">:</span>$<span class="token class-name">Tag</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span> $value<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//创建节点，指定标签</span>
<span class="token constant">CREATE</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>r<span class="token operator">:</span><span class="token constant">KNOWS</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span>  <span class="token comment">//创建n指向m的关系，并且指定关系类型为：KNOWS</span>
</code></pre> 
<h3><a id="_248"></a>删除数据</h3> 
<pre><code class="prism language-java"><span class="token comment">//删除节点</span>
<span class="token constant">MATCH</span> <span class="token punctuation">(</span>n<span class="token operator">:</span><span class="token constant">AGENCY</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span><span class="token string">"航头营业部"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token constant">DELETE</span> n
<span class="token comment">//有关系的节点是不能直接删除的</span>
<span class="token constant">MATCH</span> <span class="token punctuation">(</span>n<span class="token operator">:</span><span class="token constant">AGENCY</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span><span class="token string">"北京市昌平区新龙城"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token constant">DELETE</span> n
<span class="token comment">//删除节点和关系</span>
<span class="token constant">MATCH</span> <span class="token punctuation">(</span>n<span class="token operator">:</span><span class="token constant">AGENCY</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span><span class="token string">"北京市昌平区新龙城"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token constant">DETACH</span> <span class="token constant">DELETE</span> n
<span class="token comment">//删除所有节点和关系，慎用！</span>
<span class="token constant">MATCH</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token constant">DETACH</span> <span class="token constant">DELETE</span> n
</code></pre> 
<h3><a id="_262"></a>查询语句</h3> 
<pre><code class="prism language-java"><span class="token punctuation">[</span><span class="token constant">MATCH</span> <span class="token constant">WHERE</span><span class="token punctuation">]</span>  <span class="token comment">//条件查询</span>
<span class="token punctuation">[</span><span class="token constant">WITH</span> <span class="token punctuation">[</span><span class="token constant">ORDER</span> <span class="token constant">BY</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token constant">SKIP</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token constant">LIMIT</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">//查询的结果以管道的形式传递给下面的语句，聚合查询必须使用WITH</span>
<span class="token constant">RETURN</span> <span class="token punctuation">[</span><span class="token constant">ORDER</span> <span class="token constant">BY</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token constant">SKIP</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token constant">LIMIT</span><span class="token punctuation">]</span> <span class="token comment">//返回、排序、跳过、返回个数</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token constant">MATCH</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token constant">RETURN</span> n  <span class="token comment">//查询所有的数据</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token comment">//查询关系，relationships()获取结果中的关系，WITH向后传递数据</span>
<span class="token class-name">MATCH</span> path <span class="token operator">=</span> <span class="token punctuation">(</span>n<span class="token operator">:</span><span class="token constant">OLT</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span><span class="token string">"北京市转运中心"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token punctuation">[</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token number">.2</span><span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span>
<span class="token class-name">WITH</span> n<span class="token punctuation">,</span>m<span class="token punctuation">,</span> <span class="token function">relationships</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token constant">AS</span> r
<span class="token constant">RETURN</span> r
</code></pre> 
<p><img src="https://images2.imgbox.com/80/4d/zJP0irpL_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java"><span class="token class-name">MATCH</span> p <span class="token operator">=</span> <span class="token punctuation">(</span>n<span class="token operator">:</span><span class="token constant">OLT</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span><span class="token string">"北京市转运中心"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>m<span class="token operator">:</span><span class="token constant">OLT</span><span class="token punctuation">)</span> <span class="token constant">RETURN</span> p <span class="token comment">//将查询赋值与变量</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/4e/a0/fji8BP1t_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-java"><span class="token constant">MATCH</span> <span class="token punctuation">(</span>n<span class="token operator">:</span><span class="token constant">OLT</span> <span class="token punctuation">{<!-- --></span>name<span class="token operator">:</span> <span class="token string">"北京市转运中心"</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">--</span> <span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token class-name">RETURN</span> n<span class="token punctuation">,</span>m 
<span class="token comment">//查询所有与“北京市转运中心”有关系的节点</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8a/38/uRYlgVnv_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-sql"><span class="token comment">//查询两个网点之间所有的路线，最大深度为6，可以查询到2条路线</span>
<span class="token keyword">MATCH</span> path <span class="token operator">=</span> <span class="token punctuation">(</span>n:AGENCY<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token punctuation">[</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token number">.6</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>m:AGENCY<span class="token punctuation">)</span>
<span class="token keyword">WHERE</span> n<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"北京市昌平区定泗路"</span> <span class="token operator">AND</span> m<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"上海市浦东新区南汇"</span>
<span class="token keyword">RETURN</span> path
</code></pre> 
<p><img src="https://images2.imgbox.com/a5/fa/t9ZF1iXr_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_354"></a>按照转运次数最少</h4> 
<pre><code class="prism language-sql"><span class="token comment">//查询两个网点之间最短路径，查询深度最大为10</span>
<span class="token keyword">MATCH</span> path <span class="token operator">=</span> shortestPath<span class="token punctuation">(</span><span class="token punctuation">(</span>n:AGENCY<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token punctuation">[</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token number">.10</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>m:AGENCY<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">WHERE</span> n<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"北京市昌平区定泗路"</span> <span class="token operator">AND</span> m<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"上海市浦东新区南汇"</span>
<span class="token keyword">RETURN</span> path
</code></pre> 
<p><img src="https://images2.imgbox.com/91/e9/KLtfJJWv_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_376"></a>按照费用最少</h4> 
<pre><code class="prism language-sql"><span class="token comment">//查询两个网点之间所有的路线中成本最低的路线，最大深度为10（如果成本相同，转运节点最少）</span>
<span class="token keyword">MATCH</span> path <span class="token operator">=</span> <span class="token punctuation">(</span>n:AGENCY<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token punctuation">[</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token number">.10</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>m:AGENCY<span class="token punctuation">)</span>
<span class="token keyword">WHERE</span> n<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"北京市昌平区定泗路"</span> <span class="token operator">AND</span> m<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"上海市浦东新区南汇"</span>
UNWIND relationships<span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token keyword">AS</span> r
<span class="token keyword">WITH</span> <span class="token function">sum</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>cost<span class="token punctuation">)</span> <span class="token keyword">AS</span> cost<span class="token punctuation">,</span> path
<span class="token keyword">RETURN</span> path <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> cost <span class="token keyword">ASC</span><span class="token punctuation">,</span> LENGTH<span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token keyword">ASC</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span>
<span class="token comment">//UNWIND是将列表数据展开操作</span>
<span class="token comment">//sum()是聚合统计函数，类似还有：avg()、max()、min()等</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/0a/f4/At9xaPRc_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_414"></a>附录：构造数据</h3> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token punctuation">(</span>北京市转运中心:OLT {bid: <span class="token number">8001</span><span class="token punctuation">,</span> name: <span class="token string">"北京市转运中心"</span><span class="token punctuation">,</span> address: <span class="token string">"北京市转运中心"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">39.904179</span><span class="token punctuation">,</span> longitude:<span class="token number">116.407387</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>上海市转运中心:OLT {bid: <span class="token number">8002</span><span class="token punctuation">,</span> name: <span class="token string">"上海市转运中心"</span><span class="token punctuation">,</span> address: <span class="token string">"上海市转运中心"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">31.230525</span><span class="token punctuation">,</span> longitude:<span class="token number">121.473667</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>南京市转运中心:OLT {bid: <span class="token number">8003</span><span class="token punctuation">,</span> name: <span class="token string">"南京市转运中心"</span><span class="token punctuation">,</span> address: <span class="token string">"南京市转运中心"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">32.059344</span><span class="token punctuation">,</span> longitude:<span class="token number">118.796624</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>太原市转运中心:OLT {bid: <span class="token number">8004</span><span class="token punctuation">,</span> name: <span class="token string">"太原市转运中心"</span><span class="token punctuation">,</span> address: <span class="token string">"太原市转运中心"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">37.870451</span><span class="token punctuation">,</span> longitude:<span class="token number">112.549656</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>郑州市转运中心:OLT {bid: <span class="token number">8005</span><span class="token punctuation">,</span> name: <span class="token string">"郑州市转运中心"</span><span class="token punctuation">,</span> address: <span class="token string">"郑州市转运中心"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">34.745551</span><span class="token punctuation">,</span> longitude:<span class="token number">113.624321</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>北京市转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">10684.9</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>上海市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>北京市转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">10684.9</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>上海市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>北京市转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">8993.1</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>南京市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>北京市转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">8993.1</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>南京市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>南京市转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">2699.4</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>上海市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>南京市转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">2699.4</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>上海市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>太原市转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">3609.7</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>郑州市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>太原市转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">3609.7</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>郑州市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>郑州市转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">5659.7</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>南京市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>郑州市转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">5659.7</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>南京市转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>昌平区转运中心:TLT {bid: <span class="token number">90001</span><span class="token punctuation">,</span> name: <span class="token string">"昌平区转运中心"</span><span class="token punctuation">,</span> address: <span class="token string">"昌平区转运中心"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">40.220952</span><span class="token punctuation">,</span> longitude:<span class="token number">116.231034</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>北京市昌平区新龙城:AGENCY {bid: <span class="token number">100260</span><span class="token punctuation">,</span> name: <span class="token string">"北京市昌平区新龙城"</span><span class="token punctuation">,</span> address: <span class="token string">"龙跃苑四区3号楼底商"</span><span class="token punctuation">,</span> phone : <span class="token string">"010-53049073,010-53576707"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">40.07544443596149</span><span class="token punctuation">,</span> longitude:<span class="token number">116.3470535709328</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>北京市昌平区新龙城<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">189.7</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>昌平区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>北京市昌平区新龙城<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">189.7</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>昌平区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>北京市昌平区定泗路:AGENCY {bid: <span class="token number">100280</span><span class="token punctuation">,</span> name: <span class="token string">"北京市昌平区定泗路"</span><span class="token punctuation">,</span> address: <span class="token string">"北七家镇定泗路苍龙街交叉口"</span><span class="token punctuation">,</span> phone : <span class="token string">"010-86392987"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">40.11765281246394</span><span class="token punctuation">,</span> longitude:<span class="token number">116.37212849638287</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>北京市昌平区定泗路<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">166.2</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>昌平区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>北京市昌平区定泗路<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">166.2</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>昌平区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>海淀区转运中心:TLT {bid: <span class="token number">90002</span><span class="token punctuation">,</span> name: <span class="token string">"海淀区转运中心"</span><span class="token punctuation">,</span> address: <span class="token string">"海淀区转运中心"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">39.959893</span><span class="token punctuation">,</span> longitude:<span class="token number">116.2977</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>北京市海淀区小营:AGENCY {bid: <span class="token number">100347</span><span class="token punctuation">,</span> name: <span class="token string">"北京市海淀区小营"</span><span class="token punctuation">,</span> address: <span class="token string">"北京市昌平区回龙观街道金燕龙大厦停车场"</span><span class="token punctuation">,</span> phone : <span class="token string">"010-86483817,010-86483817,010-86483817"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">40.06177798692319</span><span class="token punctuation">,</span> longitude:<span class="token number">116.32706587559049</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>北京市海淀区小营<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">116.1</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>海淀区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>北京市海淀区小营<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">116.1</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>海淀区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>北京市海淀区万泉河:AGENCY {bid: <span class="token number">100227</span><span class="token punctuation">,</span> name: <span class="token string">"北京市海淀区万泉河"</span><span class="token punctuation">,</span> address: <span class="token string">"北京市海淀区四季青镇杏石口路47号院"</span><span class="token punctuation">,</span> phone : <span class="token string">"18521852356"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">39.94882822425318</span><span class="token punctuation">,</span> longitude:<span class="token number">116.25707017441161</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>北京市海淀区万泉河<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">36.8</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>海淀区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>北京市海淀区万泉河<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">36.8</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>海淀区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>昌平区转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">383.3</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>北京市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>昌平区转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">383.3</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>北京市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>海淀区转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">112.3</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>北京市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>海淀区转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">112.3</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>北京市转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>浦东新区转运中心:TLT {bid: <span class="token number">90003</span><span class="token punctuation">,</span> name: <span class="token string">"浦东新区转运中心"</span><span class="token punctuation">,</span> address: <span class="token string">"浦东新区转运中心"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">31.221461</span><span class="token punctuation">,</span> longitude:<span class="token number">121.544346</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>上海市浦东新区南汇:AGENCY {bid: <span class="token number">210057</span><span class="token punctuation">,</span> name: <span class="token string">"上海市浦东新区南汇"</span><span class="token punctuation">,</span> address: <span class="token string">"园春路8号"</span><span class="token punctuation">,</span> phone : <span class="token string">"18821179169"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">31.035240152911637</span><span class="token punctuation">,</span> longitude:<span class="token number">121.73459966751048</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>上海市浦东新区南汇<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">275.4</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>浦东新区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>上海市浦东新区南汇<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">275.4</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>浦东新区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>上海市浦东新区周浦:AGENCY {bid: <span class="token number">210127</span><span class="token punctuation">,</span> name: <span class="token string">"上海市浦东新区周浦"</span><span class="token punctuation">,</span> address: <span class="token string">"川周公路3278-8号"</span><span class="token punctuation">,</span> phone : <span class="token string">"021-68060322"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">31.132409729356993</span><span class="token punctuation">,</span> longitude:<span class="token number">121.59815370294322</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>上海市浦东新区周浦<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">111.6</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>浦东新区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>上海市浦东新区周浦<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">111.6</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>浦东新区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>奉贤区转运中心:TLT {bid: <span class="token number">90004</span><span class="token punctuation">,</span> name: <span class="token string">"奉贤区转运中心"</span><span class="token punctuation">,</span> address: <span class="token string">"奉贤区转运中心"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">30.918406</span><span class="token punctuation">,</span> longitude:<span class="token number">121.473945</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>上海市奉贤区东部:AGENCY {bid: <span class="token number">210017</span><span class="token punctuation">,</span> name: <span class="token string">"上海市奉贤区东部"</span><span class="token punctuation">,</span> address: <span class="token string">"上上海市奉贤区洪庙镇洪兰路351"</span><span class="token punctuation">,</span> phone : <span class="token string">"021-57171717"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">30.917752751719863</span><span class="token punctuation">,</span> longitude:<span class="token number">121.67587819184698</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>上海市奉贤区东部<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">192.9</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>奉贤区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>上海市奉贤区东部<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">192.9</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>奉贤区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>上海市奉贤区青村:AGENCY {bid: <span class="token number">210442</span><span class="token punctuation">,</span> name: <span class="token string">"上海市奉贤区青村"</span><span class="token punctuation">,</span> address: <span class="token string">"姚家村1127号"</span><span class="token punctuation">,</span> phone : <span class="token string">"021-57566663,021-57566606"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">30.916946897994983</span><span class="token punctuation">,</span> longitude:<span class="token number">121.57954144207972</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>上海市奉贤区青村<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">100.9</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>奉贤区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>上海市奉贤区青村<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">100.9</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>奉贤区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>浦东新区转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">68.0</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>上海市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>浦东新区转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">68.0</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>上海市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>奉贤区转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">347.4</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>上海市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>奉贤区转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">347.4</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>上海市转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>玄武区转运中心:TLT {bid: <span class="token number">90004</span><span class="token punctuation">,</span> name: <span class="token string">"玄武区转运中心"</span> <span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">32.048644</span><span class="token punctuation">,</span> longitude:<span class="token number">118.797779</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>江苏省南京市玄武区紫金墨香苑:AGENCY {bid: <span class="token number">25073</span><span class="token punctuation">,</span> name: <span class="token string">"江苏省南京市玄武区紫金墨香苑"</span><span class="token punctuation">,</span> address: <span class="token string">"栖霞区燕尧路100号"</span><span class="token punctuation">,</span> phone : <span class="token string">"025-58765331,025-83241955,025-83241881"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">32.117016089520305</span><span class="token punctuation">,</span> longitude:<span class="token number">118.86319310255513</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>江苏省南京市玄武区紫金墨香苑<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">98.0</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>玄武区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>江苏省南京市玄武区紫金墨香苑<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">98.0</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>玄武区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>江苏省南京市玄武区长江路:AGENCY {bid: <span class="token number">25023</span><span class="token punctuation">,</span> name: <span class="token string">"江苏省南京市玄武区长江路"</span><span class="token punctuation">,</span> address: <span class="token string">"观音阁10号"</span><span class="token punctuation">,</span> phone : <span class="token string">"18521133265,18695799166"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">32.04803554410631</span><span class="token punctuation">,</span> longitude:<span class="token number">118.79190455263355</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>江苏省南京市玄武区长江路<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">5.6</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>玄武区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>江苏省南京市玄武区长江路<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">5.6</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>玄武区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>玄武区转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">12.0</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>南京市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>玄武区转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">12.0</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>南京市转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>小店区转运中心:TLT {bid: <span class="token number">90005</span><span class="token punctuation">,</span> name: <span class="token string">"小店区转运中心"</span> <span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">37.736865</span><span class="token punctuation">,</span> longitude:<span class="token number">112.565524</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>山西省太原市青龙:AGENCY {bid: <span class="token number">351068</span><span class="token punctuation">,</span> name: <span class="token string">"山西省太原市青龙"</span><span class="token punctuation">,</span> address: <span class="token string">"长治路33号经典家园停车场内13号商铺"</span><span class="token punctuation">,</span> phone : <span class="token string">"0351-2025888"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">37.83589608758359</span><span class="token punctuation">,</span> longitude:<span class="token number">112.56059258109424</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>山西省太原市青龙<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">110.3</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>小店区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>山西省太原市青龙<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">110.3</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>小店区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>山西省太原市长风街:AGENCY {bid: <span class="token number">351045</span><span class="token punctuation">,</span> name: <span class="token string">"山西省太原市长风街"</span><span class="token punctuation">,</span> address: <span class="token string">"平阳路104号省农机公司院内"</span><span class="token punctuation">,</span> phone : <span class="token string">"18636100730"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">37.809964384001226</span><span class="token punctuation">,</span> longitude:<span class="token number">112.55299317699505</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>山西省太原市长风街<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">82.1</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>小店区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>山西省太原市长风街<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">82.1</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>小店区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>小店区转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">149.4</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>太原市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>小店区转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">149.4</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>太原市转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>中原区转运中心:TLT {bid: <span class="token number">90006</span><span class="token punctuation">,</span> name: <span class="token string">"中原区转运中心"</span> <span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">34.74828</span><span class="token punctuation">,</span> longitude:<span class="token number">113.612966</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>河南省郑州市郑上路:AGENCY {bid: <span class="token number">371067</span><span class="token punctuation">,</span> name: <span class="token string">"河南省郑州市郑上路"</span><span class="token punctuation">,</span> address: <span class="token string">"中原西路西四环西北角"</span><span class="token punctuation">,</span> phone : <span class="token string">"0371-55116757,0371-68014786"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">34.74753024533005</span><span class="token punctuation">,</span> longitude:<span class="token number">113.57428550005442</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>河南省郑州市郑上路<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">35.4</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>中原区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>河南省郑州市郑上路<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">35.4</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>中原区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span> <span class="token punctuation">(</span>河南省郑州市颍河路:AGENCY {bid: <span class="token number">371086</span><span class="token punctuation">,</span> name: <span class="token string">"河南省郑州市颍河路"</span><span class="token punctuation">,</span> address: <span class="token string">"航海西路与西三环交叉口向南300米路西中贸商务"</span><span class="token punctuation">,</span> phone : <span class="token string">"19139415556"</span><span class="token punctuation">,</span> location : <span class="token keyword">point</span><span class="token punctuation">(</span>{latitude:<span class="token number">34.71593280680163</span><span class="token punctuation">,</span> longitude:<span class="token number">113.60398506929064</span>}<span class="token punctuation">)</span>}<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>河南省郑州市颍河路<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">36.9</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>中原区转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>河南省郑州市颍河路<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">36.9</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>中原区转运中心<span class="token punctuation">)</span>
<span class="token keyword">CREATE</span>
    <span class="token punctuation">(</span>中原区转运中心<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">[</span>:IN_LINE {cost:<span class="token number">11.5</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>郑州市转运中心<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span>中原区转运中心<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token punctuation">[</span>:OUT_LINE {cost:<span class="token number">11.5</span>}<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>郑州市转运中心<span class="token punctuation">)</span>
</code></pre> 
<hr> 
<h2><a id="_542"></a>总结</h2> 
<p>1.Neo4j是用Java实现的开源NoSQL图数据库;<br> 2.dokcer版本的Neo4j部署安装，数据结构介绍；<br> 3.Cypher是Neo4j的查询语言，创建和查询入门；</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5fda1b391fa73d7f345b10009b12b558/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">uniapp 安卓、IOS、H5、微信小程序实现PDF在线预览</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0a10c578d9a09cf53bf6116ca5f98d41/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">怎么调用文心一言的api接口生成一个简单的聊天机器人（python代码）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ã€Linux C | ç½‘ç»œç¼–ç¨‹ã€‘getaddrinfo å‡½æ•°è¯¦è§£åŠCè¯­è¨€ä¾‹å­ - ç¼–ç¨‹å­¦ä¹ è€…</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/e3bf1df76cd0a5681c804006b544fa7d/">
  <meta property="og:site_name" content="ç¼–ç¨‹å­¦ä¹ è€…">
  <meta property="og:title" content="ã€Linux C | ç½‘ç»œç¼–ç¨‹ã€‘getaddrinfo å‡½æ•°è¯¦è§£åŠCè¯­è¨€ä¾‹å­">
  <meta property="og:description" content="ğŸ˜åšå®¢ä¸»é¡µğŸ˜ï¼šğŸš€https://blog.csdn.net/wkd_007ğŸš€
ğŸ¤‘åšå®¢å†…å®¹ğŸ¤‘ï¼šğŸ­åµŒå…¥å¼å¼€å‘ã€Linuxã€Cè¯­è¨€ã€C&#43;&#43;ã€æ•°æ®ç»“æ„ã€éŸ³è§†é¢‘ğŸ­
ğŸ¤£æœ¬æ–‡å†…å®¹ğŸ¤£ï¼šğŸ­ä»‹ç» getaddrinfo å‡½æ•° ğŸ­
ğŸ˜é‡‘å¥åˆ†äº«ğŸ˜ï¼šğŸ­ä½ ä¸èƒ½é€‰æ‹©æœ€å¥½çš„ï¼Œä½†æœ€å¥½çš„ä¼šæ¥é€‰æ‹©ä½ â€”â€”æ³°æˆˆå°”ğŸ­
â°å‘å¸ƒæ—¶é—´â°ï¼š2024-03-01 14:15:54
æœ¬æ–‡æœªç»å…è®¸ï¼Œä¸å¾—è½¬å‘ï¼ï¼ï¼
ç›®å½• ğŸ„ä¸€ã€æ¦‚è¿°ğŸ„äºŒã€getaddrinfo å‡½æ•°âœ¨2.1 getaddrinfo å‡½æ•°ä»‹ç»âœ¨2.2 struct addrinfo ç»“æ„ä½“è¯´æ˜ ğŸ„ä¸‰ã€gai_strerrorã€freeaddrinfo å‡½æ•°âœ¨3.1 gai_strerror å‡½æ•°ä»‹ç»âœ¨3.2 freeaddrinfo å‡½æ•°ä»‹ç» ğŸ„å››ã€getaddrinfo å‡½æ•°ä½¿ç”¨ä¾‹å­ğŸ„äº”ã€æ€»ç»“ ğŸ„ä¸€ã€æ¦‚è¿° å‰é¢ä»‹ç»è¿‡åŸŸåå’ŒIPåœ°å€ä¹‹é—´è½¬æ¢çš„ä¸¤ä¸ªå‡½æ•°ï¼šgethostbynameå’Œgethostbyaddrï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªå‡½æ•°ä»…ä»…æ”¯æŒIPv4ã€‚æœ¬æ–‡å†ä»‹ç»ä¸€ä¸ªå¯æ”¯æŒ IPv4 å’Œ IPv6 çš„å‡½æ•°getaddrinfoï¼Œè¯¥å‡½æ•°å¯ä»¥å¤„ç†åå­—åˆ°åœ°å€ä»¥åŠæœåŠ¡åˆ°ç«¯å£è¿™ä¸¤ç§è½¬æ¢ã€‚
ğŸ„äºŒã€getaddrinfo å‡½æ•° âœ¨2.1 getaddrinfo å‡½æ•°ä»‹ç» 1ã€å‡½æ•°åŸå‹ï¼š
#include &lt;sys/types.h&gt; #include &lt;sys/socket.h&gt; #include &lt;netdb.h&gt; int getaddrinfo(const char *node, const char *service, const struct addrinfo *hints, struct addrinfo **res); void freeaddrinfo(struct addrinfo *res); const char *gai_strerror(int errcode); 2ã€å‡½æ•°æè¿°ï¼š
getaddrinfoå‡½æ•°æ ¹æ®ç»™å®šçš„ä¸»æœºåå’ŒæœåŠ¡åï¼Œè¿”å›ä¸€ä¸ªstruct addrinfoç»“æ„é“¾è¡¨ï¼Œæ¯ä¸ªstruct addrinfoç»“æ„éƒ½åŒ…å«ä¸€ä¸ªäº’è”ç½‘åœ°å€ã€‚getaddrinfoå‡½æ•°å°†gethostbynameå’Œgetservbynameå‡½æ•°æä¾›çš„åŠŸèƒ½ç»„åˆåˆ°ä¸€ä¸ªæ¥å£ä¸­ï¼Œä½†ä¸åä¸€ä¸ªå‡½æ•°ä¸åŒï¼Œgetaddrinfoæ˜¯å¯é‡å…¥çš„ï¼Œå¯æ”¯æŒIPv4ã€IPv6ã€‚">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-01T14:16:04+08:00">
    <meta property="article:modified_time" content="2024-03-01T14:16:04+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å­¦ä¹ è€…" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å­¦ä¹ è€…</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ã€Linux C | ç½‘ç»œç¼–ç¨‹ã€‘getaddrinfo å‡½æ•°è¯¦è§£åŠCè¯­è¨€ä¾‹å­</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><font face="æ¥·ä½“" color="red" size="4">ğŸ˜åšå®¢ä¸»é¡µğŸ˜ï¼šğŸš€<a href="https://blog.csdn.net/wkd_007">https://blog.csdn.net/wkd_007</a>ğŸš€</font><br> <font face="æ¥·ä½“" color="green" size="4">ğŸ¤‘åšå®¢å†…å®¹ğŸ¤‘ï¼šğŸ­åµŒå…¥å¼å¼€å‘ã€Linuxã€Cè¯­è¨€ã€C++ã€æ•°æ®ç»“æ„ã€éŸ³è§†é¢‘ğŸ­</font><br> <font face="æ¥·ä½“" color="blue" size="4">ğŸ¤£æœ¬æ–‡å†…å®¹ğŸ¤£ï¼šğŸ­ä»‹ç» getaddrinfo å‡½æ•° ğŸ­</font><br> <font face="æ¥·ä½“" color="#ffb300" size="4">ğŸ˜é‡‘å¥åˆ†äº«ğŸ˜ï¼šğŸ­ä½ ä¸èƒ½é€‰æ‹©æœ€å¥½çš„ï¼Œä½†æœ€å¥½çš„ä¼šæ¥é€‰æ‹©ä½ â€”â€”æ³°æˆˆå°”ğŸ­</font><br> <font face="æ¥·ä½“" color="#06BEFF" size="4">â°å‘å¸ƒæ—¶é—´â°ï¼š2024-03-01 14:15:54</font></p> 
</blockquote> 
<p><font color="red" size="6" face="æ¥·ä½“">æœ¬æ–‡æœªç»å…è®¸ï¼Œä¸å¾—è½¬å‘ï¼ï¼ï¼</font></p> 
<p></p> 
<div class="toc"> 
 <h4>ç›®å½•</h4> 
 <ul><li><a href="#_13" rel="nofollow">ğŸ„ä¸€ã€æ¦‚è¿°</a></li><li><a href="#font_facecourier_colorredgetaddrinfofont__19" rel="nofollow">ğŸ„äºŒã€<font face="courier" color="red">getaddrinfo</font> å‡½æ•°</a></li><li><ul><li><a href="#21_font_facecourier_colorredgetaddrinfofont__20" rel="nofollow">âœ¨2.1 <font face="courier" color="red">getaddrinfo</font> å‡½æ•°ä»‹ç»</a></li><li><a href="#22_font_facecourier_colorredstruct_addrinfofont__72" rel="nofollow">âœ¨2.2 <font face="courier" color="red">struct addrinfo</font> ç»“æ„ä½“è¯´æ˜</a></li></ul> 
  </li><li><a href="#font_facecourier_colorredgai_strerrorfreeaddrinfo_font__100" rel="nofollow">ğŸ„ä¸‰ã€<font face="courier" color="red">gai_strerrorã€freeaddrinfo </font> å‡½æ•°</a></li><li><ul><li><a href="#31_font_facecourier_colorredgai_strerrorfont__102" rel="nofollow">âœ¨3.1 <font face="courier" color="red">gai_strerror</font> å‡½æ•°ä»‹ç»</a></li><li><a href="#32_font_facecourier_colorredfreeaddrinfofont__128" rel="nofollow">âœ¨3.2 <font face="courier" color="red">freeaddrinfo</font> å‡½æ•°ä»‹ç»</a></li></ul> 
  </li><li><a href="#getaddrinfo__149" rel="nofollow">ğŸ„å››ã€getaddrinfo å‡½æ•°ä½¿ç”¨ä¾‹å­</a></li><li><a href="#_212" rel="nofollow">ğŸ„äº”ã€æ€»ç»“</a></li></ul> 
</div> 
<p></p> 
<hr> 
<p><img src="https://images2.imgbox.com/f4/3c/R3D4guWm_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" height="40"></p> 
<h2><a id="_13"></a>ğŸ„ä¸€ã€æ¦‚è¿°</h2> 
<p>å‰é¢ä»‹ç»è¿‡åŸŸåå’ŒIPåœ°å€ä¹‹é—´è½¬æ¢çš„ä¸¤ä¸ªå‡½æ•°ï¼š<code>gethostbyname</code>å’Œ<code>gethostbyaddr</code>ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªå‡½æ•°ä»…ä»…æ”¯æŒIPv4ã€‚æœ¬æ–‡å†ä»‹ç»ä¸€ä¸ªå¯æ”¯æŒ IPv4 å’Œ IPv6 çš„å‡½æ•°<code>getaddrinfo</code>ï¼Œè¯¥å‡½æ•°å¯ä»¥å¤„ç†åå­—åˆ°åœ°å€ä»¥åŠæœåŠ¡åˆ°ç«¯å£è¿™ä¸¤ç§è½¬æ¢ã€‚</p> 
<hr> 
<p><img src="https://images2.imgbox.com/a2/e3/hsp4Eq3T_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" height="40"></p> 
<h2><a id="font_facecourier_colorredgetaddrinfofont__19"></a>ğŸ„äºŒã€<font face="courier" color="red">getaddrinfo</font> å‡½æ•°</h2> 
<h3><a id="21_font_facecourier_colorredgetaddrinfofont__20"></a>âœ¨2.1 <font face="courier" color="red">getaddrinfo</font> å‡½æ•°ä»‹ç»</h3> 
<ul><li> <p>1ã€å‡½æ•°åŸå‹ï¼š</p> <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/socket.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;netdb.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">getaddrinfo</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>node<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>service<span class="token punctuation">,</span>
                <span class="token keyword">const</span> <span class="token keyword">struct</span> <span class="token class-name">addrinfo</span> <span class="token operator">*</span>hints<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">addrinfo</span> <span class="token operator">*</span><span class="token operator">*</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">freeaddrinfo</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">addrinfo</span> <span class="token operator">*</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">gai_strerror</span><span class="token punctuation">(</span><span class="token keyword">int</span> errcode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>2ã€å‡½æ•°æè¿°ï¼š<br> <code>getaddrinfo</code>å‡½æ•°æ ¹æ®ç»™å®šçš„ä¸»æœºåå’ŒæœåŠ¡åï¼Œè¿”å›ä¸€ä¸ª<code>struct addrinfo</code>ç»“æ„é“¾è¡¨ï¼Œæ¯ä¸ª<code>struct addrinfo</code>ç»“æ„éƒ½åŒ…å«ä¸€ä¸ªäº’è”ç½‘åœ°å€ã€‚<code>getaddrinfo</code>å‡½æ•°å°†<code>gethostbyname</code>å’Œ<code>getservbyname</code>å‡½æ•°æä¾›çš„åŠŸèƒ½ç»„åˆåˆ°ä¸€ä¸ªæ¥å£ä¸­ï¼Œä½†ä¸åä¸€ä¸ªå‡½æ•°ä¸åŒï¼Œ<code>getaddrinfo</code>æ˜¯å¯é‡å…¥çš„ï¼Œå¯æ”¯æŒIPv4ã€IPv6ã€‚</p> </li><li> <p>3ã€å‡½æ•°å‚æ•°ï¼š</p> 
  <ul><li> <p>nodeï¼šä¸€ä¸ªä¸»æœºåæˆ–åœ°å€ä¸²ï¼ˆ IPv4çš„ç‚¹åˆ†åè¿›åˆ¶æ•°ä¸²æˆ–IPv6çš„åå…­è¿›åˆ¶æ•°ä¸²)ã€‚å¦‚æœ<code>hints.ai_flags</code>åŒ…å«AI_NUMERICHOSTæ ‡å¿—ï¼Œåˆ™æ­¤å‚æ•°å¿…é¡»æ˜¯IPåœ°å€å­—ç¬¦ä¸²ï¼›</p> </li><li> <p>serviceï¼šä¸€ä¸ªæœåŠ¡åæˆ–åè¿›åˆ¶ç«¯å£å·æ•°ä¸²ã€‚å¦‚æœæ­¤å‚æ•°è¢«è®¾ç½®ä¸ºä¸€ä¸ªæœåŠ¡åç§°ï¼Œåˆ™ä¼šå°†å…¶è½¬æ¢ä¸ºç›¸åº”çš„ç«¯å£å·ã€‚å¦‚æœè®¾ç½®ä¸ºNULLï¼Œåˆ™è¿”å›çš„å¥—æ¥å­—åœ°å€çš„ç«¯å£å·å°†ä¿æŒæœªåˆå§‹åŒ–çŠ¶æ€ã€‚å¦‚æœåœ¨hints.ai_flagsä¸­æŒ‡å®šäº†AI_NUMERICSERVï¼Œå¹¶ä¸”æ­¤å‚æ•°ä¸ä¸ºNULLï¼Œåˆ™æ­¤å‚æ•°å¿…é¡»æŒ‡å‘åŒ…å«æ•°å­—ç«¯å£å·çš„å­—ç¬¦ä¸²ï¼›</p> </li><li> <p>hintsï¼šhintså‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªç©ºæŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæŒ‡å‘æŸä¸ªaddrinfoç»“æ„çš„æŒ‡é’ˆï¼Œè°ƒç”¨è€…åœ¨è¿™ä¸ªç»“æ„ä¸­å¡«å…¥å…³äºæœŸæœ›è¿”å›çš„ä¿¡æ¯ç±»å‹çš„æš—ç¤ºã€‚hintså‚æ•°ä¸­ï¼Œè°ƒç”¨è€…å¯ä»¥è®¾ç½®çš„å­—æ®µæœ‰ï¼šai_flagsã€ai_familyã€ai_socktypeã€ai_protocolã€‚å…¶ä¸­ï¼Œai_flagså–å€¼å¦‚ä¸‹è¡¨ï¼š</p> 
    <table><thead><tr><th align="left">å–å€¼</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">AI_PASSIVE</td><td align="left">å¥—æ¥å­—å°†ç”¨äºè¢«åŠ¨æ‰“å¼€.</td></tr><tr><td align="left">AI_CANONNAME</td><td align="left">å‘ŠçŸ¥getaddrinfoå‡½æ•°è¿”å›ä¸»æœºçš„è§„èŒƒåå­—.</td></tr><tr><td align="left">AI_NUMERICHOST</td><td align="left">é˜²æ­¢ä»»ä½•ç±»å‹çš„åå­—åˆ°åœ°å€æ˜ å°„ï¼Œhostnameå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªåœ°å€ä¸²ã€‚</td></tr><tr><td align="left">AI_NUMERICSERV</td><td align="left">é˜²æ­¢ä»»ä½•ç±»å‹çš„åå­—åˆ°æœåŠ¡æ˜ å°„, serviceå‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªåè¿›åˆ¶ç«¯å£å·ã€‚AI__V4MAPPED</td></tr><tr><td align="left">AI_V4MAPPED</td><td align="left">å¦‚æœåŒæ—¶æŒ‡å®šai_familyæˆå‘˜çš„å€¼ä¸ºAF_INET6ï¼Œé‚£ä¹ˆå¦‚æœæ²¡æœ‰å¯ç”¨çš„AAAAè®°å½•ï¼Œå°±è¿”å›ä¸Aè®°å½•å¯¹åº”çš„IPv4æ˜ å°„çš„IPv6åœ°å€ã€‚</td></tr><tr><td align="left">AI_ALL</td><td align="left">å¦‚æœåŒæ—¶æŒ‡å®šAI_V4MAPPEDæ ‡å¿—ï¼Œé‚£ä¹ˆé™¤äº†è¿”å›ä¸AAAAè®°å½•å¯¹åº”çš„IPv6åœ°å€å¤–ï¼Œè¿˜è¿”å›ä¸Aè®°å½•å¯¹åº”çš„IPv4æ˜ å°„çš„IPv6åœ°å€ã€‚</td></tr><tr><td align="left">AI_ADDRCONFIG</td><td align="left">æŒ‰ç…§æ‰€åœ¨ä¸»æœºçš„é…ç½®é€‰æ‹©è¿”å›åœ°å€ç±»å‹ï¼Œä¹Ÿå°±æ˜¯åªæŸ¥æ‰¾ä¸æ‰€åœ¨ä¸»æœºå›é¦ˆæ¥å£ä»¥å¤–çš„ç½‘ç»œæ¥å£é…ç½®çš„IPåœ°å€ç‰ˆæœ¬ä¸€è‡´çš„åœ°å€ã€‚</td></tr></tbody></table><p>ai_family å–å€¼ä¸€èˆ¬ä¸º<code>AF_XXX</code>ï¼Œä¾‹å¦‚ï¼š<code>AF_INET</code>ã€<code>AF_INET6</code>ã€<code>AF_UNSPEC</code>(ä¸é™åˆ¶IPåœ°å€åè®®)ï¼›<br> ai_socktype å–å€¼ä¸€èˆ¬ä¸º<code>SOCK_XXX</code>ï¼Œä¾‹å¦‚ï¼š<code>SOCK_STREAM</code>ã€<code>SOCK_DGRAM</code>ã€‚<br> ai_protocol å­—æ®µæŒ‡å®šè¿”å›çš„å¥—æ¥å­—åœ°å€çš„åè®®ã€‚åœ¨è¯¥å­—æ®µä¸­æŒ‡å®š0è¡¨ç¤ºgetaddrinfoå‡½æ•°å¯ä»¥è¿”å›å…·æœ‰ä»»ä½•åè®®çš„å¥—æ¥å­—åœ°å€ã€‚</p> </li><li> <p>resï¼šä¼ å‡ºå‚æ•°ï¼Œå¦‚æœæœ¬å‡½æ•°è¿”å›æˆåŠŸ0ï¼Œåˆ™ res å‚æ•°æŒ‡å‘çš„å˜é‡å·²è¢«å¡«å…¥ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘çš„æ˜¯ç”±å…¶ä¸­çš„ ai_next æˆå‘˜ä¸²æ¥èµ·æ¥çš„ addrinfo ç»“æ„é“¾è¡¨ã€‚</p> </li></ul> </li><li> <p>4ã€è¿”å›å€¼ï¼š<br> æˆåŠŸè¿”å›0ï¼Œå¤±è´¥è¿”å›é0ï¼Œå–å€¼å¦‚ä¸‹è¡¨ï¼š</p> 
  <table><thead><tr><th align="left">å¸¸å€¼</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">EAI_AGAIN</td><td align="left">åå­—è§£æä¸­ä¸´æ—¶å¤±è´¥</td></tr><tr><td align="left">EAI_BADFLAGS</td><td align="left">ai_flagsçš„å€¼æ— æ•ˆ</td></tr><tr><td align="left">EAI_FAIL</td><td align="left">åå­—è§£æä¸­ä¸å¯æ¢å¤åœ°å¤±è´¥</td></tr><tr><td align="left">EAI_FAMILY</td><td align="left">ä¸æ”¯æŒai_family</td></tr><tr><td align="left">EAI_MEMORY</td><td align="left">å†…å­˜åˆ†é…å¤±è´¥</td></tr><tr><td align="left">EAI_NONAME</td><td align="left">hostnameæˆ–serviceæœªæä¾›ï¼Œæˆ–è€…ä¸å¯çŸ¥</td></tr><tr><td align="left">EAI_OVERFTOW</td><td align="left">ç”¨æˆ·å‚æ•°ç¼“å†²åŒºæº¢å‡º(ä»…é™getnameinfo( )å‡½æ•°)</td></tr><tr><td align="left">EAI_SERVICE</td><td align="left">ä¸æ”¯æŒai_socktypeç±»å‹çš„service</td></tr><tr><td align="left">EAI_SOCKTYPE</td><td align="left">ä¸æ”¯æŒai_socktype</td></tr><tr><td align="left">EAI_SYSTEM</td><td align="left">åœ¨errnoå˜é‡ä¸­æœ‰ç³»ç»Ÿé”™è¯¯è¿”å›</td></tr></tbody></table></li></ul> 
<hr> 
<h3><a id="22_font_facecourier_colorredstruct_addrinfofont__72"></a>âœ¨2.2 <font face="courier" color="red">struct addrinfo</font> ç»“æ„ä½“è¯´æ˜</h3> 
<p><code>struct addrinfo</code>ç»“æ„ä½“å®šä¹‰åœ¨å¤´æ–‡ä»¶ <code>netdb.h</code> ä¸­ï¼Œç»“æ„ä½“å£°æ˜å¦‚ä¸‹ï¼š</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span> <span class="token class-name">addrinfo</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span>              ai_flags<span class="token punctuation">;</span>
	<span class="token keyword">int</span>              ai_family<span class="token punctuation">;</span>
	<span class="token keyword">int</span>              ai_socktype<span class="token punctuation">;</span>
	<span class="token keyword">int</span>              ai_protocol<span class="token punctuation">;</span>
	<span class="token class-name">socklen_t</span>        ai_addrlen<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">sockaddr</span> <span class="token operator">*</span>ai_addr<span class="token punctuation">;</span>
	<span class="token keyword">char</span>            <span class="token operator">*</span>ai_canonname<span class="token punctuation">;</span>
	<span class="token keyword">struct</span> <span class="token class-name">addrinfo</span> <span class="token operator">*</span>ai_next<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/cf/cf/QaU1PSOg_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> ç»“æ„ä½“å­—æ®µè¯´æ˜ï¼š</p> 
<ul><li>ai_flagsï¼šæ ‡å¿—ï¼Œåœ¨è°ƒç”¨æ—¶ä½¿ç”¨ï¼Œå…·ä½“å–å€¼è§ä¸Šé¢ <code>hintså‚æ•°</code> çš„è¯´æ˜ï¼›</li><li>ai_familyï¼šIPåè®®æ—ï¼Œä¸€èˆ¬å–å€¼æœ‰<code>AF_INET</code>ã€<code>AF_INET6</code>ã€<code>AF_UNSPEC</code>(ä¸é™åˆ¶IPåœ°å€åè®®)ï¼›</li><li>ai_socktypeï¼šsocketç±»å‹ï¼Œå–å€¼ä¸€èˆ¬ä¸º<code>SOCK_XXX</code>ï¼Œä¾‹å¦‚ï¼š<code>SOCK_STREAM</code>ã€<code>SOCK_DGRAM</code>ï¼›</li><li>ai_protocolï¼šæ­¤å­—æ®µæŒ‡å®šè¿”å›çš„å¥—æ¥å­—åœ°å€çš„åè®®ï¼Œä¸€èˆ¬æœ‰<code>IPPROTO_UDP</code>ã€<code>IPPROTO_TCP</code></li><li>ai_addrlenï¼šè¿”å›çš„åœ°å€ç»“æ„ä½“<code>ai_addr</code>çš„é•¿åº¦ã€‚ä¸€èˆ¬IPv4æ˜¯4ï¼ŒIPv6æ˜¯16ï¼›</li><li>ai_addrï¼šå­˜å‚¨IPåœ°å€æ•°æ®ï¼Œä¸€èˆ¬è½¬æ¢æˆ<code>struct sockaddr_in</code>æˆ–<code>struct sockaddr_in6</code>ä½¿ç”¨ï¼›</li><li>ai_canonnameï¼šæ­£å¼çš„ã€æ ‡å‡†çš„åç§°ï¼›</li><li>ai_nextï¼šç”¨ä½œé“¾è¡¨ç»“ç‚¹æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ª<code>struct addrinfo</code>ç»“ç‚¹ã€‚</li></ul> 
<hr> 
<p><img src="https://images2.imgbox.com/4c/a3/jSzsj8pm_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" height="40"></p> 
<h2><a id="font_facecourier_colorredgai_strerrorfreeaddrinfo_font__100"></a>ğŸ„ä¸‰ã€<font face="courier" color="red">gai_strerrorã€freeaddrinfo </font> å‡½æ•°</h2> 
<p>åœ¨ä½¿ç”¨ getaddrinfo å‡½æ•°æ—¶ï¼Œè¿˜æœ‰ä¸¤ä¸ªå‡½æ•°ä¹Ÿä¼šä½¿ç”¨åˆ°ï¼Œä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸¤ä¸ªå‡½æ•°ã€‚</p> 
<h3><a id="31_font_facecourier_colorredgai_strerrorfont__102"></a>âœ¨3.1 <font face="courier" color="red">gai_strerror</font> å‡½æ•°ä»‹ç»</h3> 
<ul><li>1ã€å‡½æ•°åŸå‹ï¼š<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/socket.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;netdb.h&gt;</span></span>
<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token function">gai_strerror</span><span class="token punctuation">(</span><span class="token keyword">int</span> errcode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li>2ã€å‡½æ•°æè¿°ï¼š<br> getaddrinfoå‡ºé”™ä¼šè¿”å›çš„é0é”™è¯¯å€¼ï¼Œgai_strerrorä»¥è¿™äº›å€¼ä¸ºå®ƒçš„å”¯ä¸€å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘å¯¹åº”çš„å‡ºé”™ä¿¡æ¯ä¸²çš„æŒ‡é’ˆã€‚ 
  <table><thead><tr><th align="left">å¸¸å€¼</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">EAI_AGAIN</td><td align="left">åå­—è§£æä¸­ä¸´æ—¶å¤±è´¥</td></tr><tr><td align="left">EAI_BADFLAGS</td><td align="left">ai_flagsçš„å€¼æ— æ•ˆ</td></tr><tr><td align="left">EAI_FAIL</td><td align="left">åå­—è§£æä¸­ä¸å¯æ¢å¤åœ°å¤±è´¥</td></tr><tr><td align="left">EAI_FAMILY</td><td align="left">ä¸æ”¯æŒai_family</td></tr><tr><td align="left">EAI_MEMORY</td><td align="left">å†…å­˜åˆ†é…å¤±è´¥</td></tr><tr><td align="left">EAI_NONAME</td><td align="left">hostnameæˆ–serviceæœªæä¾›ï¼Œæˆ–è€…ä¸å¯çŸ¥</td></tr><tr><td align="left">EAI_OVERFTOW</td><td align="left">ç”¨æˆ·å‚æ•°ç¼“å†²åŒºæº¢å‡º(ä»…é™getnameinfo( )å‡½æ•°)</td></tr><tr><td align="left">EAI_SERVICE</td><td align="left">ä¸æ”¯æŒai_socktypeç±»å‹çš„service</td></tr><tr><td align="left">EAI_SOCKTYPE</td><td align="left">ä¸æ”¯æŒai_socktype</td></tr><tr><td align="left">EAI_SYSTEM</td><td align="left">åœ¨errnoå˜é‡ä¸­æœ‰ç³»ç»Ÿé”™è¯¯è¿”å›</td></tr></tbody></table> </li></ul> 
<hr> 
<h3><a id="32_font_facecourier_colorredfreeaddrinfofont__128"></a>âœ¨3.2 <font face="courier" color="red">freeaddrinfo</font> å‡½æ•°ä»‹ç»</h3> 
<ul><li> <p>1ã€å‡½æ•°åŸå‹ï¼š</p> <pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/socket.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;netdb.h&gt;</span></span>
<span class="token keyword">void</span> <span class="token function">freeaddrinfo</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">addrinfo</span> <span class="token operator">*</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>2ã€å‡½æ•°æè¿°ï¼š<br> ç”±getaddrinfoè¿”å›çš„æ‰€æœ‰å­˜å‚¨ç©ºé—´éƒ½æ˜¯åŠ¨æ€è·å–çš„ï¼ˆè­¬å¦‚æ¥è‡ªmallocè°ƒç”¨)ï¼ŒåŒ…æ‹¬addrinfoç»“æ„ã€ai_addrç»“æ„å’Œai_canonnameå­—ç¬¦ä¸²ã€‚è¿™äº›å­˜å‚¨ç©ºé—´éœ€è¦é€šè¿‡è°ƒç”¨<code>freeaddrinfo</code>è¿”è¿˜ç»™ç³»ç»Ÿã€‚</p> </li><li> <p>3ã€å‚æ•°<br> resï¼šreså‚æ•°åº”æŒ‡å‘ç”±getaddrinfoè¿”å›çš„ç¬¬ä¸€ä¸ªaddrinfoç»“æ„ã€‚è¿™ä¸ªé“¾è¡¨ä¸­çš„æ‰€æœ‰ç»“æ„ä»¥åŠç”±å®ƒä»¬æŒ‡å‘çš„ä»»ä½•åŠ¨æ€å­˜å‚¨ç©ºé—´ï¼ˆè­¬å¦‚å¥—æ¥å­—åœ°å€ç»“æ„å’Œè§„èŒƒä¸»æœºåï¼‰éƒ½è¢«é‡Šæ”¾æ‰ã€‚</p> </li><li> <p>4ã€æ³¨æ„ï¼š<br> å¦‚æœgetaddrinfoæˆåŠŸè¿”å›åï¼Œæˆ‘ä»¬ä¸ºäº†ä¿å­˜è¿”å›çš„ä¿¡æ¯è€Œä»…ä»…å¤åˆ¶äº†è¿”å›çš„addrinfoç»“æ„ï¼Œåœ¨è°ƒç”¨freeaddrinfoåï¼Œå°±ä¼šå­˜åœ¨ä¸€ä¸ª<code>é”™è¯¯</code>ï¼šæˆ‘ä»¬å‰é¢å¤åˆ¶çš„addrinfoç»“æ„ä¸­çš„æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ç©ºé—´å·²åœ¨è°ƒç”¨freeaddrinfoåè¿”è¿˜ç»™ç³»ç»Ÿã€‚<br> è¿™ç§åªå¤åˆ¶ç»“æ„ä½“è€Œæ²¡å¤åˆ¶ç»“æ„ä½“å­—æ®µæŒ‡å‘çš„å†…å®¹çš„æ–¹å¼ç§°ä¸º<code>æµ…å¤åˆ¶</code>ï¼›å¤åˆ¶ç»“æ„ä½“åˆå¤åˆ¶ç»“æ„ä½“å­—æ®µæŒ‡å‘çš„å†…å®¹çš„æ–¹å¼ç§°ä¸º<code>æ·±å¤åˆ¶</code>ã€‚ä¸Šé¢ä¾‹å­ä¸­ï¼Œå¦‚æœç¡®å®è¦ä¿å­˜ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨æ·±å¤åˆ¶æ¥ä¿å­˜ã€‚</p> </li></ul> 
<hr> 
<p><img src="https://images2.imgbox.com/4a/0d/X4JjCrSl_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" height="40"></p> 
<h2><a id="getaddrinfo__149"></a>ğŸ„å››ã€getaddrinfo å‡½æ•°ä½¿ç”¨ä¾‹å­</h2> 
<pre><code class="prism language-c"><span class="token comment">// getaddrinfo_sample.c</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;netdb.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;arpa/inet.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">struct</span> <span class="token class-name">addrinfo</span> hints<span class="token punctuation">,</span> <span class="token operator">*</span>result<span class="token punctuation">,</span> <span class="token operator">*</span>rp<span class="token punctuation">;</span><span class="token comment">// å®šä¹‰addrinfoç»“æ„ä½“å˜é‡</span>
    <span class="token keyword">int</span> err<span class="token punctuation">;</span>                         	<span class="token comment">// getaddrinfoå‡½æ•°è¿”å›å€¼</span>
    <span class="token keyword">char</span> ipstr<span class="token punctuation">[</span>INET6_ADDRSTRLEN<span class="token punctuation">]</span><span class="token punctuation">;</span>       <span class="token comment">// å­˜å‚¨IPåœ°å€å­—ç¬¦ä¸²çš„ç¼“å†²åŒº</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>argc <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>                    <span class="token comment">// æ£€æŸ¥å‘½ä»¤è¡Œå‚æ•°æ•°é‡æ˜¯å¦æ­£ç¡®</span>
        <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">"Usage: %s hostname\n"</span><span class="token punctuation">,</span> argv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">memset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>hints<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>hints<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  	<span class="token comment">// åˆå§‹åŒ–hintsç»“æ„ä½“</span>
    hints<span class="token punctuation">.</span>ai_family <span class="token operator">=</span> AF_UNSPEC<span class="token punctuation">;</span>		<span class="token comment">// ä¸é™åˆ¶IPåœ°å€ç‰ˆæœ¬</span>
    hints<span class="token punctuation">.</span>ai_socktype <span class="token operator">=</span> SOCK_STREAM<span class="token punctuation">;</span>	<span class="token comment">// ä½¿ç”¨TCPåè®®</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>err <span class="token operator">=</span> <span class="token function">getaddrinfo</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>hints<span class="token punctuation">,</span> <span class="token operator">&amp;</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// è§£æä¸»æœºåå¹¶å°†ç»“æœå­˜å‚¨åœ¨resultæŒ‡é’ˆä¸­</span>
        <span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">"getaddrinfo error: %s\n"</span><span class="token punctuation">,</span> <span class="token function">gai_strerror</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"IP addresses for %s:\n"</span><span class="token punctuation">,</span> argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>rp <span class="token operator">=</span> result<span class="token punctuation">;</span> rp <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> rp <span class="token operator">=</span> rp<span class="token operator">-&gt;</span>ai_next<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>	<span class="token comment">// éå†resultæŒ‡é’ˆä¸­çš„æ‰€æœ‰å¥—æ¥å­—åœ°å€ç»“æ„</span>
        <span class="token keyword">void</span> <span class="token operator">*</span>addr<span class="token punctuation">;</span>
        <span class="token keyword">char</span> <span class="token operator">*</span>ipver<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>rp<span class="token operator">-&gt;</span>ai_family <span class="token operator">==</span> AF_INET<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>	<span class="token comment">// IPv4åœ°å€</span>
            <span class="token keyword">struct</span> <span class="token class-name">sockaddr_in</span> <span class="token operator">*</span>ipv4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">sockaddr_in</span> <span class="token operator">*</span><span class="token punctuation">)</span>rp<span class="token operator">-&gt;</span>ai_addr<span class="token punctuation">;</span>
            addr <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>ipv4<span class="token operator">-&gt;</span>sin_addr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ipver <span class="token operator">=</span> <span class="token string">"IPv4"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> 						<span class="token comment">// IPv6åœ°å€</span>
            <span class="token keyword">struct</span> <span class="token class-name">sockaddr_in6</span> <span class="token operator">*</span>ipv6 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">sockaddr_in6</span> <span class="token operator">*</span><span class="token punctuation">)</span>rp<span class="token operator">-&gt;</span>ai_addr<span class="token punctuation">;</span>
            addr <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>ipv6<span class="token operator">-&gt;</span>sin6_addr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ipver <span class="token operator">=</span> <span class="token string">"IPv6"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">inet_ntop</span><span class="token punctuation">(</span>rp<span class="token operator">-&gt;</span>ai_family<span class="token punctuation">,</span> addr<span class="token punctuation">,</span> ipstr<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ipstr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å°†å¥—æ¥å­—åœ°å€ç»“æ„è½¬æ¢ä¸ºIPåœ°å€å­—ç¬¦ä¸²</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"  %s: %s\n"</span><span class="token punctuation">,</span> ipver<span class="token punctuation">,</span> ipstr<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// æ‰“å°IPåœ°å€å’Œç‰ˆæœ¬å·</span>
    <span class="token punctuation">}</span>

    <span class="token function">freeaddrinfo</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// é‡Šæ”¾ç”±getaddrinfoå‡½æ•°åˆ†é…çš„å†…å­˜</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">// ç¨‹åºæ­£å¸¸é€€å‡º</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>è¿è¡Œç»“æœï¼š<br> ä¸‹é¢æ˜¯åˆ†åˆ«æŸ¥è¯¢<code>www.baidu.com</code>(ç™¾åº¦)ã€<code>www.goolge.com</code>(è°·æ­Œ)ã€<code>blog.csdn.net</code>(CSDN)ã€<code>localhost</code>(æœ¬åœ°ä¸»æœºå)ã€<code>ip6-localhost</code>ã€<code>ip6-localnet</code>çš„æ‰“å°ç»“æœã€‚<br> <img src="https://images2.imgbox.com/d0/94/2T89vCwm_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><code>localhost</code>(æœ¬åœ°ä¸»æœºå)ã€<code>ip6-localhost</code>ã€<code>ip6-localnet</code>ï¼Œè¿™ä¸‰ä¸ªåœ¨<code>/etc/hosts</code>æ–‡ä»¶ä¸­æœ‰è¯´æ˜ï¼Œå¯ä»¥å‘ç°ä¸æŸ¥è¯¢çš„ä¸€è‡´ã€‚<br> <img src="https://images2.imgbox.com/c5/6d/p7QOmJ2l_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<hr> 
<p><img src="https://images2.imgbox.com/4d/e4/auMHJMph_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" height="40"></p> 
<h2><a id="_212"></a>ğŸ„äº”ã€æ€»ç»“</h2> 
<p>ğŸ‘‰æœ¬æ–‡é‡ç‚¹ä»‹ç»äº† getaddrinfoã€freeaddrinfoã€gai_strerror ä¸‰ä¸ªå‡½æ•°ï¼Œå¹¶ç»™å‡ºCè¯­è¨€ä½¿ç”¨ä¾‹å­ã€‚</p> 
<p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œæˆ‘ä»¬æ·±å…¥æ¢è®¨äº† Linux ç³»ç»Ÿä¸­ getaddrinfo å‡½æ•°çš„å®šä¹‰å’Œä½¿ç”¨åœºæ™¯ã€‚getaddrinfo å‡½æ•°åœ¨ç½‘ç»œç¼–ç¨‹ä¸­æ‰®æ¼”ç€é‡è¦è§’è‰²ï¼Œå…è®¸å¼€å‘äººå‘˜æ ¹æ®ä¸»æœºåå’ŒæœåŠ¡ååŠ¨æ€è·å–åœ°å€ä¿¡æ¯ï¼Œä¸ºæ„å»ºçµæ´»ä¸”å¥å£®çš„ç½‘ç»œåº”ç”¨æä¾›äº†ä¾¿åˆ©ã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°äº†è§£å¹¶åº”ç”¨ getaddrinfo å‡½æ•°ã€‚</p> 
<p><img src="https://images2.imgbox.com/fd/49/OqT8iIxQ_o.gif" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> å¦‚æœæ–‡ç« æœ‰å¸®åŠ©çš„è¯ï¼Œç‚¹èµğŸ‘ã€æ”¶è—â­ï¼Œæ”¯æŒä¸€æ³¢ï¼Œè°¢è°¢ ğŸ˜ğŸ˜ğŸ˜</p> 
<p>å‚è€ƒèµ„æ–™ï¼š<br> 1ã€Linuxçš„manæ‰‹å†Œ<br> 2ã€ã€ŠUnixç½‘ç»œç¼–ç¨‹å·1ã€‹</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e5cbfc5332b869119a4122da77d7b1b7/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ã€ææ•ˆæŒ‡å—ã€‘æ€æ ·åˆ©ç”¨AIGCæé«˜è‡ªå·±çš„å·¥ä½œæ•ˆç‡</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0c9f02d1d39fd8290289ae1577e245aa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ç”¨GGUFå’ŒLlama.cppé‡åŒ–Llamaæ¨¡å‹</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å­¦ä¹ è€….
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
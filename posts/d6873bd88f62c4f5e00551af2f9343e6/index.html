<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>面试2. c&#43;&#43;面试（领为军融） - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/d6873bd88f62c4f5e00551af2f9343e6/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="面试2. c&#43;&#43;面试（领为军融）">
  <meta property="og:description" content="1本段代码是否存在问题？.
#include &lt;iostream&gt; void main() { for (unsigned short idx =0;idx &lt;65535; idx&#43;&#43;) { std::cout &lt;&lt; idx &lt;&lt;std::endl; } std::cout&lt;&lt;&#34;Execution completed!&#34;&lt;&lt;std::endl; } 解析：
(1)可靠性异常（死循环）: 在for循环中，idx变量是unsigned short类型，它的范围是0到65535。当idx达到65535时，再自增会导致它溢出并重置为0。因此，这个循环实际上是一个死循环，永远不会结束。
(2)main函数返回类型错误: main函数应该返回一个整数类型的值，通常是0表示程序正常退出。在您的代码中，main函数的返回类型被省略了，这在C&#43;&#43;中是不允许的，编译器将其解释为返回类型为int的函数。
(3)标准库头文件包含不当: 使用时，应包含必要的标准库头文件，如。但是，您提供的代码片段中没有包含任何标准库头文件，这可能导致编译错误。即用using namespace std;
正确写法：
#include &lt;iostream&gt; using namespace std; //（3）包含头文件的库 int main() { for (unsigned short idx =0;idx &lt;65535; idx&#43;&#43;) //（1）条件需要增加 { std::cout &lt;&lt; idx &lt;&lt;std::endl; } std::cout&lt;&lt;&#34;Execution completed!&#34;&lt;&lt;std::endl; return 0; //(2)返回值 } 2. 本段代码执行完毕后，输出什么结果？
#include &lt;iostream&gt; using namespace std; #pragma pack (push,4) typedef struct TagEntityType { unsigned char entityknd:4; unsigned char domain:6; unsigned char country:6; unsigned int category; unsigned char subCategory; unsigned int specific; unsigned char extra; }TEntityType; #pragma pack (pop) int main() { TEntityType et; std::cout &lt;&lt; sizeof(et) &lt;&lt; std::endl; return 0; } 12">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-26T19:44:05+08:00">
    <meta property="article:modified_time" content="2024-05-26T19:44:05+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">面试2. c&#43;&#43;面试（领为军融）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><code>1本段代码是否存在问题？</code>.</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">void</span>  <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">short</span> idx <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>idx <span class="token operator">&lt;</span><span class="token number">65535</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> idx <span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"Execution completed!"</span><span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>解析：<br> (1)可靠性异常（死循环）: 在for循环中，idx变量是unsigned short类型，它的范围是0到65535。当idx达到65535时，再自增会导致它溢出并重置为0。因此，这个循环实际上是一个死循环，永远不会结束。<br> (2)main函数返回类型错误: main函数应该返回一个整数类型的值，通常是0表示程序正常退出。在您的代码中，main函数的返回类型被省略了，这在C++中是不允许的，编译器将其解释为返回类型为int的函数。<br> (3)标准库头文件包含不当: 使用时，应包含必要的标准库头文件，如。但是，您提供的代码片段中没有包含任何标准库头文件，这可能导致编译错误。即用using namespace std;</p> 
</blockquote> 
<blockquote> 
 <p>正确写法：</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>                                 <span class="token comment">//（3）包含头文件的库</span>
<span class="token keyword">int</span>  <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">short</span> idx <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>idx <span class="token operator">&lt;</span><span class="token number">65535</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span>   <span class="token comment">//（1）条件需要增加</span>
    <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> idx <span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"Execution completed!"</span><span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>                                      <span class="token comment">//(2)返回值</span>
<span class="token punctuation">}</span> 
</code></pre> 
<p><code>2. 本段代码执行完毕后，输出什么结果？</code></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span> </span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span> <span class="token punctuation">(</span>push<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span></span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">TagEntityType</span>
<span class="token punctuation">{<!-- --></span>

<span class="token keyword">unsigned</span> <span class="token keyword">char</span> entityknd<span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">;</span>

<span class="token keyword">unsigned</span> <span class="token keyword">char</span> domain<span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">;</span>

<span class="token keyword">unsigned</span> <span class="token keyword">char</span> country<span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">;</span>

<span class="token keyword">unsigned</span> <span class="token keyword">int</span> category<span class="token punctuation">;</span>

<span class="token keyword">unsigned</span> <span class="token keyword">char</span> subCategory<span class="token punctuation">;</span>

<span class="token keyword">unsigned</span> <span class="token keyword">int</span> specific<span class="token punctuation">;</span>

<span class="token keyword">unsigned</span> <span class="token keyword">char</span> extra<span class="token punctuation">;</span>

<span class="token punctuation">}</span>TEntityType<span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression"><span class="token function">pack</span> <span class="token punctuation">(</span>pop<span class="token punctuation">)</span></span></span>

<span class="token keyword">int</span>  <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    TEntityType et<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>et<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>12<br> 字节对齐<br> 注意：位域必须存储在同种数据类型所占的字节中，不能跨两个同种数据类型所占的字节数。也就是说，后面的数字不能大于前面类型的位数。<br> 位域不会影响 sizeof() 的规则</p> 
</blockquote> 
<p><code>3. 本段代码可能导致什么问题？</code></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span> </span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>


<span class="token keyword">void</span> <span class="token function">profess</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dst<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">srand</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span><span class="token punctuation">)</span><span class="token function">time</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> idx <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>idx <span class="token operator">&lt;</span> <span class="token number">1000000000</span><span class="token punctuation">;</span>idx<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">unsigned</span> <span class="token keyword">int</span> leng <span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span><span class="token operator">*</span>srcData <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>leng<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span><span class="token operator">*</span>dstData <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>leng<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">profess</span><span class="token punctuation">(</span>dstData<span class="token punctuation">,</span>srcData<span class="token punctuation">,</span>leng<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">free</span> <span class="token punctuation">(</span>srcData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>dstData<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>解析：<br> 本段代码的问题在于内存泄漏。在每次循环迭代中，srcData 和 dstData 都被分配了内存，但在循环的下一次迭代开始之前，这些内存没有被释放。这会导致随着时间的推移，程序占用的内存不断增加，直到耗尽所有可用内存并崩溃。<br> 为了修复这个问题，您需要在每次循环迭代结束时释放 srcData 和 dstData 所指向的内存。以下是修改后的代码；成对出现；<br> 为什么</p> 
</blockquote> 
<p>正确写法：</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span> </span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">profess</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dst<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token function">srand</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span><span class="token punctuation">)</span><span class="token function">time</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> idx <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&lt;</span> <span class="token number">100000000</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">unsigned</span> <span class="token keyword">int</span> leng <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span><span class="token operator">*</span> srcData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>leng<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">char</span><span class="token operator">*</span> dstData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>leng <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token function">profess</span><span class="token punctuation">(</span>dstData<span class="token punctuation">,</span> srcData<span class="token punctuation">,</span> leng<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> srcData<span class="token punctuation">;</span> <span class="token comment">// 释放内存</span>
        <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dstData<span class="token punctuation">;</span> <span class="token comment">// 释放内存</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>4. 本段代码执行过程中可能导致什么问题？</code></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span> </span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">swapData</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> dst<span class="token punctuation">,</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> src<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token operator">*</span>dst <span class="token operator">=</span>  <span class="token operator">*</span>src<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">char</span><span class="token operator">*</span> srcData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token operator">*</span> dstData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">memset</span> <span class="token punctuation">(</span>srcData<span class="token punctuation">,</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">memset</span> <span class="token punctuation">(</span>dstData<span class="token punctuation">,</span><span class="token number">0xFF</span><span class="token punctuation">,</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">swapData</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>dstData<span class="token punctuation">,</span><span class="token operator">&amp;</span>srcData<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">free</span><span class="token punctuation">(</span>dstData<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">free</span><span class="token punctuation">(</span>srcData<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>解析<br> (1)本段代码的问题在于内存泄漏。在 main 函数中，srcData 和 dstData 是通过 new 运算符动态分配的，但在调用 swapData 函数后，这两个指针都指向了同一块内存地址，即 srcData 指向的内存。即开辟大小一致；可理解为realloc;<br> 随后，当尝试释放 dstData 指向的内存时，由于 dstData 和 srcData 指向的是同一块内存，所以会导致重复释放同一内存块，从而产生未定义行为。<br> 为了修复这个问题，您需要确保在释放内存之前，dstData 和 srcData 指向不同的内存块。<br> (2)new delete释放内存<br> （3）memset必须用cstring</p> 
</blockquote> 
<blockquote> 
 <p>正确写法：</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span> </span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">swapData</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> dst<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> src<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span><span class="token operator">*</span> temp <span class="token operator">=</span> <span class="token operator">*</span>dst<span class="token punctuation">;</span>
    <span class="token operator">*</span>dst <span class="token operator">=</span> <span class="token operator">*</span>src<span class="token punctuation">;</span>
    <span class="token operator">*</span>src <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span><span class="token operator">*</span> srcData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span><span class="token operator">*</span> dstData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>srcData<span class="token punctuation">,</span> <span class="token number">0x00</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">memset</span><span class="token punctuation">(</span>dstData<span class="token punctuation">,</span> <span class="token number">0xFF</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">swapData</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>dstData<span class="token punctuation">,</span> <span class="token operator">&amp;</span>srcData<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 现在 srcData 和 dstData 指向不同的内存块</span>
    <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dstData<span class="token punctuation">;</span> <span class="token comment">// 释放 dstData 指向的内存</span>
    <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> srcData<span class="token punctuation">;</span> <span class="token comment">// 释放 srcData 指向的内存</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/67c8126247153bc51e861395d7295dcc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【研发日记】Matlab/Simulink自动生成代码(二)——五种选择结构实现方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9fd964a14d153c896b7a2998fc4332ff/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【深度学习基础】NumPy数组库的使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
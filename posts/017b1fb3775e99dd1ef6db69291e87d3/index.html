<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据结构从入门到精通——归并排序 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/017b1fb3775e99dd1ef6db69291e87d3/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="数据结构从入门到精通——归并排序">
  <meta property="og:description" content="归并排序 前言一、归并排序的基本思想二、归并排序的特性总结三、归并排序的动画展示四、递归实现归并排序的具体代码展示五、非递归实现归并排序 前言 归并排序是一种分治策略的排序算法。它将一个序列分为两个等长（几乎等长）的子序列，分别对子序列进行排序，然后将排序结果合并起来，得到完全有序的序列。这个过程递归进行，直到整个序列有序。归并排序的时间复杂度为O(nlogn)，空间复杂度为O(n)。
一、归并排序的基本思想 归并排序（MERGE-SORT）是建立在归并操作上的一种有效的排序算法,该算法是采用分治法（Divide and Conquer）的一个非常典型的应用。将已有序的子序列合并，得到完全有序的序列；即先使每个子序列有序，再使子序列段间有序。若将两个有序表合并成一个有序表，称为二路归并。
归并排序的基本思想是将两个或两个以上的有序表合并成一个新的有序表。这个思想可以递归地应用于子序列的排序，最终使得整个序列有序。
具体来说，归并排序可以分为两个主要步骤：分解和合并。
分解步骤是将待排序的序列不断分解成两个子序列，直到子序列的长度为1。这个过程可以通过递归实现，每次递归都将当前序列的中间点作为分割点，将序列分成左右两个子序列。由于子序列的长度为1，因此它们本身就被视为有序序列。
合并步骤是将两个有序子序列合并成一个新的有序序列。这个过程可以通过迭代实现，每次迭代都取两个子序列中的第一个元素，比较它们的大小，将较小的元素添加到新序列中，并将其从原序列中移除。这个过程一直持续到其中一个子序列为空，然后将另一个子序列中剩余的元素全部添加到新序列中。
归并排序的时间复杂度为O(nlogn)，其中n是待排序序列的长度。这是因为分解步骤需要递归地将序列分解成子序列，这个过程的复杂度为O(logn)；而合并步骤需要将两个子序列合并成一个新序列，这个过程的复杂度为O(n)。由于这两个步骤都需要进行logn次，因此总的时间复杂度为O(nlogn)。
归并排序是一种稳定排序算法，即相等元素的相对顺序在排序前后保持不变。这是因为在合并步骤中，当两个子序列中出现相等元素时，我们总是先取左子序列中的元素，因此相等元素在左子序列中的相对顺序会被保留下来。
二、归并排序的特性总结 归并的缺点在于需要O(N)的空间复杂度，归并排序的思考更多的是解决在磁盘中的外排序问题。时间复杂度：O(N*logN)空间复杂度：O(N)稳定性：稳定 归并排序的特性总结起来主要有四点：稳定性、时间复杂度、空间复杂度和递归性。
首先是稳定性。归并排序是一种稳定的排序算法，即相同元素的相对顺序在排序过程中不会改变。这一特性使得归并排序在处理需要保持原始顺序的数据时非常有用，比如在数据库查询、文件处理等场景中，保持数据的原始顺序往往是非常重要的。
其次是时间复杂度。归并排序的时间复杂度为O(nlogn)，其中n是待排序数据的数量。这意味着无论数据是已经部分排序还是完全无序，归并排序都能保持较高的效率。这种优良的时间复杂度使得归并排序在处理大规模数据时具有显著优势。
再次是空间复杂度。归并排序的空间复杂度为O(n)，因为它需要额外的空间来合并两个已排序的子数组。这意味着在内存有限的情况下，使用归并排序可能需要额外的考虑。然而，在大多数情况下，这种空间消耗是可以接受的，因为归并排序的高效性和稳定性往往能够抵消其空间复杂度的不足。
最后是递归性。归并排序是一种典型的分治算法，它通过递归地将问题分解为更小的子问题来解决。这种递归性使得归并排序的实现相对简单明了，也易于理解和维护。然而，递归也可能导致栈空间的消耗，因此在处理大规模数据时需要注意递归深度的问题。
综上所述，归并排序作为一种高效稳定的排序算法，在实际应用中具有广泛的应用场景。其稳定的特性使得它能够保持数据的原始顺序不变；优良的时间复杂度使得它能够处理大规模数据；额外的空间消耗在大多数情况下是可以接受的；递归性则使得归并排序的实现简单明了。了解这些特性并合理利用它们，可以让我们在实际编程中更加高效地使用归并排序算法。
三、归并排序的动画展示 归并排序是一种分治策略的排序算法。动画展示中，初始时，列表被分为单个元素的子列表。然后，相邻的子列表通过归并操作合并为有序的较长子列表，这一过程递归进行，直至整个列表有序。动画生动展示了如何通过将小有序片段合并为更大有序片段来实现整个列表的排序。
归并排序
四、递归实现归并排序的具体代码展示 #include&lt;stdio.h&gt; #include&lt;stdlib.h&gt; #include &lt;string.h&gt; #include&lt;time.h&gt; void MergeSort(int* a, int n); void _MergeSort(int* a, int begin, int end, int* tmp); void PrintArray(int* a, int n); void TestMergeSort() { int a[] = { 5, 13, 9, 16, 12, 4, 7, 1, 28, 25, 3, 9, 6, 2, 4, 7, 1, 8 }; //int a[] = { 5, 3, 9, 6, 2, 4, 7, 1, 8 }; PrintArray(a, sizeof(a) / sizeof(int)); MergeSort(a, sizeof(a) / sizeof(int)); PrintArray(a, sizeof(a) / sizeof(int)); } void PrintArray(int* a, int n) { for (int i = 0; i &lt; n; i&#43;&#43;) { printf(&#34;">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-26T17:18:09+08:00">
    <meta property="article:modified_time" content="2024-03-26T17:18:09+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据结构从入门到精通——归并排序</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>归并排序 </h4> 
 <ul><li><a href="#_3" rel="nofollow">前言</a></li><li><a href="#_7" rel="nofollow">一、归并排序的基本思想</a></li><li><a href="#_27" rel="nofollow">二、归并排序的特性总结</a></li><li><a href="#_44" rel="nofollow">三、归并排序的动画展示</a></li><li><a href="#_49" rel="nofollow">四、递归实现归并排序的具体代码展示</a></li><li><a href="#_161" rel="nofollow">五、非递归实现归并排序</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_3"></a>前言</h2> 
<p>归并排序是一种分治策略的排序算法。它将一个序列分为两个等长（几乎等长）的子序列，分别对子序列进行排序，然后将排序结果合并起来，得到完全有序的序列。这个过程递归进行，直到整个序列有序。归并排序的时间复杂度为O(nlogn)，空间复杂度为O(n)。</p> 
<hr> 
<h2><a id="_7"></a>一、归并排序的基本思想</h2> 
<p>归并排序（MERGE-SORT）是建立在归并操作上的一种有效的排序算法,该算法是采用分治法（Divide and Conquer）的一个非常典型的应用。将已有序的子序列合并，得到完全有序的序列；即先使每个子序列有序，再使子序列段间有序。若将两个有序表合并成一个有序表，称为二路归并。</p> 
<p>归并排序的基本思想是将两个或两个以上的有序表合并成一个新的有序表。这个思想可以递归地应用于子序列的排序，最终使得整个序列有序。</p> 
<p>具体来说，归并排序可以分为两个主要步骤：分解和合并。</p> 
<p>分解步骤是将待排序的序列不断分解成两个子序列，直到子序列的长度为1。这个过程可以通过递归实现，每次递归都将当前序列的中间点作为分割点，将序列分成左右两个子序列。由于子序列的长度为1，因此它们本身就被视为有序序列。</p> 
<p>合并步骤是将两个有序子序列合并成一个新的有序序列。这个过程可以通过迭代实现，每次迭代都取两个子序列中的第一个元素，比较它们的大小，将较小的元素添加到新序列中，并将其从原序列中移除。这个过程一直持续到其中一个子序列为空，然后将另一个子序列中剩余的元素全部添加到新序列中。</p> 
<p>归并排序的时间复杂度为O(nlogn)，其中n是待排序序列的长度。这是因为分解步骤需要递归地将序列分解成子序列，这个过程的复杂度为O(logn)；而合并步骤需要将两个子序列合并成一个新序列，这个过程的复杂度为O(n)。由于这两个步骤都需要进行logn次，因此总的时间复杂度为O(nlogn)。</p> 
<p>归并排序是一种稳定排序算法，即相等元素的相对顺序在排序前后保持不变。这是因为在合并步骤中，当两个子序列中出现相等元素时，我们总是先取左子序列中的元素，因此相等元素在左子序列中的相对顺序会被保留下来。</p> 
<p><img src="https://images2.imgbox.com/a8/49/ktzpaE2z_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e6/bb/7ioA4OSN_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_27"></a>二、归并排序的特性总结</h2> 
<ol><li>归并的缺点在于需要O(N)的空间复杂度，归并排序的思考更多的是解决在磁盘中的外排序问题。</li><li>时间复杂度：O(N*logN)</li><li>空间复杂度：O(N)</li><li>稳定性：稳定</li></ol> 
<p>归并排序的特性总结起来主要有四点：稳定性、时间复杂度、空间复杂度和递归性。</p> 
<p>首先是稳定性。归并排序是一种稳定的排序算法，即相同元素的相对顺序在排序过程中不会改变。这一特性使得归并排序在处理需要保持原始顺序的数据时非常有用，比如在数据库查询、文件处理等场景中，保持数据的原始顺序往往是非常重要的。</p> 
<p>其次是时间复杂度。归并排序的时间复杂度为O(nlogn)，其中n是待排序数据的数量。这意味着无论数据是已经部分排序还是完全无序，归并排序都能保持较高的效率。这种优良的时间复杂度使得归并排序在处理大规模数据时具有显著优势。</p> 
<p>再次是空间复杂度。归并排序的空间复杂度为O(n)，因为它需要额外的空间来合并两个已排序的子数组。这意味着在内存有限的情况下，使用归并排序可能需要额外的考虑。然而，在大多数情况下，这种空间消耗是可以接受的，因为归并排序的高效性和稳定性往往能够抵消其空间复杂度的不足。</p> 
<p>最后是递归性。归并排序是一种典型的分治算法，它通过递归地将问题分解为更小的子问题来解决。这种递归性使得归并排序的实现相对简单明了，也易于理解和维护。然而，递归也可能导致栈空间的消耗，因此在处理大规模数据时需要注意递归深度的问题。</p> 
<p>综上所述，归并排序作为一种高效稳定的排序算法，在实际应用中具有广泛的应用场景。其稳定的特性使得它能够保持数据的原始顺序不变；优良的时间复杂度使得它能够处理大规模数据；额外的空间消耗在大多数情况下是可以接受的；递归性则使得归并排序的实现简单明了。了解这些特性并合理利用它们，可以让我们在实际编程中更加高效地使用归并排序算法。</p> 
<h2><a id="_44"></a>三、归并排序的动画展示</h2> 
<p>归并排序是一种分治策略的排序算法。动画展示中，初始时，列表被分为单个元素的子列表。然后，相邻的子列表通过归并操作合并为有序的较长子列表，这一过程递归进行，直至整个列表有序。动画生动展示了如何通过将小有序片段合并为更大有序片段来实现整个列表的排序。</p> 
<p></p> 
<div class="csdn-video-box"> 
 <iframe id="LEFOeFL4-1711440955102" frameborder="0" src="https://live.csdn.net/v/embed/373375" allowfullscreen="true" data-mediaembed="csdn"></iframe> 
 <p>归并排序</p> 
</div> 
<p></p> 
<h2><a id="_49"></a>四、递归实现归并排序的具体代码展示</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;time.h&gt;</span></span>

<span class="token keyword">void</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">_MergeSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">PrintArray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">TestMergeSort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token comment">//int a[] = { 5, 3, 9, 6, 2, 4, 7, 1, 8 };</span>
	<span class="token function">PrintArray</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">MergeSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">PrintArray</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token function">PrintArray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		perror<span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">_MergeSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">_MergeSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> tmp<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>begin <span class="token operator">==</span> end<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>end <span class="token operator">+</span> begin<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token function">_MergeSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> begin<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">_MergeSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">int</span> begin1 <span class="token operator">=</span> begin<span class="token punctuation">,</span> begin2 <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end1 <span class="token operator">=</span> mid<span class="token punctuation">,</span> end2 <span class="token operator">=</span> end<span class="token punctuation">;</span>
	<span class="token keyword">int</span> i <span class="token operator">=</span> begin<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin1 <span class="token operator">&lt;=</span> end1 <span class="token operator">&amp;&amp;</span> begin2 <span class="token operator">&lt;=</span> end2<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>begin1<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> a<span class="token punctuation">[</span>begin2<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			tmp<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>begin1<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span>
		<span class="token punctuation">{<!-- --></span>
			tmp<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>begin2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin1 <span class="token operator">&lt;=</span> end1<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		tmp<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>begin1<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>begin2 <span class="token operator">&lt;=</span> end2<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		tmp<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>begin2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">memcpy</span><span class="token punctuation">(</span>a <span class="token operator">+</span> begin<span class="token punctuation">,</span> tmp <span class="token operator">+</span> begin<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> begin <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">TestOP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">1000000</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">*</span> a1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		a1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	<span class="token keyword">int</span> begin1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">MergeSort</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"MergeSort:%d\n"</span><span class="token punctuation">,</span> end1 <span class="token operator">-</span> begin1<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">free</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">TestMergeSort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">TestOP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>该代码实现了归并排序算法。归并排序是一种分治算法，首先将原始数组递归地分成两个子数组，然后对子数组进行排序，最后将排序好的子数组合并成一个有序数组。</p> 
<p>代码中的<code>MergeSort</code>函数是对外接口，用于调用归并排序算法。首先申请了一个临时数组<code>tmp</code>，用于存放归并过程中的临时结果。然后调用<code>_MergeSort</code>函数进行实际的归并排序操作。</p> 
<p><code>_MergeSort</code>函数是核心函数，用于实现归并排序的递归过程。首先判断递归结束的条件，即如果<code>begin</code>和<code>end</code>相等，则只有一个元素，不需要排序。然后找到中间位置<code>mid</code>，将原数组分成两个子数组并分别递归调用<code>_MergeSort</code>函数进行排序。</p> 
<p>接下来是合并过程，使用四个指针<code>begin1</code>、<code>begin2</code>、<code>end1</code>和<code>end2</code>分别指向两个子数组的起始和结束位置。然后使用指针<code>i</code>遍历临时数组<code>tmp</code>。比较两个子数组的元素大小，将较小的元素放入<code>tmp</code>数组中，并将对应指针向后移动。直到有一个子数组遍历完毕，将另一个子数组中的剩余元素依次放入<code>tmp</code>数组。</p> 
<p>最后，使用<code>memcpy</code>函数将临时数组<code>tmp</code>中的元素拷贝回原数组<code>a</code>中，完成排序。</p> 
<h2><a id="_161"></a>五、非递归实现归并排序</h2> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;time.h&gt;</span></span>

<span class="token keyword">void</span> <span class="token function">MergeSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">_MergeSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> begin<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">MergeSortNonR</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">PrintArray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">TestMergeSortNonR</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token comment">//int a[] = { 5, 3, 9, 6, 2, 4, 7, 1, 8 };</span>
	<span class="token function">PrintArray</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">MergeSortNonR</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">PrintArray</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">PrintArray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">MergeSortNonR</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span><span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		perror<span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">int</span> gap <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>gap <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">=</span> i<span class="token operator">+</span> <span class="token number">2</span><span class="token operator">*</span> gap<span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">int</span> begin1 <span class="token operator">=</span> i<span class="token punctuation">,</span> end1 <span class="token operator">=</span> i <span class="token operator">+</span> gap <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> begin2 <span class="token operator">=</span> i <span class="token operator">+</span> gap <span class="token punctuation">,</span> end2 <span class="token operator">=</span> begin2 <span class="token operator">+</span> gap <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>end1 <span class="token operator">&gt;=</span> n <span class="token operator">||</span> begin2 <span class="token operator">&gt;=</span> n<span class="token punctuation">)</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span>end2 <span class="token operator">&gt;=</span> n<span class="token punctuation">)</span>
				end2 <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>begin1 <span class="token operator">&lt;=</span> end1 <span class="token operator">&amp;&amp;</span> begin2 <span class="token operator">&lt;=</span> end2<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>begin1<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> a<span class="token punctuation">[</span>begin2<span class="token punctuation">]</span><span class="token punctuation">)</span>
				<span class="token punctuation">{<!-- --></span>
					tmp<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>begin1<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">else</span>
				<span class="token punctuation">{<!-- --></span>
					tmp<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>begin2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>begin1 <span class="token operator">&lt;=</span> end1<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				tmp<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>begin1<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>begin2 <span class="token operator">&lt;=</span> end2<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				tmp<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>begin2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token function">memcpy</span><span class="token punctuation">(</span>a <span class="token operator">+</span> i<span class="token punctuation">,</span> tmp <span class="token operator">+</span> i<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>end2 <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		gap <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">TestOP1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">1000000</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">*</span> a1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		a1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	<span class="token keyword">int</span> begin1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">MergeSortNonR</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> end1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"MergeSortNonR:%d\n"</span><span class="token punctuation">,</span> end1 <span class="token operator">-</span> begin1<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">free</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">TestMergeSortNonR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">TestOP1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>这段代码是用来实现非递归的归并排序算法。归并排序是一种分治算法，通过将数组分成两个部分，分别对这两个部分进行排序，然后将排好序的两个部分合并起来。</p> 
<p>在代码中，首先创建一个临时数组<code>tmp</code>，用来在合并过程中暂存排序后的结果。然后定义一个变量<code>gap</code>作为当前的步长，初始时为1。通过一个循环，每次将<code>gap</code>乘以2，直到gap大于等于n。在循环中，通过两个内嵌的循环，将数组分成若干个子数组，并进行两两合并。</p> 
<p>内层循环中，先计算出两个待合并的子数组的起始和结束位置，然后对这两个子数组进行合并操作。合并过程中，比较两个子数组中的元素，将较小的元素放入临时数组<code>tmp</code>中，并移动对应子数组的指针。最后，将<code>tmp</code>中的结果拷贝回原始数组a中。</p> 
<p>整体的时间复杂度为O(nlogn)，空间复杂度为O(n)。由于该排序算法是稳定的，所以适用于各种类型的数据排序。</p> 
<hr>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/12bf30ec00332307042ec41021e10d9b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">uniapp 安卓，ios 相机权限，华为审核被拒解决方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3d0ed45344d9441ae0a901de144df4d0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android Studio下载与安装</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
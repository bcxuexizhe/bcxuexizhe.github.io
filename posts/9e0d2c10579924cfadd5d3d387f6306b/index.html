<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>精通SQL：数据库工程师必须掌握的UPDATE操作全解析 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/9e0d2c10579924cfadd5d3d387f6306b/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="精通SQL：数据库工程师必须掌握的UPDATE操作全解析">
  <meta property="og:description" content="目录 写在开头1.准备工作构建演示数据 2. UPDATE语句基础2.1 语法简介2.2 更新单条记录2.3 更新多条记录 3. 高级UPDATE操作3.1 条件更新示例：基于工作表现调整员工薪资 3.2 关联表更新示例：更新客户订单状态 3.3 使用子查询更新示例：根据平均销售额更新员工级别 3.4 事务管理3.5 使用CASE语句进行条件更新 4. UPDATE操作的常见陷阱与解决方案4.1 更新操作的潜在风险4.2 如何安全地使用UPDATE数据备份的重要性使用事务控制更新操作 4.3 性能优化建议4.4 锁定策略和并发控制4.5 数据一致性和完整性4.6 测试和审计 5. 实战案例5.1 案例研究：动态调整库存5.2 案例研究：员工晋升及薪酬调整5.3 案例研究：批量更新用户状态5.4 案例研究：同步更新多个表5.5 案例研究：动态调价策略5.6 案例研究：积分清零操作 6. 常见问题FAQ6.1 如何撤销错误的`UPDATE`操作？6.2 `UPDATE`操作是否可以更新多个表？6.3 `UPDATE`语句如何与`JOIN`一起使用？6.4 如何安全地执行大规模的`UPDATE`操作？6.5 如何更新时避免死锁？ 写在最后 写在开头 在数据库管理和操作中，UPDATE语句扮演着至关重要的角色。无论是对于数据的日常维护还是复杂的数据分析工作，精确和高效地使用UPDATE语句都是每位数据库工程师必备的技能。本文将深入探讨UPDATE语句的基础和高级用法，帮助你提升在实际工作中的应用能力。
1.准备工作 UPDATE语句用于修改数据库表中的数据，其灵活性和强大功能使其成为数据库操作中不可或缺的一部分。正确地使用UPDATE语句不仅可以提高工作效率，还可以避免数据操作中的常见错误。
构建演示数据 创建一个测试表和相应数据的步骤通常包括定义表结构、确定需要的字段（列）以及插入一些初始数据供测试使用。下面，我将提供一个SQL示例，用于创建一个简单的employees表，并插入一些示例数据。这个表包含员工ID、员工姓名、所属部门和薪水等基本信息。
SQL脚本：创建表及插入数据
CREATE TABLE employees ( employee_id INT PRIMARY KEY, name VARCHAR(100), department VARCHAR(50), salary DECIMAL(10, 2) ); INSERT INTO employees (employee_id, name, department, salary) VALUES (1, &#39;张三&#39;, &#39;技术部&#39;, 8000.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-10T09:27:47+08:00">
    <meta property="article:modified_time" content="2024-04-10T09:27:47+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">精通SQL：数据库工程师必须掌握的UPDATE操作全解析</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">写在开头</a></li><li><a href="#1_5" rel="nofollow">1.准备工作</a></li><li><ul><li><a href="#_9" rel="nofollow">构建演示数据</a></li></ul> 
  </li><li><a href="#2_UPDATE_41" rel="nofollow">2. UPDATE语句基础</a></li><li><ul><li><a href="#21__45" rel="nofollow">2.1 语法简介</a></li><li><a href="#22__59" rel="nofollow">2.2 更新单条记录</a></li><li><a href="#23__71" rel="nofollow">2.3 更新多条记录</a></li></ul> 
  </li><li><a href="#3_UPDATE_85" rel="nofollow">3. 高级UPDATE操作</a></li><li><ul><li><a href="#31__89" rel="nofollow">3.1 条件更新</a></li><li><ul><li><a href="#_93" rel="nofollow">示例：基于工作表现调整员工薪资</a></li></ul> 
   </li><li><a href="#32__105" rel="nofollow">3.2 关联表更新</a></li><li><ul><li><a href="#_109" rel="nofollow">示例：更新客户订单状态</a></li></ul> 
   </li><li><a href="#33__123" rel="nofollow">3.3 使用子查询更新</a></li><li><ul><li><a href="#_127" rel="nofollow">示例：根据平均销售额更新员工级别</a></li></ul> 
   </li><li><a href="#34__146" rel="nofollow">3.4 事务管理</a></li><li><a href="#35_CASE_164" rel="nofollow">3.5 使用CASE语句进行条件更新</a></li></ul> 
  </li><li><a href="#4_UPDATE_181" rel="nofollow">4. UPDATE操作的常见陷阱与解决方案</a></li><li><ul><li><a href="#41__185" rel="nofollow">4.1 更新操作的潜在风险</a></li><li><a href="#42_UPDATE_211" rel="nofollow">4.2 如何安全地使用UPDATE</a></li><li><ul><li><a href="#_213" rel="nofollow">数据备份的重要性</a></li><li><a href="#_219" rel="nofollow">使用事务控制更新操作</a></li></ul> 
   </li><li><a href="#43__237" rel="nofollow">4.3 性能优化建议</a></li><li><a href="#44__265" rel="nofollow">4.4 锁定策略和并发控制</a></li><li><a href="#45__281" rel="nofollow">4.5 数据一致性和完整性</a></li><li><a href="#46__290" rel="nofollow">4.6 测试和审计</a></li></ul> 
  </li><li><a href="#5__302" rel="nofollow">5. 实战案例</a></li><li><ul><li><a href="#51__306" rel="nofollow">5.1 案例研究：动态调整库存</a></li><li><a href="#52__332" rel="nofollow">5.2 案例研究：员工晋升及薪酬调整</a></li><li><a href="#53__355" rel="nofollow">5.3 案例研究：批量更新用户状态</a></li><li><a href="#54__376" rel="nofollow">5.4 案例研究：同步更新多个表</a></li><li><a href="#55__405" rel="nofollow">5.5 案例研究：动态调价策略</a></li><li><a href="#56__426" rel="nofollow">5.6 案例研究：积分清零操作</a></li></ul> 
  </li><li><a href="#6_FAQ_446" rel="nofollow">6. 常见问题FAQ</a></li><li><ul><li><a href="#61_UPDATE_450" rel="nofollow">6.1 如何撤销错误的`UPDATE`操作？</a></li><li><a href="#62_UPDATE_454" rel="nofollow">6.2 `UPDATE`操作是否可以更新多个表？</a></li><li><a href="#63_UPDATEJOIN_458" rel="nofollow">6.3 `UPDATE`语句如何与`JOIN`一起使用？</a></li><li><a href="#64_UPDATE_471" rel="nofollow">6.4 如何安全地执行大规模的`UPDATE`操作？</a></li><li><a href="#65__481" rel="nofollow">6.5 如何更新时避免死锁？</a></li></ul> 
  </li><li><a href="#_491" rel="nofollow">写在最后</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>写在开头</h2> 
<p>在数据库管理和操作中，<code>UPDATE</code>语句扮演着至关重要的角色。无论是对于数据的日常维护还是复杂的数据分析工作，精确和高效地使用<code>UPDATE</code>语句都是每位数据库工程师必备的技能。本文将深入探讨<code>UPDATE</code>语句的基础和高级用法，帮助你提升在实际工作中的应用能力。</p> 
<h2><a id="1_5"></a>1.准备工作</h2> 
<p><code>UPDATE</code>语句用于修改数据库表中的数据，其灵活性和强大功能使其成为数据库操作中不可或缺的一部分。正确地使用<code>UPDATE</code>语句不仅可以提高工作效率，还可以避免数据操作中的常见错误。</p> 
<h3><a id="_9"></a>构建演示数据</h3> 
<p>创建一个测试表和相应数据的步骤通常包括定义表结构、确定需要的字段（列）以及插入一些初始数据供测试使用。下面，我将提供一个SQL示例，用于创建一个简单的<code>employees</code>表，并插入一些示例数据。这个表包含员工ID、员工姓名、所属部门和薪水等基本信息。</p> 
<p><strong>SQL脚本：创建表及插入数据</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> employees <span class="token punctuation">(</span>
    employee_id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
    name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    department <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    salary <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> employees <span class="token punctuation">(</span>employee_id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> department<span class="token punctuation">,</span> salary<span class="token punctuation">)</span> <span class="token keyword">VALUES</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'技术部'</span><span class="token punctuation">,</span> <span class="token number">8000.00</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'销售部'</span><span class="token punctuation">,</span> <span class="token number">7500.00</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">,</span> <span class="token string">'人事部'</span><span class="token punctuation">,</span> <span class="token number">7000.00</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'赵六'</span><span class="token punctuation">,</span> <span class="token string">'技术部'</span><span class="token punctuation">,</span> <span class="token number">8500.00</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'孙七'</span><span class="token punctuation">,</span> <span class="token string">'销售部'</span><span class="token punctuation">,</span> <span class="token number">6500.00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>说明：</strong></p> 
<ul><li><strong>CREATE TABLE</strong> 语句用于创建一个新的表<code>employees</code>，其中包含<code>employee_id</code>（员工ID）、<code>name</code>（员工姓名）、<code>department</code>（所属部门）和<code>salary</code>（薪水）四个字段。 
  <ul><li><code>employee_id</code>设置为主键，意味着每个员工ID必须是唯一的。</li><li><code>VARCHAR</code>用于存储字符串类型的数据，括号中的数字表示字符的最大长度。</li><li><code>DECIMAL(10, 2)</code>表示这是一个十进制数，最多可以有10位数字，其中小数点后可以有2位。</li></ul> </li><li><strong>INSERT INTO</strong> 语句用于向<code>employees</code>表中插入初始数据。每个<code>VALUES</code>子句代表表中的一行数据。</li></ul> 
<p>你可以使用这个SQL脚本在自己的数据库中创建一个<code>employees</code>测试表，并插入一些示例数据。这将为后续的<code>UPDATE</code>操作提供一个实际的操作环境。如果你使用的是MySQL、PostgreSQL、SQL Server或其他关系型数据库管理系统，这个脚本应该都能够正常工作，可能只需针对特定数据库系统作少量语法调整。</p> 
<h2><a id="2_UPDATE_41"></a>2. UPDATE语句基础</h2> 
<p>在深入探索<code>UPDATE</code>语句之前，我们需要了解其基本语法和如何在实际操作中正确使用。<code>UPDATE</code>语句是数据库管理中最常用的SQL操作之一，它允许我们修改表中的数据，包括但不限于更改记录的值、更新状态或调整数值字段。正确使用<code>UPDATE</code>语句是每个数据库工程师必备的技能，以下是<code>UPDATE</code>基础操作的详细介绍：</p> 
<h3><a id="21__45"></a>2.1 语法简介</h3> 
<p><code>UPDATE</code>语句的基本语法结构如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> table_name
<span class="token keyword">SET</span> column1 <span class="token operator">=</span> value1<span class="token punctuation">,</span> column2 <span class="token operator">=</span> value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">WHERE</span> condition<span class="token punctuation">;</span>
</code></pre> 
<ul><li><strong>table_name</strong>：指定需要更新记录的表名。</li><li><strong>SET</strong>：后接需要更新的列名和它们应该被赋予的新值。</li><li><strong>WHERE</strong>：条件语句，指定哪些记录需要被更新。如果省略这一部分，表中的所有记录都会被更新，这通常不是我们希望看到的结果。</li></ul> 
<h3><a id="22__59"></a>2.2 更新单条记录</h3> 
<p>更新数据库中单条记录是最基本的操作之一。通过精确指定<code>WHERE</code>子句的条件，我们可以确保只有符合条件的记录被更新。例如，假设我们需要将员工ID为1的员工的薪水更新为5000：</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> <span class="token number">5000</span>
<span class="token keyword">WHERE</span> employee_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> 
<p>这条<code>UPDATE</code>语句将<code>employees</code>表中<code>employee_id</code>为1的记录的<code>salary</code>字段更新为5000。使用精确的<code>WHERE</code>条件是避免错误更新多条记录的关键。</p> 
<h3><a id="23__71"></a>2.3 更新多条记录</h3> 
<p><code>UPDATE</code>语句同样可以用于一次性更新多条记录，只需要在<code>WHERE</code>子句中指定合适的条件。例如，假设我们想要对所有在销售部门工作的员工的薪水进行10%的调整：</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> salary <span class="token operator">*</span> <span class="token number">1.1</span>
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'Sales'</span><span class="token punctuation">;</span>
</code></pre> 
<p>此语句中，<code>WHERE</code>子句确保只有销售部门的员工会受到薪水调整的影响，而<code>SET</code>子句中的<code>salary = salary * 1.1</code>则是执行薪水增加10%的操作。</p> 
<h2><a id="3_UPDATE_85"></a>3. 高级UPDATE操作</h2> 
<p>在掌握了<code>UPDATE</code>语句的基础用法后，接下来我们将深入探讨一些高级操作技巧，这些技巧对于处理复杂的数据更新场景尤为重要。理解并应用这些高级操作能够显著提升数据库工程师处理数据更新任务的能力和效率。</p> 
<h3><a id="31__89"></a>3.1 条件更新</h3> 
<p>在实际的数据库管理工作中，我们经常需要根据特定的条件来更新记录。通过在<code>UPDATE</code>语句中精确使用<code>WHERE</code>子句，可以确保只有满足条件的记录被更新。</p> 
<h4><a id="_93"></a>示例：基于工作表现调整员工薪资</h4> 
<p>假设我们需要根据员工的年度评价结果调整薪资，对于评价为"优秀"的员工，我们决定将其薪资提升10%：</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> salary <span class="token operator">*</span> <span class="token number">1.1</span>
<span class="token keyword">WHERE</span> performance_review <span class="token operator">=</span> <span class="token string">'优秀'</span><span class="token punctuation">;</span>
</code></pre> 
<p>这个例子展示了如何使用条件更新来调整特定群体的薪资，其中<code>performance_review</code>是员工表中记录年度评价结果的字段。</p> 
<h3><a id="32__105"></a>3.2 关联表更新</h3> 
<p>在复杂的数据库结构中，经常需要根据与目标表关联的其他表中的数据来更新记录。这可以通过在<code>UPDATE</code>语句中使用<code>JOIN</code>来实现。</p> 
<h4><a id="_109"></a>示例：更新客户订单状态</h4> 
<p>考虑一个场景，我们需要根据客户的支付状态来更新其订单的状态。假设我们有一个<code>orders</code>表和一个<code>payments</code>表，我们想要将所有已支付订单的状态更新为"已完成"：</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> orders
<span class="token keyword">SET</span> order_status <span class="token operator">=</span> <span class="token string">'已完成'</span>
<span class="token keyword">FROM</span> orders
<span class="token keyword">JOIN</span> payments <span class="token keyword">ON</span> orders<span class="token punctuation">.</span>order_id <span class="token operator">=</span> payments<span class="token punctuation">.</span>order_id
<span class="token keyword">WHERE</span> payments<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token operator">=</span> <span class="token string">'已支付'</span><span class="token punctuation">;</span>
</code></pre> 
<p>在这个例子中，<code>JOIN</code>语句用于连接<code>orders</code>和<code>payments</code>表，使得可以根据支付状态来更新订单状态。需要注意的是，不同的数据库系统可能对于<code>UPDATE ... JOIN ...</code>的语法支持不同，上述示例适用于MySQL，而在SQL Server中，可能需要使用不同的语法结构。</p> 
<h3><a id="33__123"></a>3.3 使用子查询更新</h3> 
<p>子查询可以在更新操作中使用，以便根据复杂的查询条件来更新记录。子查询特别适用于更新条件需要先执行另一个查询来确定的情况。</p> 
<h4><a id="_127"></a>示例：根据平均销售额更新员工级别</h4> 
<p>假设我们想要将所有销售额超过部门平均水平的销售人员级别提升为"高级"：</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> <span class="token keyword">level</span> <span class="token operator">=</span> <span class="token string">'高级'</span>
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'销售'</span>
<span class="token operator">AND</span> sales <span class="token operator">&gt;</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>sales<span class="token punctuation">)</span>
    <span class="token keyword">FROM</span> employees
    <span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'销售'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>在这个例子中，子查询计算了销售部门员工的平均销售额，外层的<code>UPDATE</code>语句则根据这个平均值来更新特定员工的级别。</p> 
<h3><a id="34__146"></a>3.4 事务管理</h3> 
<p>在执行复杂或多步骤的<code>UPDATE</code>操作时，事务管理变得至关重要。事务确保了操作的原子性，即所有操作要么完全成功，要么完全回滚，这对于保持数据的一致性和完整性非常重要。</p> 
<pre><code class="prism language-sql"><span class="token keyword">BEGIN</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>

<span class="token keyword">UPDATE</span> orders
<span class="token keyword">SET</span> order_status <span class="token operator">=</span> <span class="token string">'已发货'</span>
<span class="token keyword">WHERE</span> ship_date <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment">-- 假设此处有其他相关操作 --</span>

<span class="token keyword">COMMIT</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
</code></pre> 
<p>通过<code>BEGIN TRANSACTION</code>和<code>COMMIT TRANSACTION</code>（具体语法依数据库系统而定），我们可以确保在所有相关操作成功完成后才更新数据，否则可以使用<code>ROLLBACK</code>来撤销所有操作。</p> 
<h3><a id="35_CASE_164"></a>3.5 使用CASE语句进行条件更新</h3> 
<p><code>CASE</code>语句可以在<code>UPDATE</code>操作中使用，以便根据不同的条件执行不同的更新逻辑。这提供了一种灵活的方式来处理多条件下的数据更新需求。</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> <span class="token keyword">CASE</span>
    <span class="token keyword">WHEN</span> performance_review <span class="token operator">=</span> <span class="token string">'优秀'</span> <span class="token keyword">THEN</span> salary <span class="token operator">*</span> <span class="token number">1.1</span>
    <span class="token keyword">WHEN</span> performance_review <span class="token operator">=</span> <span class="token string">'良好'</span> <span class="token keyword">THEN</span> salary <span class="token operator">*</span> <span class="token number">1.05</span>
    <span class="token keyword">ELSE</span> salary
<span class="token keyword">END</span>
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'销售'</span><span class="token punctuation">;</span>
</code></pre> 
<p>在这个示例中，我们根据员工的绩效评价结果来调整薪水，展示了<code>CASE</code>语句在执行基于条件的复杂更新操作中的应用。</p> 
<h2><a id="4_UPDATE_181"></a>4. UPDATE操作的常见陷阱与解决方案</h2> 
<p>精通SQL对于数据库工程师而言是基本要求，特别是在进行数据更新操作时，<code>UPDATE</code>语句的正确使用至关重要。然而，在实际应用中，即便是经验丰富的工程师也可能遇到一些常见的陷阱。本节将详细探讨这些陷阱及其解决方案，帮助你避免在使用<code>UPDATE</code>时出现的常见错误。</p> 
<h3><a id="41__185"></a>4.1 更新操作的潜在风险</h3> 
<p><strong>误更新过多行数据</strong></p> 
<p>最常见的风险之一是误更新了过多的数据，特别是在忘记添加<code>WHERE</code>子句或条件过于宽泛时。</p> 
<p><strong>解决方案</strong>：在执行<code>UPDATE</code>操作前，先用相同的条件执行<code>SELECT</code>查询，预览将要更新的数据。此外，始终确保<code>WHERE</code>子句准确反映了更新的目标记录。</p> 
<p><strong>示例：</strong></p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employees
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'技术部'</span><span class="token punctuation">;</span>

<span class="token comment">-- 确认查询结果无误后</span>
<span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> salary <span class="token operator">*</span> <span class="token number">1.1</span>
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'技术部'</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>忘记加<code>WHERE</code>子句导致全表更新</strong></p> 
<p>在忘记添加<code>WHERE</code>子句时，<code>UPDATE</code>语句将会更新表中的所有记录，这可能导致数据严重错误。</p> 
<p><strong>解决方案</strong>：在执行任何<code>UPDATE</code>操作之前，确保已经添加了<code>WHERE</code>子句。对于重要的数据库，考虑在生产环境中实施更严格的权限控制，例如，限制能够执行不带<code>WHERE</code>子句的更新操作的账户。</p> 
<h3><a id="42_UPDATE_211"></a>4.2 如何安全地使用UPDATE</h3> 
<h4><a id="_213"></a>数据备份的重要性</h4> 
<p>在执行大规模更新操作前进行数据备份是一个好习惯，这样可以在操作出现意外时迅速恢复数据。</p> 
<p><strong>解决方案</strong>：定期备份数据库，并在执行重要的更新操作前额外备份相关数据。</p> 
<h4><a id="_219"></a>使用事务控制更新操作</h4> 
<p>使用数据库事务可以确保更新操作的原子性，使得一系列操作要么全部完成，要么全部不做，这对于保持数据的一致性至关重要。</p> 
<p><strong>解决方案</strong>：</p> 
<pre><code class="prism language-sql"><span class="token keyword">BEGIN</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>

<span class="token comment">-- 执行更新操作</span>
<span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> salary <span class="token operator">*</span> <span class="token number">1.1</span>
<span class="token keyword">WHERE</span> department <span class="token operator">=</span> <span class="token string">'技术部'</span><span class="token punctuation">;</span>

<span class="token comment">-- 确认无误后提交事务</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="43__237"></a>4.3 性能优化建议</h3> 
<p>在处理大量数据的更新操作时，性能可能成为一个问题。</p> 
<p><strong>解决方案</strong>：</p> 
<ul><li><strong>优化索引</strong>：确保更新操作的<code>WHERE</code>子句涉及的列已经建立索引，这样可以加速查询速度，减少更新操作的时间。</li><li><strong>分批更新</strong>：对于特别大的数据集，考虑将更新操作分批进行，以减少对数据库性能的影响。</li></ul> 
<p><strong>示例：分批更新数据</strong></p> 
<pre><code class="prism language-sql"><span class="token comment">-- 假设employee_id是递增的</span>
<span class="token keyword">DECLARE</span> <span class="token variable">@MaxID</span> <span class="token keyword">INT</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>employee_id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> employees<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">DECLARE</span> <span class="token variable">@CurrentID</span> <span class="token keyword">INT</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">WHILE</span> <span class="token variable">@CurrentID</span> <span class="token operator">&lt;</span> <span class="token variable">@MaxID</span>
<span class="token keyword">BEGIN</span>
    <span class="token keyword">UPDATE</span> employees
    <span class="token keyword">SET</span> salary <span class="token operator">=</span> salary <span class="token operator">*</span> <span class="token number">1.1</span>
    <span class="token keyword">WHERE</span> employee_id <span class="token operator">BETWEEN</span> <span class="token variable">@CurrentID</span> <span class="token operator">AND</span> <span class="token variable">@CurrentID</span> <span class="token operator">+</span> <span class="token number">1000</span><span class="token punctuation">;</span>

    <span class="token keyword">SET</span> <span class="token variable">@CurrentID</span> <span class="token operator">=</span> <span class="token variable">@CurrentID</span> <span class="token operator">+</span> <span class="token number">1001</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
</code></pre> 
<p>继续深入探讨<code>UPDATE</code>操作中的一些高级策略和细节管理，可以帮助数据库工程师进一步提升他们在数据更新任务中的专业水平。</p> 
<h3><a id="44__265"></a>4.4 锁定策略和并发控制</h3> 
<p>在多用户环境中，<code>UPDATE</code>操作可能会涉及锁定机制和并发控制，这对于保证数据库的完整性和性能至关重要。</p> 
<p><strong>解决方案</strong>：</p> 
<ul><li><strong>使用乐观锁</strong>：通过在<code>UPDATE</code>语句中加入版本号检查，可以实现乐观并发控制，避免更新过程中数据的不一致性。</li></ul> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> salary <span class="token operator">*</span> <span class="token number">1.05</span><span class="token punctuation">,</span> version <span class="token operator">=</span> version <span class="token operator">+</span> <span class="token number">1</span>
<span class="token keyword">WHERE</span> employee_id <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">AND</span> version <span class="token operator">=</span> <span class="token variable">@CurrentVersion</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li><strong>限制锁的范围</strong>：通过精确的<code>WHERE</code>子句和适当的索引策略，减少锁的范围，提高并发性能。</li></ul> 
<h3><a id="45__281"></a>4.5 数据一致性和完整性</h3> 
<p>保证数据更新操作不违反数据库的一致性和完整性约束是非常重要的。不当的<code>UPDATE</code>操作可能会导致数据违反业务规则或约束条件。</p> 
<p><strong>解决方案</strong>：</p> 
<ul><li><strong>完整性约束</strong>：在数据库设计时就通过外键约束、检查约束等机制，确保数据更新不会违反业务规则。</li><li><strong>使用触发器</strong>：在某些情况下，可以使用触发器来自动检查<code>UPDATE</code>操作，确保数据更新的合法性。</li></ul> 
<h3><a id="46__290"></a>4.6 测试和审计</h3> 
<p>在大型或关键的应用系统中，<code>UPDATE</code>操作的测试和审计也是不能忽视的环节。</p> 
<p><strong>解决方案</strong>：</p> 
<ul><li><strong>测试环境</strong>：在生产环境应用更新之前，应在测试环境中彻底测试<code>UPDATE</code>语句，确保它们按预期工作。</li><li><strong>审计日志</strong>：通过开启数据库的审计功能，记录所有的<code>UPDATE</code>操作，可以在数据出现问题时追踪原因，也有助于提高数据安全性。</li></ul> 
<h2><a id="5__302"></a>5. 实战案例</h2> 
<p>掌握了<code>UPDATE</code>语句的高级用法后，将这些知识应用到实际场景中是检验数据库工程师能力的重要环节。本节将通过具体的实战案例，展示如何在复杂的业务需求中灵活运用<code>UPDATE</code>操作，从而充分展现精通SQL的实践能力。</p> 
<h3><a id="51__306"></a>5.1 案例研究：动态调整库存</h3> 
<p>在电商平台的日常运营中，根据销售情况动态调整商品库存是一项常规任务。假设我们有一个<code>products</code>表，其中包含<code>product_id</code>（商品ID）、<code>sold_count</code>（销售数量）和<code>stock</code>（库存）等字段，现在需要根据销售数量自动调整库存。</p> 
<p><strong>场景描述</strong></p> 
<p>每当商品销售后，需要根据销售数量相应减少库存量。此外，如果某商品的销售数量达到一定阈值，还需要触发自动补货机制。</p> 
<p><strong>实现步骤</strong></p> 
<ol><li><strong>减少库存</strong>：首先，根据商品的销售数量更新库存。</li></ol> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> products
<span class="token keyword">SET</span> stock <span class="token operator">=</span> stock <span class="token operator">-</span> sold_count
<span class="token keyword">WHERE</span> product_id <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="2"><li><strong>自动补货</strong>：如果销售数量达到阈值，比如100件，则自动增加100件库存。</li></ol> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> products
<span class="token keyword">SET</span> stock <span class="token operator">=</span> stock <span class="token operator">+</span> <span class="token number">100</span>
<span class="token keyword">WHERE</span> product_id <span class="token operator">=</span> <span class="token number">101</span> <span class="token operator">AND</span> sold_count <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="52__332"></a>5.2 案例研究：员工晋升及薪酬调整</h3> 
<p>另一个常见的场景是根据员工的绩效评价结果进行晋升和薪酬调整。假设我们有一个<code>employees</code>表，其中包含<code>employee_id</code>（员工ID）、<code>performance_score</code>（绩效得分）和<code>salary</code>（薪资）等字段。</p> 
<p><strong>场景描述</strong></p> 
<p>年终绩效评价结束后，需要根据员工的绩效得分进行晋升决策和薪酬调整：得分在90以上的员工薪资增加10%，80到89之间的增加5%，其余不变。</p> 
<p><strong>实现步骤</strong></p> 
<p>使用<code>CASE</code>语句在一个<code>UPDATE</code>操作中处理多种情况，根据绩效得分调整薪资。</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> employees
<span class="token keyword">SET</span> salary <span class="token operator">=</span> <span class="token keyword">CASE</span>
    <span class="token keyword">WHEN</span> performance_score <span class="token operator">&gt;=</span> <span class="token number">90</span> <span class="token keyword">THEN</span> salary <span class="token operator">*</span> <span class="token number">1.10</span>
    <span class="token keyword">WHEN</span> performance_score <span class="token operator">BETWEEN</span> <span class="token number">80</span> <span class="token operator">AND</span> <span class="token number">89</span> <span class="token keyword">THEN</span> salary <span class="token operator">*</span> <span class="token number">1.05</span>
    <span class="token keyword">ELSE</span> salary
<span class="token keyword">END</span><span class="token punctuation">;</span>
</code></pre> 
<p>继续深化对<code>UPDATE</code>操作实战应用的理解，我们可以探讨更多具有挑战性的场景，这些场景不仅测试数据库工程师运用SQL的能力，也考验其解决复杂问题的创新思维。</p> 
<h3><a id="53__355"></a>5.3 案例研究：批量更新用户状态</h3> 
<p>假设在一个社交网络平台，需要根据用户的活跃度来更新他们的状态标签。<code>users</code>表中包含<code>user_id</code>（用户ID）、<code>last_login_date</code>（最后登录日期）和<code>status</code>（状态）等字段。</p> 
<p><strong>场景描述</strong></p> 
<p>平台希望将30天未登录的用户标记为“不活跃”，而那些超过60天未登录的用户则标记为“休眠”。此操作需要定期执行，以确保用户状态的准确性。</p> 
<p><strong>实现步骤</strong></p> 
<p>利用<code>CASE</code>语句和日期函数，可以在一个<code>UPDATE</code>操作中完成对所有用户状态的批量更新。</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> users
<span class="token keyword">SET</span> <span class="token keyword">status</span> <span class="token operator">=</span> <span class="token keyword">CASE</span>
    <span class="token keyword">WHEN</span> DATEDIFF<span class="token punctuation">(</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">,</span> last_login_date<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">60</span> <span class="token keyword">THEN</span> <span class="token string">'休眠'</span>
    <span class="token keyword">WHEN</span> DATEDIFF<span class="token punctuation">(</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">,</span> last_login_date<span class="token punctuation">)</span> <span class="token operator">BETWEEN</span> <span class="token number">30</span> <span class="token operator">AND</span> <span class="token number">60</span> <span class="token keyword">THEN</span> <span class="token string">'不活跃'</span>
    <span class="token keyword">ELSE</span> <span class="token keyword">status</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="54__376"></a>5.4 案例研究：同步更新多个表</h3> 
<p>在某些业务场景中，可能需要根据一表中的数据变动来更新另一表中的数据。例如，一个电子商务平台的<code>orders</code>表和<code>order_details</code>表需要保持数据的一致性。</p> 
<p><strong>场景描述</strong></p> 
<p>当订单状态更新为“已发货”时，相应的订单详情中的每个商品的发货状态也需要更新。</p> 
<p><strong>实现步骤</strong></p> 
<p>这种情况下，可以先更新<code>orders</code>表，然后基于<code>orders</code>表中的更新，同步更新<code>order_details</code>表中的记录。</p> 
<pre><code class="prism language-sql"><span class="token comment">-- 更新订单状态</span>
<span class="token keyword">UPDATE</span> orders
<span class="token keyword">SET</span> order_status <span class="token operator">=</span> <span class="token string">'已发货'</span>
<span class="token keyword">WHERE</span> order_id <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>

<span class="token comment">-- 基于订单状态更新，同步更新订单详情中的发货状态</span>
<span class="token keyword">UPDATE</span> order_details
<span class="token keyword">SET</span> shipping_status <span class="token operator">=</span> <span class="token string">'已发货'</span>
<span class="token keyword">WHERE</span> order_id <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
</code></pre> 
<p>这种操作虽然涉及多个表，但通过精确控制条件和逻辑顺序，可以有效保证数据的一致性和准确性。</p> 
<p>在探索<code>UPDATE</code>操作的实战应用深度和广度时，数据库工程师会发现，面对不同业务逻辑和数据结构的挑战，灵活运用<code>UPDATE</code>语句的能力至关重要。以下是更多实战案例的深入探讨，旨在进一步提升你处理复杂数据更新任务的技能。</p> 
<h3><a id="55__405"></a>5.5 案例研究：动态调价策略</h3> 
<p>电子商务平台上，根据市场需求和库存情况对商品价格进行动态调整是一项常规需求。考虑到<code>products</code>表中包含<code>product_id</code>（商品ID）、<code>price</code>（价格）和<code>stock</code>（库存）等字段。</p> 
<p><strong>场景描述</strong></p> 
<p>为了促销，平台决定对所有库存量超过1000件的商品价格下调10%，而对库存紧张（低于100件）的商品价格上调5%。</p> 
<p><strong>实现步骤</strong></p> 
<p>利用<code>CASE</code>语句可以一次性处理这两种情况，根据库存量动态调整商品价格。</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> products
<span class="token keyword">SET</span> price <span class="token operator">=</span> <span class="token keyword">CASE</span>
    <span class="token keyword">WHEN</span> stock <span class="token operator">&gt;</span> <span class="token number">1000</span> <span class="token keyword">THEN</span> price <span class="token operator">*</span> <span class="token number">0.9</span>
    <span class="token keyword">WHEN</span> stock <span class="token operator">&lt;</span> <span class="token number">100</span> <span class="token keyword">THEN</span> price <span class="token operator">*</span> <span class="token number">1.05</span>
    <span class="token keyword">ELSE</span> price
<span class="token keyword">END</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="56__426"></a>5.6 案例研究：积分清零操作</h3> 
<p>假设在一款应用中，用户积分在每年年末清零重置。<code>users</code>表中包含<code>user_id</code>（用户ID）和<code>points</code>（积分）等字段。</p> 
<p><strong>场景描述</strong></p> 
<p>为了准备新的一年积分活动，需要将所有用户的积分清零。</p> 
<p><strong>实现步骤</strong></p> 
<p>这种情况下的数据更新操作相对简单，但也需要谨慎处理，以避免意外的数据丢失。</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> users
<span class="token keyword">SET</span> points <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre> 
<p>在执行此类操作前，建议先备份相关数据，或者设置事务，确保操作可逆。</p> 
<h2><a id="6_FAQ_446"></a>6. 常见问题FAQ</h2> 
<p>在数据库日常维护和开发过程中，关于<code>UPDATE</code>语句的使用，经常会有一些常见问题和疑惑。这里整理了一些针对<code>UPDATE</code>操作的常见问题FAQ，旨在帮助数据库工程师更好地理解和精通SQL中的<code>UPDATE</code>语句。</p> 
<h3><a id="61_UPDATE_450"></a>6.1 如何撤销错误的<code>UPDATE</code>操作？</h3> 
<p><strong>答</strong>：撤销错误的<code>UPDATE</code>操作通常依赖于数据库事务的支持。如果在执行<code>UPDATE</code>之前开启了事务，可以通过执行<code>ROLLBACK</code>命令来撤销操作。如果没有使用事务或已经提交了事务（<code>COMMIT</code>），则需要通过恢复备份数据来撤销更改。因此，执行重要的更新操作前，使用事务并确保有数据备份是非常重要的。</p> 
<h3><a id="62_UPDATE_454"></a>6.2 <code>UPDATE</code>操作是否可以更新多个表？</h3> 
<p><strong>答</strong>：直接通过一个<code>UPDATE</code>语句更新多个表在大多数SQL数据库中并不支持。但是，可以通过使用子查询或连接（在一些数据库如MySQL中）来间接影响多个表，或者分别对每个表执行<code>UPDATE</code>语句。需要注意的是，操作多个表时，确保数据的一致性和完整性是非常重要的，使用事务可以帮助实现这一点。</p> 
<h3><a id="63_UPDATEJOIN_458"></a>6.3 <code>UPDATE</code>语句如何与<code>JOIN</code>一起使用？</h3> 
<p><strong>答</strong>：在一些数据库系统中（如MySQL），可以在<code>UPDATE</code>语句中使用<code>JOIN</code>来更新与其他表中数据相关联的记录。这使得基于复杂关系和条件的数据更新成为可能。语法通常如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> table1
<span class="token keyword">JOIN</span> table2 <span class="token keyword">ON</span> table1<span class="token punctuation">.</span>id <span class="token operator">=</span> table2<span class="token punctuation">.</span>foreignKey
<span class="token keyword">SET</span> table1<span class="token punctuation">.</span><span class="token keyword">column</span> <span class="token operator">=</span> new_value
<span class="token keyword">WHERE</span> some_condition<span class="token punctuation">;</span>
</code></pre> 
<p>这种方式非常适用于需要根据关联表中的数据来更新目标表记录的场景。</p> 
<h3><a id="64_UPDATE_471"></a>6.4 如何安全地执行大规模的<code>UPDATE</code>操作？</h3> 
<p><strong>答</strong>：执行大规模的<code>UPDATE</code>操作时，考虑到性能和数据安全性，推荐的做法包括：</p> 
<ul><li>使用事务来确保操作的原子性。</li><li>先在测试环境模拟执行，确保逻辑正确无误。</li><li>分批执行更新，减少对系统性能的影响及潜在的锁竞争。</li><li>执行前备份相关数据，以便在发生错误时可以恢复。</li><li>监控更新操作的性能，及时调整执行计划以避免系统过载。</li></ul> 
<h3><a id="65__481"></a>6.5 如何更新时避免死锁？</h3> 
<p><strong>答</strong>：避免死锁的关键是确保多个事务按照一致的顺序访问资源。在设计<code>UPDATE</code>语句时，可以采取以下措施：</p> 
<ul><li>尽可能减少事务的持续时间，快速提交或回滚。</li><li>在执行更新前对所需的资源进行排序，以确保所有事务按照相同的顺序访问这些资源。</li><li>使用数据库提供的锁定机制或隔离级别来减少锁竞争。</li><li>在检测到死锁时，通过设置合理的超时机制让数据库自动回滚其中一个事务。</li></ul> 
<h2><a id="_491"></a>写在最后</h2> 
<p>在本文中，我们深入探讨了数据库工程师必须掌握的<code>UPDATE</code>操作，从基础语法到高级应用，再到实战案例和常见问题的解答。通过这些内容的讲解和分析，目的是帮助读者更加全面和深入地理解<code>UPDATE</code>语句的强大功能及其在数据库管理和维护中的关键作用。</p> 
<p><code>UPDATE</code>语句作为SQL语言中最基础也是最重要的操作之一，其灵活性和强大的数据处理能力使得它在实际开发和数据库维护中扮演着不可或缺的角色。无论是进行简单的数据修改，还是处理复杂的业务逻辑，<code>UPDATE</code>都能提供有效的解决方案。</p> 
<p>通过本文的学习，我们不仅要掌握<code>UPDATE</code>语句的正确使用方法，更重要的是要了解在使用过程中可能遇到的风险和挑战，并学会如何采取合适的策略来优化性能、保证数据的安全性和一致性。实战案例的讨论，进一步展示了<code>UPDATE</code>操作在解决实际问题中的应用，提供了宝贵的经验和技巧。</p> 
<p>总而言之，精通SQL中的<code>UPDATE</code>操作，对于每一位数据库工程师来说都是一项基本也是必要的技能。它不仅关系到数据操作的效率和准确性，更直接影响到数据库系统的性能和稳定性。希望每位读者通过本文的学习，能够在日后的工作中更加自信地运用<code>UPDATE</code>语句，有效地支持各种数据更新任务，为自己的职业生涯添砖加瓦。</p> 
<p>随着技术的不断进步和业务需求的日趋复杂，数据库工程师面临的挑战也会越来越多。但只要不断学习、实践和创新，我们就能够不断提升自己的专业技能，应对各种挑战，成为真正精通SQL的数据库工程师。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5e998a80c2addc4caba20e59ad0432bb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java的警示之有危险的行为</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2a1ba8a8a8718fddd05fb268e86d515d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【小程序】常用方法、知识点汇总1</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
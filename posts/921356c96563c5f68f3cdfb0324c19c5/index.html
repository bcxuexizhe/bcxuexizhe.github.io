<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何在Linux上安装Stable Diffusion WebUI - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/921356c96563c5f68f3cdfb0324c19c5/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="如何在Linux上安装Stable Diffusion WebUI">
  <meta property="og:description" content="Stable Diffusion WebUI是一个基于AUTOMATIC1111的stable-diffusion-webui仓库的项目，允许用户通过web界面轻松地生成AI驱动的图像。本文将指导您在Linux系统上完成Stable Diffusion WebUI的安装过程。
准备工作 在安装Stable Diffusion WebUI之前，请确保您的Linux系统满足以下要求：
操作系统：基于Debian的Linux发行版，如Ubuntu或Debian。Python版本：Python 3.6或更高版本。足够的磁盘空间：至少1GB的空间用于安装和运行。内存要求：至少2GB可用内存。 安装步骤 1. 安装必要的软件和库 打开终端，并安装必要的依赖：
sudo apt update sudo apt install wget git python3 python3-venv libgl1 libglib2.0-0 2. 克隆Stable Diffusion WebUI仓库 使用 Git 克隆 AUTOMATIC1111 的 stable-diffusion-webui 仓库：
git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git cd stable-diffusion-webui 3. 设置Python虚拟环境 创建并激活一个 Python 虚拟环境：
python3 -m venv venv source venv/bin/activate 4. 安装Python依赖 在虚拟环境中安装所需的Python依赖：
pip install -r requirements.txt 5. 运行Web UI 一旦所有依赖项安装完毕，您可以启动 Web UI：
python launch.py 6.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-01-18T09:58:18+08:00">
    <meta property="article:modified_time" content="2024-01-18T09:58:18+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何在Linux上安装Stable Diffusion WebUI</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:justify;"><span style="color:#0d0016;">Stable Diffusion WebUI是一个基于AUTOMATIC1111的stable-diffusion-webui仓库的项目，允许用户通过web界面轻松地生成AI驱动的图像。本文将指导您在Linux系统上完成Stable Diffusion WebUI的安装过程。</span></p> 
<h4 style="text-align:justify;"><span style="color:#0d0016;">准备工作</span></h4> 
<p style="text-align:justify;"><span style="color:#0d0016;">在安装Stable Diffusion WebUI之前，请确保您的Linux系统满足以下要求：</span></p> 
<ul><li style="text-align:justify;"><span style="color:#0d0016;">操作系统：基于Debian的Linux发行版，如Ubuntu或Debian。</span></li><li style="text-align:justify;"><span style="color:#0d0016;">Python版本：Python 3.6或更高版本。</span></li><li style="text-align:justify;"><span style="color:#0d0016;">足够的磁盘空间：至少1GB的空间用于安装和运行。</span></li><li style="text-align:justify;"><span style="color:#0d0016;">内存要求：至少2GB可用内存。</span></li></ul> 
<h4 style="text-align:justify;"><span style="color:#0d0016;">安装步骤</span></h4> 
<h5 style="text-align:justify;"><span style="color:#0d0016;">1. 安装必要的软件和库</span></h5> 
<p style="text-align:justify;"><span style="color:#0d0016;">打开终端，并安装必要的依赖：</span></p> 
<pre><code class="language-bash">sudo apt update
sudo apt install wget git python3 python3-venv libgl1 libglib2.0-0</code></pre> 
<h5 style="text-align:justify;"><span style="color:#0d0016;">2. 克隆Stable Diffusion WebUI仓库</span></h5> 
<p style="text-align:justify;"><span style="color:#0d0016;">使用 Git 克隆 AUTOMATIC1111 的 stable-diffusion-webui 仓库：</span></p> 
<pre><code class="language-bash">git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git
cd stable-diffusion-webui</code></pre> 
<h5 style="text-align:justify;"><span style="color:#0d0016;">3. 设置Python虚拟环境</span></h5> 
<p style="text-align:justify;"><span style="color:#0d0016;">创建并激活一个 Python 虚拟环境：</span></p> 
<pre><code class="language-bash">python3 -m venv venv
source venv/bin/activate</code></pre> 
<h5 style="text-align:justify;"><span style="color:#0d0016;">4. 安装Python依赖</span></h5> 
<p style="text-align:justify;"><span style="color:#0d0016;">在虚拟环境中安装所需的Python依赖：</span></p> 
<pre><code class="language-bash">pip install -r requirements.txt</code></pre> 
<h5 style="text-align:justify;"><span style="color:#0d0016;">5. 运行Web UI</span></h5> 
<p style="text-align:justify;"><span style="color:#0d0016;">一旦所有依赖项安装完毕，您可以启动 Web UI：</span></p> 
<pre><code class="language-bash">python launch.py</code></pre> 
<h5 style="text-align:justify;"><span style="color:#0d0016;">6. 访问Web UI</span></h5> 
<p style="text-align:justify;"><span style="color:#0d0016;">打开Web浏览器，输入`http://&lt;您的服务器IP或主机名&gt;:7860`来访问Web UI。</span></p> 
<h5 style="text-align:justify;"><span style="color:#0d0016;">7. 进程管理</span></h5> 
<p style="text-align:justify;"><span style="color:#0d0016;">将Python脚本转换为systemd服务，便于自动重启、日志记录等。在/etc/systemd/system文件夹下创建一个stable-diffusion-webui.service。</span></p> 
<blockquote> 
 <p><span style="color:#0d0016;">[Unit]<br> Description=Stable Diffusion WebUI Service<br> After=network.target</span></p> 
 <p><span style="color:#0d0016;">[Service]<br> User=ubuntu<br> WorkingDirectory=/var/www/stable-diffusion-webui<br> ExecStart=/usr/bin/python3 /var/www/stable-diffusion-webui/launch.py --skip-torch-cuda-test --no-half --precision full --use-cpu all --listen<br> Restart=on-failure</span></p> 
 <p><span style="color:#0d0016;">[Install]<br> WantedBy=multi-user.target</span></p> 
</blockquote> 
<p><span style="color:#0d0016;">这个命令看起来是用于启动某个应用程序或脚本的命令行参数，其中包括了一些选项。让我为您解释每个选项的含义：</span></p> 
<ol><li><span style="color:#0d0016;">`--skip-torch-cuda-test`: 这个选项告诉应用程序跳过对Torch（PyTorch）的CUDA（GPU计算）测试，因为我没有GPU。通常，在启动应用程序时，会执行一些系统和硬件检查，以确定是否可以使用CUDA加速。使用此选项将跳过这些检查，可能会导致应用程序在没有GPU支持的情况下运行。</span></li><li><span style="color:#0d0016;">`--no-half`: 这个选项可能表示不使用半精度浮点数（half precision）。在深度学习中，有时会使用半精度浮点数来加速计算，但使用此选项可能表示不使用半精度。</span></li><li><span style="color:#0d0016;">`--precision full`: 这个选项可能表示使用完整精度（full precision），与上一个选项相反。完整精度意味着使用标准的单精度或双精度浮点数。</span></li><li><span style="color:#0d0016;">`--use-cpu all`: 这个选项指示应用程序使用所有可用的CPU核心进行计算，而不使用GPU。这可以用于在没有GPU的系统上运行应用程序。</span></li><li><span style="color:#0d0016;">`--listen`: 这个选项可能用于指定应用程序要监听的网络端口或地址。例如，`--listen 7860` 可能表示应用程序将在端口7860上监听网络连接。</span></li></ol> 
<p><span style="color:#0d0016;">然后，你可以使用以下命令启用并启动服务：</span></p> 
<pre><code class="language-bash">sudo systemctl daemon-reload
sudo systemctl enable stable-diffusion-webui
sudo systemctl start stable-diffusion-webui</code></pre> 
<p style="text-align:justify;"><span style="color:#0d0016;">可以通过此命令查看日志：</span></p> 
<pre><code class="language-bash">sudo journalctl -u stable-diffusion-webui.service -n 100 # 查看最近100条日志</code></pre> 
<h4 style="text-align:justify;"><span style="color:#0d0016;">常见问题解决</span></h4> 
<ul><li style="text-align:justify;"><span style="color:#0d0016;">安装过程卡住：确保您的服务器具有稳定的网络连接，并检查系统资源是否足够。</span></li><li style="text-align:justify;"><span style="color:#0d0016;">内存不足：如果遇到内存不足的问题，请尝试关闭不必要的应用或增加交换空间。</span></li><li style="text-align:justify;"><span style="color:#0d0016;">网络问题：如果下载速度慢或连接不稳定，请检查网络设置。</span></li></ul> 
<p style="text-align:justify;"><span style="color:#0d0016;">在 Linux 中，您可以使用以下命令创建一个新的交换文件，以此增加交换空间：</span></p> 
<pre><code class="language-bash">sudo fallocate -l 8G /swapfile  # 创建一个8GB的交换文件
sudo chmod 600 /swapfile        # 设置适当的文件权限，确保只有root用户可以读写这个文件
sudo mkswap /swapfile           # 将文件设置为交换空间
sudo swapon /swapfile           # 启用交换空间</code></pre> 
<p><span style="color:#0d0016;">如果您想关闭这个交换空间，可以执行以下步骤：</span></p> 
<h5><span style="color:#0d0016;">1. 关闭交换空间：</span></h5> 
<pre><code class="language-bash">sudo swapoff /swapfile</code></pre> 
<h5><span style="color:#0d0016;">2. （可选）删除交换文件：</span></h5> 
<p><span style="color:#0d0016;">如果您确定不再需要这个交换文件，可以使用以下命令删除它：</span></p> 
<pre><code class="language-bash">sudo rm /swapfile</code></pre> 
<p><span style="color:#0d0016;">请注意，在关闭或删除交换空间之前，确保系统有足够的物理内存来处理当前的任务，以防止系统变慢或程序崩溃。关闭交换空间可能会对系统性能产生影响，特别是在内存需求高的情况下。</span></p> 
<p style="text-align:justify;"><span style="color:#0d0016;"><strong>结论</strong></span></p> 
<p style="text-align:justify;"><span style="color:#0d0016;">Stable Diffusion WebUI提供了一个便捷的方式来生成和探索AI图像。遵循上述步骤，您可以轻松在Linux系统上安装Stable Diffusion WebUI，并开始您的AI图像生成之旅！</span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d6a60d3baa69ce240cd4c4171bdc6109/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java 读取word内容</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2ca0214a1a6888edd47b1c0400629bea/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AIGC内容分享(六十三)：AIGC在文旅行业的应用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
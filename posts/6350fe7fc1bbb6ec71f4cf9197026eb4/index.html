<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python 开心消消乐 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/6350fe7fc1bbb6ec71f4cf9197026eb4/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="Python 开心消消乐">
  <meta property="og:description" content="💝💝💝欢迎莅临我的博客，很高兴能够在这里和您见面！希望您在这里可以感受到一份轻松愉快的氛围，不仅可以获得有趣的内容和知识，也可以畅所欲言、分享您的想法和见解。
推荐:「stormsha的主页」👈，持续学习，不断总结，共同进步，为了踏实，做好当下事儿~
专栏导航
Python系列: Python面试题合集，剑指大厂Git系列: Git操作技巧GO系列: 记录博主学习GO语言的笔记，该笔记专栏尽量写的试用所有入门GO语言的初学者数据库系列: 详细总结了常用数据库 mysql 技术点,以及工作中遇到的 mysql 问题等运维系列: 总结好用的命令，高效开发算法与数据结构系列: 总结数据结构和算法,不同类型针对性训练,提升编程思维 非常期待和您一起在这个小小的网络世界里共同探索、学习和成长。💝💝💝 ✨✨ 欢迎订阅本专栏 ✨✨
💖The Start💖点点关注，收藏不迷路💖 📒文章目录 效果图项目结构程序代码 完整代码：https://gitcode.com/stormsha1/games/overview
效果图 项目结构 程序代码 run.py
import sys import pygame from pygame.locals import KEYDOWN, QUIT, K_q, K_ESCAPE, MOUSEBUTTONDOWN from dissipate.level import Manager from dissipate.level_tree import LevelTreeManager from dissipate.sounds import Sounds class Game: &#34;&#34;&#34; 游戏主类，负责初始化和主循环 &#34;&#34;&#34; def __init__(self): &#34;&#34;&#34; 初始化游戏 &#34;&#34;&#34; pygame.init() pygame.mixer.init() pygame.display.set_caption(&#39;开心消消乐&#39;) # 设置游戏窗口标题 pygame.mouse.set_visible(False) # 隐藏鼠标指针 # 初始化游戏管理器和声音 self.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-28T20:12:43+08:00">
    <meta property="article:modified_time" content="2024-05-28T20:12:43+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python 开心消消乐</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <hr> 
<p><img src="https://images2.imgbox.com/b1/c8/LT8nMCEU_o.png" alt="在这里插入图片描述"><br> 💝💝💝欢迎莅临我的博客，很高兴能够在这里和您见面！希望您在这里可以感受到一份轻松愉快的氛围，不仅可以获得有趣的内容和知识，也可以畅所欲言、分享您的想法和见解。<br> <img src="https://images2.imgbox.com/bc/ad/mDlhlWRu_o.gif" alt="在这里插入图片描述"></p> 
<ul><li> <p>推荐:<a href="https://blog.csdn.net/sxc1414749109">「stormsha的主页」</a>👈，持续学习，不断总结，共同进步，为了踏实，做好当下事儿~</p> </li><li> <p>专栏导航</p> 
  <ul><li><a href="https://blog.csdn.net/sxc1414749109/category_12642412.html">Python系列</a>: Python面试题合集，剑指大厂</li><li><a href="https://blog.csdn.net/sxc1414749109/category_12656887.html">Git系列</a>: Git操作技巧</li><li><a href="https://blog.csdn.net/sxc1414749109/category_12629910.html">GO系列</a>: 记录博主学习GO语言的笔记，该笔记专栏尽量写的试用所有入门GO语言的初学者</li><li><a href="https://blog.csdn.net/sxc1414749109/category_9272128.html">数据库系列</a>: 详细总结了常用数据库 mysql 技术点,以及工作中遇到的 mysql 问题等</li><li><a href="https://blog.csdn.net/sxc1414749109/category_12628643.html">运维系列</a>: 总结好用的命令，高效开发</li><li><a href="https://blog.csdn.net/sxc1414749109/category_7069636.html">算法与数据结构系列</a>: 总结数据结构和算法,不同类型针对性训练,提升编程思维</li></ul> <p>非常期待和您一起在这个小小的网络世界里共同探索、学习和成长。💝💝💝 ✨✨ 欢迎订阅本专栏 ✨✨</p> 
  <div class="table-box"> 
   <table width="100%"><tbody><tr><td width="50%"> 
       <div align="center"> 
        <font color="#E73B3E"><em>💖The Start💖点点关注，收藏不迷路💖<em></em></em></font> 
       </div> </td></tr></tbody></table> 
  </div> <p></p> 
  <div class="toc"> 
   <h4>📒文章目录</h4> 
   <ul><li><a href="#_25" rel="nofollow">效果图</a></li><li><a href="#_27" rel="nofollow">项目结构</a></li><li><a href="#_30" rel="nofollow">程序代码</a></li></ul> 
  </div><p></p> </li></ul> 
<hr> 
<p>完整代码：<a href="https://gitcode.com/stormsha1/games/overview">https://gitcode.com/stormsha1/games/overview</a></p> 
<h2><a id="_25"></a>效果图</h2> 
<p><img src="https://images2.imgbox.com/f2/23/TZLrmbT0_o.gif" alt="消消乐"></p> 
<h2><a id="_27"></a>项目结构</h2> 
<p><img src="https://images2.imgbox.com/ca/d8/mbHg5z2I_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_30"></a>程序代码</h2> 
<p><code>run.py</code></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys  
<span class="token keyword">import</span> pygame  
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span><span class="token builtin">locals</span> <span class="token keyword">import</span> KEYDOWN<span class="token punctuation">,</span> QUIT<span class="token punctuation">,</span> K_q<span class="token punctuation">,</span> K_ESCAPE<span class="token punctuation">,</span> MOUSEBUTTONDOWN  
<span class="token keyword">from</span> dissipate<span class="token punctuation">.</span>level <span class="token keyword">import</span> Manager  
<span class="token keyword">from</span> dissipate<span class="token punctuation">.</span>level_tree <span class="token keyword">import</span> LevelTreeManager  
<span class="token keyword">from</span> dissipate<span class="token punctuation">.</span>sounds <span class="token keyword">import</span> Sounds  
  
  
<span class="token keyword">class</span> <span class="token class-name">Game</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">"""  
    游戏主类，负责初始化和主循环  
    """</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        初始化游戏  
        """</span>        pygame<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>init<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token string">'开心消消乐'</span><span class="token punctuation">)</span>  <span class="token comment"># 设置游戏窗口标题  </span>
        pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span>set_visible<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>  <span class="token comment"># 隐藏鼠标指针  </span>
  
        <span class="token comment"># 初始化游戏管理器和声音  </span>
        self<span class="token punctuation">.</span>tree <span class="token operator">=</span> LevelTreeManager<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 树管理器，用于主菜单  </span>
        self<span class="token punctuation">.</span>manager <span class="token operator">=</span> Manager<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># 游戏管理器，用于处理游戏逻辑  </span>
        self<span class="token punctuation">.</span>world_bgm <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>Sound<span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>WORLD_BGM<span class="token punctuation">.</span>value<span class="token punctuation">)</span>  <span class="token comment"># 世界背景音乐  </span>
        self<span class="token punctuation">.</span>game_bgm <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mixer<span class="token punctuation">.</span>Sound<span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>GAME_BGM<span class="token punctuation">.</span>value<span class="token punctuation">)</span>  <span class="token comment"># 游戏背景音乐  </span>
  
        <span class="token comment"># 提高游戏性能的优化  </span>
        self<span class="token punctuation">.</span>get_events <span class="token operator">=</span> pygame<span class="token punctuation">.</span>event<span class="token punctuation">.</span>get  <span class="token comment"># 获取事件的方法  </span>
        self<span class="token punctuation">.</span>update_window <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip  <span class="token comment"># 刷新窗口的方法  </span>
  
        self<span class="token punctuation">.</span>sound_sign <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 用于控制背景音乐切换的标志  </span>
  
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""主游戏循环"""</span>  
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>handle_music<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 处理背景音乐  </span>
            self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 绘制游戏界面  </span>
            self<span class="token punctuation">.</span>handle_events<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 处理用户输入事件  </span>
            self<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新显示  </span>
  
    <span class="token keyword">def</span> <span class="token function">handle_music</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""根据游戏级别管理背景音乐"""</span>  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>sound_sign <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>game_bgm<span class="token punctuation">.</span>stop<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 停止游戏背景音乐  </span>
                self<span class="token punctuation">.</span>world_bgm<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 循环播放世界背景音乐  </span>
                self<span class="token punctuation">.</span>sound_sign <span class="token operator">=</span> <span class="token number">1</span>  
        <span class="token keyword">else</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>sound_sign <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>world_bgm<span class="token punctuation">.</span>stop<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 停止世界背景音乐  </span>
                self<span class="token punctuation">.</span>game_bgm<span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 循环播放游戏背景音乐  </span>
                self<span class="token punctuation">.</span>sound_sign <span class="token operator">=</span> <span class="token number">0</span>  
  
    <span class="token keyword">def</span> <span class="token function">draw</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""根据级别绘制相应的游戏界面"""</span>  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>tree<span class="token punctuation">.</span>draw_tree<span class="token punctuation">(</span>self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>energy_num<span class="token punctuation">,</span> self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>money<span class="token punctuation">)</span>  <span class="token comment"># 绘制主菜单界面  </span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>set_level_mode<span class="token punctuation">(</span>self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>level<span class="token punctuation">)</span>  <span class="token comment"># 设置当前关卡模式  </span>
            sprite_group <span class="token operator">=</span> self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 绘制游戏关卡界面  </span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>eliminate_animals<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 消除动物  </span>
                self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>death_map<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新死亡地图  </span>
                self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>swap<span class="token punctuation">(</span>sprite_group<span class="token punctuation">)</span>  <span class="token comment"># 处理交换逻辑  </span>
            self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>judge_level<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 判断关卡状态  </span>
  
    <span class="token keyword">def</span> <span class="token function">handle_events</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""处理用户输入事件"""</span>  
        <span class="token keyword">for</span> event <span class="token keyword">in</span> self<span class="token punctuation">.</span>get_events<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> KEYDOWN<span class="token punctuation">:</span>  
                <span class="token keyword">if</span> event<span class="token punctuation">.</span>key <span class="token keyword">in</span> <span class="token punctuation">(</span>K_q<span class="token punctuation">,</span> K_ESCAPE<span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 按下 Q 或 ESC 键退出游戏  </span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> QUIT<span class="token punctuation">:</span>  
                sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 点击关闭按钮退出游戏  </span>
            <span class="token keyword">elif</span> event<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> MOUSEBUTTONDOWN<span class="token punctuation">:</span>  
                mouse_x<span class="token punctuation">,</span> mouse_y <span class="token operator">=</span> event<span class="token punctuation">.</span>pos  <span class="token comment"># 获取鼠标点击位置  </span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>tree<span class="token punctuation">.</span>mouse_select<span class="token punctuation">(</span>  
                        self<span class="token punctuation">.</span>manager<span class="token punctuation">,</span> mouse_x<span class="token punctuation">,</span>  
                        mouse_y<span class="token punctuation">,</span>  
                        self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>level<span class="token punctuation">,</span>  
                        self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>energy_num<span class="token punctuation">,</span>  
                        self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>money  
                    <span class="token punctuation">)</span>  <span class="token comment"># 处理主菜单鼠标选择  </span>
                self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>mouse_select<span class="token punctuation">(</span>mouse_x<span class="token punctuation">,</span> mouse_y<span class="token punctuation">)</span>  <span class="token comment"># 处理游戏内鼠标选择  </span>
  
    <span class="token keyword">def</span> <span class="token function">update</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        更新鼠标图像并刷新显示  
        :return:  
        """</span>        self<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>mouse_image<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新鼠标图像  </span>
        self<span class="token punctuation">.</span>update_window<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 刷新显示  </span>
  
  
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>  
    game <span class="token operator">=</span> Game<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 创建游戏实例  </span>
    game<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 启动游戏</span>
</code></pre> 
<p><code>level.py</code></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os  
<span class="token keyword">from</span> random <span class="token keyword">import</span> randint  
<span class="token keyword">import</span> pygame  
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span><span class="token builtin">locals</span> <span class="token keyword">import</span> <span class="token operator">*</span>  
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span>time <span class="token keyword">import</span> delay  
<span class="token keyword">from</span> dissipate<span class="token punctuation">.</span>img <span class="token keyword">import</span> img_basic  
<span class="token keyword">from</span> dissipate<span class="token punctuation">.</span>sounds <span class="token keyword">import</span> Sounds<span class="token punctuation">,</span> play_sound  
<span class="token keyword">from</span> dissipate<span class="token punctuation">.</span>sprites <span class="token keyword">import</span> Board<span class="token punctuation">,</span> Element  
  
  
<span class="token keyword">class</span> <span class="token class-name">Manager</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">"""Game manager."""</span>  
    <span class="token comment"># 游戏屏幕的大小设置为900x600像素  </span>
    __screen_size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span>  
    <span class="token comment"># 使用pygame库设置屏幕模式，DOUBLEBUF是双缓冲，32是位深度  </span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>__screen_size<span class="token punctuation">,</span> DOUBLEBUF<span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span>  
    <span class="token comment"># 砖块的大小设置为50x50像素  </span>
    __brick_size <span class="token operator">=</span> <span class="token number">50</span>  
    <span class="token comment"># 加载背景图片并转换为优化格式  </span>
    __bg <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'bg.png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>convert<span class="token punctuation">(</span><span class="token punctuation">)</span>  
    <span class="token comment"># 停止宽度，可能用于游戏结束或暂停的界面  </span>
    stop_width <span class="token operator">=</span> <span class="token number">63</span>  
    <span class="token comment"># 当前选中的砖块位置，格式为[row, col]  </span>
    selected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>  
    <span class="token comment"># 交换标志，可能用于交换砖块或游戏逻辑  </span>
    swap_sign <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
    <span class="token comment"># 上一次选中的砖块位置，格式为[row, col]  </span>
    last_sel <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>  
    <span class="token comment"># 是否交换的标志，用于判断是否发生了交换  </span>
    value_swapped <span class="token operator">=</span> <span class="token boolean">False</span>  
    <span class="token comment"># 死亡地图的标志，可能用于显示或隐藏死亡相关的游戏元素  </span>
    death_sign <span class="token operator">=</span> <span class="token boolean">True</span>  
    <span class="token comment"># 消除4个砖块时选中的位置，格式为[row, col]  </span>
    boom_sel <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>  
    <span class="token comment"># 当前关卡，0表示树（可能是特殊关卡或菜单）  </span>
    level <span class="token operator">=</span> <span class="token number">0</span>  
    <span class="token comment"># 玩家的金钱数量  </span>
    money <span class="token operator">=</span> <span class="token number">100</span>  
    <span class="token comment"># 能量点数  </span>
    energy_num <span class="token operator">=</span> <span class="token number">30</span>  
    <span class="token comment"># 数字标志，可能用于显示或隐藏数字相关的游戏元素  </span>
    num_sign <span class="token operator">=</span> <span class="token boolean">True</span>  
    <span class="token comment"># 游戏类型，0为进行中，1为通过，-1为失败，2为树  </span>
    <span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">2</span>  
    <span class="token comment"># 是否重置布局的标志  </span>
    reset_mode <span class="token operator">=</span> <span class="token boolean">True</span>  
    <span class="token comment"># 每个关卡的初始步数  </span>
    init_step <span class="token operator">=</span> <span class="token number">15</span>  
    <span class="token comment"># 当前游戏剩余的步数  </span>
    step <span class="token operator">=</span> init_step  
    <span class="token comment"># 玩家的得分  </span>
    score <span class="token operator">=</span> <span class="token number">0</span>  
    <span class="token comment"># 中等得分的两个阈值  </span>
    <span class="token builtin">min</span> <span class="token operator">=</span> <span class="token number">20</span>  
    <span class="token builtin">max</span> <span class="token operator">=</span> <span class="token number">50</span>  
    <span class="token comment"># 已消除动物的数量列表，长度为6，可能代表6种不同的动物  </span>
    animal_num <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>  
    <span class="token comment"># 剩余需要消除的冰块数量  </span>
    ice_num <span class="token operator">=</span> <span class="token number">0</span>  
    <span class="token comment"># 成功板，继承自Board类，位置在[200, 0]  </span>
    success_board <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>success<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
    <span class="token comment"># 失败板，继承自Board类，位置在[200, 0]  </span>
    fail_board <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>fail<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
    <span class="token comment"># 游戏网格的高度和宽度，都是9  </span>
    height<span class="token punctuation">,</span> width <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span>  
    <span class="token comment"># 选中的行和列，初始值为5  </span>
    row<span class="token punctuation">,</span> col <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span>  
    <span class="token comment"># 冰块列表，21x21的二维列表，-1表示无冰块，1表示有冰块  </span>
    ice_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
    <span class="token comment"># 动物列表，21x21的二维列表，-2表示已消除，-1表示无动物，0-4表示不同的动物  </span>
    animal <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
    <span class="token comment"># 砖块的x和y位置列表，用于确定砖块在屏幕上的位置  </span>
    list_x<span class="token punctuation">,</span> list_y <span class="token operator">=</span> <span class="token punctuation">(</span>__screen_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">11</span> <span class="token operator">*</span> __brick_size<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>__screen_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">11</span> <span class="token operator">*</span> __brick_size<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>  
  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        self<span class="token punctuation">.</span>height <span class="token operator">=</span> height  
        self<span class="token punctuation">.</span>width <span class="token operator">=</span> width  
        self<span class="token punctuation">.</span>list_x <span class="token operator">=</span> <span class="token punctuation">(</span>Manager<span class="token punctuation">.</span>__screen_size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>width <span class="token operator">*</span> Manager<span class="token punctuation">.</span>__brick_size<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>  
        self<span class="token punctuation">.</span>list_y <span class="token operator">=</span> <span class="token punctuation">(</span>Manager<span class="token punctuation">.</span>__screen_size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>height <span class="token operator">*</span> Manager<span class="token punctuation">.</span>__brick_size<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>  
        self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col <span class="token operator">=</span> Manager<span class="token punctuation">.</span>xy_rc<span class="token punctuation">(</span>self<span class="token punctuation">.</span>list_x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>list_y<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>list_x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>list_y <span class="token operator">=</span> Manager<span class="token punctuation">.</span>rc_xy<span class="token punctuation">(</span>self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>ice_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
        self<span class="token punctuation">.</span>animal <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  
        self<span class="token punctuation">.</span>reset_animals<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">reset_animals</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        用于将游戏板上的动物随机重置为0到5之间的数字，  
        其中0可能表示没有动物，1到5表示不同类型的动物。  
        """</span>        <span class="token comment"># 遍历由self.row和self.col确定的起始行和列，直到高度和宽度决定的结束行和列  </span>
        <span class="token keyword">for</span> row <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>row <span class="token operator">+</span> self<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            <span class="token comment"># 对于每一行row，遍历由self.col和self.col + self.width确定的起始列和结束列  </span>
            <span class="token keyword">for</span> col <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>col<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col <span class="token operator">+</span> self<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>  
                <span class="token comment"># 为当前位置(row, col)随机分配一个动物编号，编号范围从0到5  </span>
                <span class="token comment"># randint是random模块中的一个函数，用于生成一个指定范围内的随机整数  </span>
                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  
  
    <span class="token decorator annotation punctuation">@staticmethod</span>  
    <span class="token keyword">def</span> <span class="token function">rc_xy</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""(row, col) -&gt; (x, y)"""</span>  
        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>Manager<span class="token punctuation">.</span>list_x <span class="token operator">+</span> <span class="token punctuation">(</span>col <span class="token operator">-</span> Manager<span class="token punctuation">.</span>col<span class="token punctuation">)</span> <span class="token operator">*</span> Manager<span class="token punctuation">.</span>__brick_size<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span> \  
            <span class="token punctuation">(</span>Manager<span class="token punctuation">.</span>list_y <span class="token operator">+</span> <span class="token punctuation">(</span>row <span class="token operator">-</span> Manager<span class="token punctuation">.</span>row<span class="token punctuation">)</span> <span class="token operator">*</span> Manager<span class="token punctuation">.</span>__brick_size<span class="token punctuation">)</span>  
  
    <span class="token decorator annotation punctuation">@staticmethod</span>  
    <span class="token keyword">def</span> <span class="token function">xy_rc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""(x, y) -&gt; (row, col)"""</span>  
        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>y <span class="token operator">-</span> Manager<span class="token punctuation">.</span>list_y<span class="token punctuation">)</span> <span class="token operator">/</span> Manager<span class="token punctuation">.</span>__brick_size <span class="token operator">+</span> Manager<span class="token punctuation">.</span>row<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span> \  
            <span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">-</span> Manager<span class="token punctuation">.</span>list_x<span class="token punctuation">)</span> <span class="token operator">/</span> Manager<span class="token punctuation">.</span>__brick_size <span class="token operator">+</span> Manager<span class="token punctuation">.</span>col<span class="token punctuation">)</span>  
  
    <span class="token decorator annotation punctuation">@staticmethod</span>  
    <span class="token keyword">def</span> <span class="token function">draw_brick</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""Draw a brick at (x, y)."""</span>  
        brick <span class="token operator">=</span> Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>brick<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>  
        Manager<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>brick<span class="token punctuation">.</span>image<span class="token punctuation">,</span> brick<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">draw_task</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> task_animal_num<span class="token punctuation">,</span> which_animal<span class="token punctuation">,</span> board_position<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> animal_position<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">430</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
                  txt_position<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">455</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        绘制任务板  
        """</span>        txt_size <span class="token operator">=</span> <span class="token number">24</span>  
        txt_color <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>  
        Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>task_board<span class="token punctuation">,</span> board_position<span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
        <span class="token keyword">if</span> which_animal <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">:</span>  
            task_animal <span class="token operator">=</span> Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>ice<span class="token punctuation">,</span> animal_position<span class="token punctuation">)</span>  
        <span class="token keyword">else</span><span class="token punctuation">:</span>  
            task_animal <span class="token operator">=</span> Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>animals<span class="token punctuation">[</span>which_animal<span class="token punctuation">]</span><span class="token punctuation">,</span> animal_position<span class="token punctuation">)</span>  
        task_animal<span class="token punctuation">.</span>image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>transform<span class="token punctuation">.</span>smoothscale<span class="token punctuation">(</span>task_animal<span class="token punctuation">.</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        task_animal<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
        <span class="token keyword">if</span> which_animal <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> task_animal_num <span class="token operator">-</span> self<span class="token punctuation">.</span>ice_num <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>ok<span class="token punctuation">,</span> <span class="token punctuation">(</span>txt_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> txt_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
            <span class="token keyword">else</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>load_text<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>task_animal_num <span class="token operator">-</span> self<span class="token punctuation">.</span>ice_num<span class="token punctuation">)</span><span class="token punctuation">,</span> txt_position<span class="token punctuation">,</span> txt_size<span class="token punctuation">,</span> txt_color<span class="token punctuation">)</span>  
        <span class="token keyword">else</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> task_animal_num <span class="token operator">-</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>which_animal<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>ok<span class="token punctuation">,</span> <span class="token punctuation">(</span>txt_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> txt_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
            <span class="token keyword">else</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>load_text<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>task_animal_num <span class="token operator">-</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>which_animal<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> txt_position<span class="token punctuation">,</span> txt_size<span class="token punctuation">,</span> txt_color<span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">draw</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""绘制背景、动物等元素。"""</span>  
        <span class="token comment"># 绘制背景  </span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>Manager<span class="token punctuation">.</span>__bg<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        <span class="token comment"># 显示剩余步数  </span>
        Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>step_board<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">142</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
        tens<span class="token punctuation">,</span> single <span class="token operator">=</span> <span class="token builtin">divmod</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>step<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  
        <span class="token keyword">if</span> tens <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  
            Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>num_format <span class="token operator">%</span> single<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">790</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
        <span class="token keyword">else</span><span class="token punctuation">:</span>  
            Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>num_format <span class="token operator">%</span> tens<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">775</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
            Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>num_format <span class="token operator">%</span> single<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">805</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
        <span class="token comment"># 显示关卡和暂停按钮  </span>
        Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>level_format <span class="token operator">%</span> self<span class="token punctuation">.</span>level<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
        Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>stop<span class="token punctuation">,</span> Element<span class="token punctuation">.</span>stop_position<span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
  
        <span class="token comment"># 绘制砖块、冰块和动物  </span>
        brick_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        animal_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        ice_group <span class="token operator">=</span> pygame<span class="token punctuation">.</span>sprite<span class="token punctuation">.</span>Group<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                x<span class="token punctuation">,</span> y <span class="token operator">=</span> Manager<span class="token punctuation">.</span>rc_xy<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>  
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>  
                    brick_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>brick<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
                    animal_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>animals<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>ice_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>  
                    ice_group<span class="token punctuation">.</span>add<span class="token punctuation">(</span>Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>ice<span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        brick_group<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
        ice_group<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
        <span class="token keyword">for</span> animal_list <span class="token keyword">in</span> animal_group<span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>animal_list<span class="token punctuation">.</span>image<span class="token punctuation">,</span> animal_list<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">330</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">530</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">560</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">330</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">530</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">560</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">330</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">530</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">560</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">7</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">330</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">530</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">560</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">8</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">9</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">49</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>  
        <span class="token keyword">else</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw_task<span class="token punctuation">(</span><span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>  
  
        <span class="token comment"># 显示选择的动物  </span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>selected <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  
            frame_sprite <span class="token operator">=</span> Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>frame<span class="token punctuation">,</span> Manager<span class="token punctuation">.</span>rc_xy<span class="token punctuation">(</span>self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>frame_sprite<span class="token punctuation">.</span>image<span class="token punctuation">,</span> frame_sprite<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
  
        <span class="token comment"># 显示得分  </span>
        self<span class="token punctuation">.</span>load_text<span class="token punctuation">(</span><span class="token string">'得分:'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">550</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>  
        pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span>rect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Rect<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">570</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>score <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span>rect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Rect<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">570</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  
        <span class="token keyword">return</span> animal_group  
  
    <span class="token keyword">def</span> <span class="token function">mouse_image</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token comment"># 加载鼠标图片  </span>
        mouse_cursor <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'mouse.png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>convert_alpha<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        mouse_x<span class="token punctuation">,</span> mouse_y <span class="token operator">=</span> pygame<span class="token punctuation">.</span>mouse<span class="token punctuation">.</span>get_pos<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token comment"># 计算鼠标左上角位置  </span>
        mouse_x <span class="token operator">-=</span> mouse_cursor<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>  
        mouse_y <span class="token operator">-=</span> mouse_cursor<span class="token punctuation">.</span>get_height<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>  
        <span class="token comment"># 绘制鼠标图片  </span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>mouse_cursor<span class="token punctuation">,</span> <span class="token punctuation">(</span>mouse_x<span class="token punctuation">,</span> mouse_y<span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">mouse_select</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> mousex<span class="token punctuation">,</span> mousey<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment"># 已通关  </span>
            <span class="token keyword">if</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> mousex <span class="token operator">&lt;</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">100</span> \  
                    <span class="token keyword">and</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">50</span> <span class="token operator">&lt;</span> mousey <span class="token operator">&lt;</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>  
                <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token comment"># 点击重玩按钮  </span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>energy_num <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>level <span class="token operator">=</span> <span class="token number">0</span>  
                self<span class="token punctuation">.</span>reset_mode <span class="token operator">=</span> <span class="token boolean">True</span>  
            <span class="token keyword">elif</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> mousex <span class="token operator">&lt;</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">100</span> \  
                    <span class="token keyword">and</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">50</span> <span class="token operator">&lt;</span> mousey <span class="token operator">&lt;</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>  
                <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token comment"># 点击下一关按钮  </span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>level <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">:</span>  
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>energy_num <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>level <span class="token operator">=</span> <span class="token number">0</span>  
                    <span class="token keyword">else</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>level <span class="token operator">+=</span> <span class="token number">1</span>  
                    self<span class="token punctuation">.</span>reset_mode <span class="token operator">=</span> <span class="token boolean">True</span>  
            <span class="token keyword">elif</span> <span class="token number">610</span> <span class="token operator">&lt;</span> mousex <span class="token operator">&lt;</span> <span class="token number">610</span> <span class="token operator">+</span> <span class="token number">55</span> <span class="token keyword">and</span> <span class="token number">205</span> <span class="token operator">-</span> <span class="token number">55</span> <span class="token operator">&lt;</span> mousey <span class="token operator">&lt;</span> <span class="token number">205</span><span class="token punctuation">:</span>  <span class="token comment"># x  </span>
                self<span class="token punctuation">.</span>level <span class="token operator">=</span> <span class="token number">0</span>  
                self<span class="token punctuation">.</span>reset_mode <span class="token operator">=</span> <span class="token boolean">True</span>  
  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment"># 未通过  </span>
            <span class="token keyword">if</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> mousex <span class="token operator">&lt;</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">100</span> \  
                    <span class="token keyword">and</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">50</span> <span class="token operator">&lt;</span> mousey <span class="token operator">&lt;</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token comment"># 点击重玩按钮  </span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>energy_num <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>level <span class="token operator">=</span> <span class="token number">0</span>  
                self<span class="token punctuation">.</span>reset_mode <span class="token operator">=</span> <span class="token boolean">True</span>  
            <span class="token keyword">elif</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> mousex <span class="token operator">&lt;</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">100</span> \  
                    <span class="token keyword">and</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">50</span> <span class="token operator">&lt;</span> mousey <span class="token operator">&lt;</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>  
                <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token comment"># 点击再来5步按钮  </span>
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>money <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>level <span class="token operator">=</span> <span class="token number">0</span>  
                <span class="token keyword">else</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>money <span class="token operator">-=</span> <span class="token number">5</span>  
                    self<span class="token punctuation">.</span>step <span class="token operator">+=</span> <span class="token number">5</span>  
                    self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 正在游戏  </span>
                    self<span class="token punctuation">.</span>fail_board <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>fail<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
            <span class="token keyword">elif</span> <span class="token number">610</span> <span class="token operator">&lt;</span> mousex <span class="token operator">&lt;</span> <span class="token number">610</span> <span class="token operator">+</span> <span class="token number">55</span> <span class="token keyword">and</span> <span class="token number">205</span> <span class="token operator">-</span> <span class="token number">55</span> <span class="token operator">&lt;</span> mousey <span class="token operator">&lt;</span> <span class="token number">205</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>level <span class="token operator">=</span> <span class="token number">0</span>  
                self<span class="token punctuation">.</span>reset_mode <span class="token operator">=</span> <span class="token boolean">True</span>  
  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  <span class="token comment"># 游戏中  </span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>list_x <span class="token operator">&lt;</span> mousex <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>list_x <span class="token operator">+</span> Manager<span class="token punctuation">.</span>__brick_size <span class="token operator">*</span> self<span class="token punctuation">.</span>width \  
                    <span class="token keyword">and</span> self<span class="token punctuation">.</span>list_y <span class="token operator">&lt;</span> mousey <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>list_y <span class="token operator">+</span> Manager<span class="token punctuation">.</span>__brick_size <span class="token operator">*</span> self<span class="token punctuation">.</span>height<span class="token punctuation">:</span>  
                mouse_selected <span class="token operator">=</span> Manager<span class="token punctuation">.</span>xy_rc<span class="token punctuation">(</span>mousex<span class="token punctuation">,</span> mousey<span class="token punctuation">)</span>  
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>mouse_selected<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>mouse_selected<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>  
                    play_sound<span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>CLICK<span class="token punctuation">)</span>  
                    self<span class="token punctuation">.</span>selected <span class="token operator">=</span> mouse_selected  
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>last_sel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  
                        <span class="token keyword">and</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>last_sel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> \  
                            <span class="token keyword">or</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>last_sel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  
                                <span class="token keyword">and</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>last_sel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>swap_sign <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 有效移动，交换  </span>
            <span class="token keyword">elif</span> Element<span class="token punctuation">.</span>stop_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> mousex <span class="token operator">&lt;</span> Element<span class="token punctuation">.</span>stop_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>stop_width <span class="token keyword">and</span> \  
                    Element<span class="token punctuation">.</span>stop_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> mousey <span class="token operator">&lt;</span> Element<span class="token punctuation">.</span>stop_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>stop_width<span class="token punctuation">:</span>  <span class="token comment"># 点击退出按钮  </span>
                play_sound<span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>CLICK_BUTTON<span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>level <span class="token operator">=</span> <span class="token number">0</span>  
                self<span class="token punctuation">.</span>reset_mode <span class="token operator">=</span> <span class="token boolean">True</span>  
            <span class="token keyword">else</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>selected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>  
  
    <span class="token keyword">def</span> <span class="token function">swap</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> group<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""在棋盘上交换两个选定的动物。"""</span>  
        last_sprite <span class="token operator">=</span> <span class="token boolean">None</span>  
        selected_sprite <span class="token operator">=</span> <span class="token boolean">None</span>  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>swap_sign <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment"># 尚未交换  </span>
            self<span class="token punctuation">.</span>last_sel <span class="token operator">=</span> self<span class="token punctuation">.</span>selected  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>swap_sign <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  
            last_x<span class="token punctuation">,</span> last_y <span class="token operator">=</span> Manager<span class="token punctuation">.</span>rc_xy<span class="token punctuation">(</span>self<span class="token punctuation">.</span>last_sel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>last_sel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
            sel_x<span class="token punctuation">,</span> sel_y <span class="token operator">=</span> Manager<span class="token punctuation">.</span>rc_xy<span class="token punctuation">(</span>self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>last_sel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token comment"># 纵向交换  </span>
                <span class="token keyword">for</span> animal_list <span class="token keyword">in</span> group<span class="token punctuation">:</span>  
                    <span class="token keyword">if</span> animal_list<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>topleft <span class="token operator">==</span> <span class="token punctuation">(</span>last_x<span class="token punctuation">,</span> last_y<span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        last_sprite <span class="token operator">=</span> animal_list  
                        last_sprite<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token punctuation">[</span>self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>last_sel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>  
                    <span class="token keyword">elif</span> animal_list<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>topleft <span class="token operator">==</span> <span class="token punctuation">(</span>sel_x<span class="token punctuation">,</span> sel_y<span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        selected_sprite <span class="token operator">=</span> animal_list  
                        selected_sprite<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token punctuation">[</span>self<span class="token punctuation">.</span>last_sel<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>  
            <span class="token keyword">else</span><span class="token punctuation">:</span>  <span class="token comment"># 横向交换  </span>
                <span class="token keyword">for</span> animal_list <span class="token keyword">in</span> group<span class="token punctuation">:</span>  
                    <span class="token keyword">if</span> animal_list<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>topleft <span class="token operator">==</span> <span class="token punctuation">(</span>last_x<span class="token punctuation">,</span> last_y<span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        last_sprite <span class="token operator">=</span> animal_list  
                        last_sprite<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>last_sel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
                    <span class="token keyword">elif</span> animal_list<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>topleft <span class="token operator">==</span> <span class="token punctuation">(</span>sel_x<span class="token punctuation">,</span> sel_y<span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        selected_sprite <span class="token operator">=</span> animal_list  
                        selected_sprite<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>last_sel<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>selected<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
            <span class="token keyword">while</span> last_sprite <span class="token keyword">and</span> last_sprite<span class="token punctuation">.</span>speed <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  
                delay<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>draw_brick<span class="token punctuation">(</span>last_x<span class="token punctuation">,</span> last_y<span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>draw_brick<span class="token punctuation">(</span>sel_x<span class="token punctuation">,</span> sel_y<span class="token punctuation">)</span>  
                last_sprite<span class="token punctuation">.</span>move<span class="token punctuation">(</span>last_sprite<span class="token punctuation">.</span>speed<span class="token punctuation">)</span>  
                selected_sprite<span class="token punctuation">.</span>move<span class="token punctuation">(</span>selected_sprite<span class="token punctuation">.</span>speed<span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>last_sprite<span class="token punctuation">.</span>image<span class="token punctuation">,</span> last_sprite<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>selected_sprite<span class="token punctuation">.</span>image<span class="token punctuation">,</span> selected_sprite<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
                pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
            self<span class="token punctuation">.</span>swap_values<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>eliminate_animals<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>step <span class="token operator">-=</span> <span class="token number">1</span>  
            <span class="token keyword">else</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>swap_values<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">False</span>  
            self<span class="token punctuation">.</span>boom_sel <span class="token operator">=</span> self<span class="token punctuation">.</span>selected  
            self<span class="token punctuation">.</span>swap_sign <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
            self<span class="token punctuation">.</span>selected <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>  
  
    <span class="token keyword">def</span> <span class="token function">swap_values</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""交换值。"""</span>  
        <span class="token punctuation">(</span>xl<span class="token punctuation">,</span> yl<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>xc<span class="token punctuation">,</span> yc<span class="token punctuation">)</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>last_sel<span class="token punctuation">,</span> self<span class="token punctuation">.</span>selected  
        self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>xl<span class="token punctuation">]</span><span class="token punctuation">[</span>yl<span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>xc<span class="token punctuation">]</span><span class="token punctuation">[</span>yc<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>xc<span class="token punctuation">]</span><span class="token punctuation">[</span>yc<span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>xl<span class="token punctuation">]</span><span class="token punctuation">[</span>yl<span class="token punctuation">]</span>  
  
    <span class="token keyword">def</span> <span class="token function">load_text</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">,</span> position<span class="token punctuation">,</span> txt_size<span class="token punctuation">,</span> txt_color<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""显示给定位置、大小和颜色的文本。"""</span>  
        my_font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token string">"黑体"</span><span class="token punctuation">,</span> txt_size<span class="token punctuation">)</span>  
        text_screen <span class="token operator">=</span> my_font<span class="token punctuation">.</span>render<span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> txt_color<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>text_screen<span class="token punctuation">,</span> position<span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">death_map</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""检查是否没有有效的移动。"""</span>  
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>row <span class="token operator">+</span> self<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>col<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col <span class="token operator">+</span> self<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>  
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>  
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">and</span>  
                            self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>  
                                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">and</span>  
                                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                            self<span class="token punctuation">.</span>death_sign <span class="token operator">=</span> <span class="token boolean">False</span>  
                            <span class="token keyword">break</span>                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>  
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">and</span>  
                            self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>  
                                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">and</span>  
                                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                            self<span class="token punctuation">.</span>death_sign <span class="token operator">=</span> <span class="token boolean">False</span>  
                            <span class="token keyword">break</span>                    <span class="token keyword">else</span><span class="token punctuation">:</span>  
                        <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">:</span>  
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token punctuation">(</span>  
                                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                                self<span class="token punctuation">.</span>death_sign <span class="token operator">=</span> <span class="token boolean">False</span>  
                                <span class="token keyword">break</span>                        <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  
                            <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> \  
                                    <span class="token keyword">or</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                                self<span class="token punctuation">.</span>death_sign <span class="token operator">=</span> <span class="token boolean">False</span>  
                                <span class="token keyword">break</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span>death_sign<span class="token punctuation">:</span>  
            delay<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>  
            Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>none_animal<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">230</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            delay<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>  
            temp <span class="token operator">=</span> <span class="token punctuation">[</span>self<span class="token punctuation">.</span>step<span class="token punctuation">,</span> self<span class="token punctuation">.</span>score<span class="token punctuation">,</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">,</span> self<span class="token punctuation">.</span>ice_num<span class="token punctuation">,</span> self<span class="token punctuation">.</span>energy_num<span class="token punctuation">]</span>  
            self<span class="token punctuation">.</span>reset_mode <span class="token operator">=</span> <span class="token boolean">True</span>  
            self<span class="token punctuation">.</span>set_level_mode<span class="token punctuation">(</span>self<span class="token punctuation">.</span>level<span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>step <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  
            self<span class="token punctuation">.</span>score <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  
            self<span class="token punctuation">.</span>animal_num <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>  
            self<span class="token punctuation">.</span>ice_num <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>  
            self<span class="token punctuation">.</span>energy_num <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>  
        <span class="token keyword">else</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>death_sign <span class="token operator">=</span> <span class="token boolean">True</span>  
  
    <span class="token keyword">def</span> <span class="token function">exists_left</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""检查 (i, j) 左边是否至少有 {num} 个连续的相同动物。"""</span>  
        <span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> t<span class="token punctuation">]</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                <span class="token keyword">return</span> <span class="token boolean">False</span>  
        <span class="token keyword">return</span> <span class="token boolean">True</span>  
    <span class="token keyword">def</span> <span class="token function">exists_right</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""检查 (i, j) 右边是否至少有 {num} 个连续的相同动物。"""</span>  
        <span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> t<span class="token punctuation">]</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                <span class="token keyword">return</span> <span class="token boolean">False</span>  
        <span class="token keyword">return</span> <span class="token boolean">True</span>  
    <span class="token keyword">def</span> <span class="token function">exists_up</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""检查 (i, j) 上方是否至少有 {num} 个连续的相同动物。"""</span>  
        <span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">-</span> t<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                <span class="token keyword">return</span> <span class="token boolean">False</span>  
        <span class="token keyword">return</span> <span class="token boolean">True</span>  
    <span class="token keyword">def</span> <span class="token function">exists_down</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""检查 (i, j) 下方是否至少有 {num} 个连续的相同动物。"""</span>  
        <span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> t<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token keyword">or</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                <span class="token keyword">return</span> <span class="token boolean">False</span>  
        <span class="token keyword">return</span> <span class="token boolean">True</span>  
    <span class="token keyword">def</span> <span class="token function">change_left</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""改变动物的左侧。"""</span>  
        self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">True</span>  
        self<span class="token punctuation">.</span>score <span class="token operator">+=</span> num  
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>  
  
    <span class="token keyword">def</span> <span class="token function">change_right</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""改变动物的右侧。"""</span>  
        self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">True</span>  
        self<span class="token punctuation">.</span>score <span class="token operator">+=</span> num  
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>  
  
    <span class="token keyword">def</span> <span class="token function">change_up</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""改变动物上方。"""</span>  
        self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">True</span>  
        self<span class="token punctuation">.</span>score <span class="token operator">+=</span> num  
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">-</span> k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>  
  
    <span class="token keyword">def</span> <span class="token function">change_down</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""改变动物下方。"""</span>  
        self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">True</span>  
        self<span class="token punctuation">.</span>score <span class="token operator">+=</span> num  
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i <span class="token operator">+</span> k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span>  
  
    <span class="token keyword">def</span> <span class="token function">eliminate_animals</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""消除动物。"""</span>  
        score_level <span class="token operator">=</span> self<span class="token punctuation">.</span>score  
        self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">False</span>  
  
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>row <span class="token operator">+</span> self<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>col<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col <span class="token operator">+</span> self<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>  
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">True</span>  
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>exists_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">7</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 5                        self.change_right(i, j, 5)  </span>
                        self<span class="token punctuation">.</span>change_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">else</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">5</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 3                        self.change_right(i, j, 5)  </span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">True</span>  
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>exists_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">6</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 4                        self.change_right(i, j, 4)  </span>
                        self<span class="token punctuation">.</span>change_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">6</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 4                        self.change_right(i, j, 4)  </span>
                        self<span class="token punctuation">.</span>change_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">else</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">4</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 2                        self.change_right(i, j, 4)  </span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">True</span>  
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>exists_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">5</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 3                        self.change_right(i, j, 3)  </span>
                        self<span class="token punctuation">.</span>change_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">5</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 3                        self.change_right(i, j, 3)  </span>
                        self<span class="token punctuation">.</span>change_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">5</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 3                        self.change_right(i, j, 3)  </span>
                        self<span class="token punctuation">.</span>change_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">else</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">3</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 1                        self.change_right(i, j, 3)  </span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">True</span>  
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">7</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 5                        self.change_down(i, j, 5)  </span>
                        self<span class="token punctuation">.</span>change_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">7</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 5                        self.change_down(i, j, 5)  </span>
                        self<span class="token punctuation">.</span>change_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">else</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">5</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 3                        self.change_down(i, j, 5)  </span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">True</span>  
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>exists_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">6</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 4                        self.change_down(i, j, 4)  </span>
                        self<span class="token punctuation">.</span>change_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">6</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 4                        self.change_down(i, j, 4)  </span>
                        self<span class="token punctuation">.</span>change_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">6</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 4                        self.change_down(i, j, 4)  </span>
                        self<span class="token punctuation">.</span>change_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">6</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 4                        self.change_down(i, j, 4)  </span>
                        self<span class="token punctuation">.</span>change_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">else</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">4</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 2                        self.change_down(i, j, 4)  </span>
                <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_down<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>value_swapped <span class="token operator">=</span> <span class="token boolean">True</span>  
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>exists_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">5</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 3                        self.change_down(i, j, 3)  </span>
                        self<span class="token punctuation">.</span>change_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">5</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 3                        self.change_down(i, j, 3)  </span>
                        self<span class="token punctuation">.</span>change_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">5</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 3                        self.change_down(i, j, 3)  </span>
                        self<span class="token punctuation">.</span>change_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">5</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 3                        self.change_down(i, j, 3)  </span>
                        self<span class="token punctuation">.</span>change_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">5</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 3                        self.change_down(i, j, 3)  </span>
                        self<span class="token punctuation">.</span>change_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  
                        self<span class="token punctuation">.</span>change_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">6</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 4                        self.change_down(i, j, 3)  </span>
                        self<span class="token punctuation">.</span>change_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  
                        self<span class="token punctuation">.</span>change_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">6</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 4                        self.change_down(i, j, 3)  </span>
                        self<span class="token punctuation">.</span>change_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                        self<span class="token punctuation">.</span>change_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  
                    <span class="token keyword">elif</span> self<span class="token punctuation">.</span>exists_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>exists_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">7</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 5                        self.change_down(i, j, 3)  </span>
                        self<span class="token punctuation">.</span>change_left<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                        self<span class="token punctuation">.</span>change_right<span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>  
                    <span class="token keyword">else</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">3</span>  
                        Sounds<span class="token punctuation">.</span>eliminate<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效 1                        self.change_down(i, j, 3)  </span>
  
        self<span class="token punctuation">.</span>fall_animal<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        score_level <span class="token operator">=</span> self<span class="token punctuation">.</span>score <span class="token operator">-</span> score_level  <span class="token comment"># 计分级别  </span>
  
        <span class="token comment"># 显示 &amp; 朗读：好，棒，了不起，极好，令人难以置信  </span>
        <span class="token keyword">if</span> score_level <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span>  
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>value_swapped  
        <span class="token keyword">if</span> score_level <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">:</span>  <span class="token comment"># 5 好  </span>
            Sounds<span class="token punctuation">.</span>score_level<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>  
            Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>score_level<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            delay<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> score_level <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">:</span>  <span class="token comment"># 8 棒  </span>
            Sounds<span class="token punctuation">.</span>score_level<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  
            Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>score_level<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            delay<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> score_level <span class="token operator">&lt;</span> <span class="token number">15</span><span class="token punctuation">:</span>  <span class="token comment"># 10 了不起  </span>
            Sounds<span class="token punctuation">.</span>score_level<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  
            Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>score_level<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            delay<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> score_level <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">:</span>  <span class="token comment"># 15 极好  </span>
            Sounds<span class="token punctuation">.</span>score_level<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>  
            Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>score_level<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            delay<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> score_level <span class="token operator">&gt;=</span> <span class="token number">20</span><span class="token punctuation">:</span>  <span class="token comment"># 20 令人难以置信  </span>
            Sounds<span class="token punctuation">.</span>score_level<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  
            Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>score_level<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">350</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            delay<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>  
  
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>value_swapped  <span class="token comment"># 返回交换值标记  </span>
  
    <span class="token keyword">def</span> <span class="token function">fall_animal</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""动物下落动画。"""</span>  
        clock <span class="token operator">=</span> pygame<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Clock<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        position <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
        ice_position <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
  
        <span class="token comment"># 收集需要下落的动物的位置  </span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>row <span class="token operator">+</span> self<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>col<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col <span class="token operator">+</span> self<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>  
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span>  
                    x<span class="token punctuation">,</span> y <span class="token operator">=</span> self<span class="token punctuation">.</span>rc_xy<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>  
                    position<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>  
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>ice_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  
                        ice_position<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
        <span class="token comment"># 下落动画  </span>
        <span class="token keyword">if</span> position<span class="token punctuation">:</span>  
            <span class="token keyword">for</span> index <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                clock<span class="token punctuation">.</span>tick<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>  
                <span class="token keyword">for</span> pos <span class="token keyword">in</span> position<span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>draw_brick<span class="token punctuation">(</span>pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
                    <span class="token keyword">if</span> pos <span class="token keyword">in</span> ice_position<span class="token punctuation">:</span>  
                        Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>ice_format <span class="token operator">%</span> index<span class="token punctuation">,</span> <span class="token punctuation">(</span>pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
                    Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>boom_format <span class="token operator">%</span> index<span class="token punctuation">,</span> <span class="token punctuation">(</span>pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
                    pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
        <span class="token comment"># 实现下落  </span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>row <span class="token operator">+</span> self<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>  
            brick_position <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
            fall_animal_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
            speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>  
  
            <span class="token comment"># 收集需要下落的动物的位置信息  </span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>col<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col <span class="token operator">+</span> self<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>  
                <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span>  
                    x<span class="token punctuation">,</span> y <span class="token operator">=</span> self<span class="token punctuation">.</span>rc_xy<span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>  
                    <span class="token keyword">if</span> self<span class="token punctuation">.</span>ice_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  
                        play_sound<span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>ICE_BREAKING<span class="token punctuation">)</span>  
                        self<span class="token punctuation">.</span>ice_num <span class="token operator">+=</span> <span class="token number">1</span>  
                        self<span class="token punctuation">.</span>ice_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
  
                    brick_position<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
                    <span class="token comment"># 收集需要下落的动物的信息  </span>
                    <span class="token keyword">for</span> m <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> self<span class="token punctuation">.</span>row <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>  
                            x<span class="token punctuation">,</span> y <span class="token operator">=</span> self<span class="token punctuation">.</span>rc_xy<span class="token punctuation">(</span>m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span>  
                            brick_position<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>  
                            animal <span class="token operator">=</span> Element<span class="token punctuation">(</span>Element<span class="token punctuation">.</span>animals<span class="token punctuation">[</span>self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>  
                            fall_animal_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>animal<span class="token punctuation">)</span>  
                            self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>  
                        <span class="token keyword">else</span><span class="token punctuation">:</span>  
                            self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  
                            <span class="token keyword">break</span>  
  
            <span class="token comment"># 动物下落实现  </span>
            <span class="token keyword">while</span> speed <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">and</span> fall_animal_list<span class="token punctuation">:</span>  
                <span class="token keyword">for</span> position <span class="token keyword">in</span> brick_position<span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>draw_brick<span class="token punctuation">(</span>position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
                <span class="token keyword">for</span> animal_sprite <span class="token keyword">in</span> fall_animal_list<span class="token punctuation">:</span>  
                    animal_sprite<span class="token punctuation">.</span>move<span class="token punctuation">(</span>speed<span class="token punctuation">)</span>  
                    animal_sprite<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
                    speed <span class="token operator">=</span> animal_sprite<span class="token punctuation">.</span>speed  
                pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">judge_next</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> tp<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""判断是否达到下一关。"""</span>  
        <span class="token keyword">if</span> tp <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment"># 通过  </span>
            self<span class="token punctuation">.</span>load_fns_window<span class="token punctuation">(</span>score<span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> tp <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>  <span class="token comment"># 失败  </span>
            self<span class="token punctuation">.</span>load_fail_window<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">load_fail_window</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""显示失败界面和按钮。"""</span>  
        sound_sign <span class="token operator">=</span> <span class="token number">0</span>  
        step_add <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>step_add<span class="token punctuation">,</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 左侧：再来5步  </span>
        retry <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>replay<span class="token punctuation">,</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 右侧：重玩  </span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>fail_board<span class="token punctuation">.</span>image<span class="token punctuation">,</span> self<span class="token punctuation">.</span>fail_board<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  <span class="token comment"># 失败界面  </span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>step_add<span class="token punctuation">.</span>image<span class="token punctuation">,</span> step_add<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>retry<span class="token punctuation">.</span>image<span class="token punctuation">,</span> retry<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
        <span class="token keyword">while</span> self<span class="token punctuation">.</span>fail_board<span class="token punctuation">.</span>speed <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>fail_board<span class="token punctuation">.</span>image<span class="token punctuation">,</span> self<span class="token punctuation">.</span>fail_board<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>fail_board<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            <span class="token keyword">if</span> sound_sign <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                play_sound<span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>BOARD_SOUND<span class="token punctuation">)</span>  
                sound_sign <span class="token operator">=</span> <span class="token number">1</span>  
  
    <span class="token keyword">def</span> <span class="token function">load_fns_window</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""显示成功界面、分数和按钮。"""</span>  
        sound_sign <span class="token operator">=</span> <span class="token number">0</span>  
        replay <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>replay<span class="token punctuation">,</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 左侧：重玩  </span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>success_board<span class="token punctuation">.</span>image<span class="token punctuation">,</span> self<span class="token punctuation">.</span>success_board<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  <span class="token comment"># 成功界面  </span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>level <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">:</span>  <span class="token comment"># 如果不是最后一关  </span>
            next_level <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">,</span> Board<span class="token punctuation">.</span>button_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 右侧：下一关  </span>
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>next_level<span class="token punctuation">.</span>image<span class="token punctuation">,</span> next_level<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>replay<span class="token punctuation">.</span>image<span class="token punctuation">,</span> replay<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
        <span class="token keyword">while</span> self<span class="token punctuation">.</span>success_board<span class="token punctuation">.</span>speed <span class="token operator">!=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>draw<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>success_board<span class="token punctuation">.</span>image<span class="token punctuation">,</span> self<span class="token punctuation">.</span>success_board<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>success_board<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
            <span class="token keyword">if</span> sound_sign <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                play_sound<span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>BOARD_SOUND<span class="token punctuation">)</span>  
                sound_sign <span class="token operator">=</span> <span class="token number">1</span>  
        self<span class="token punctuation">.</span>displayStars<span class="token punctuation">(</span>score<span class="token punctuation">)</span>  <span class="token comment"># 显示星星  </span>
        <span class="token comment"># 金币  </span>
        self<span class="token punctuation">.</span>load_text<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>score <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Board<span class="token punctuation">.</span>starts_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">75</span><span class="token punctuation">,</span> Board<span class="token punctuation">.</span>starts_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">46</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span>  
                       <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">displayStars</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""根据分数显示星星。"""</span>  
        star1 <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>stars<span class="token punctuation">,</span> Board<span class="token punctuation">.</span>starts_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
        star2 <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>stars<span class="token punctuation">,</span> Board<span class="token punctuation">.</span>starts_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
        star3 <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>stars<span class="token punctuation">,</span> Board<span class="token punctuation">.</span>starts_position<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
        <span class="token keyword">if</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> score <span class="token operator">&lt;</span> self<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>load_text<span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Board<span class="token punctuation">.</span>starts_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">48</span><span class="token punctuation">,</span> Board<span class="token punctuation">.</span>starts_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>star1<span class="token punctuation">.</span>image<span class="token punctuation">,</span> star1<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span><span class="token builtin">min</span> <span class="token operator">&lt;=</span> score <span class="token operator">&lt;=</span> self<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>load_text<span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Board<span class="token punctuation">.</span>starts_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">48</span><span class="token punctuation">,</span> Board<span class="token punctuation">.</span>starts_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>star1<span class="token punctuation">.</span>image<span class="token punctuation">,</span> star1<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>star2<span class="token punctuation">.</span>image<span class="token punctuation">,</span> star2<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> score <span class="token operator">&gt;</span> self<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>load_text<span class="token punctuation">(</span><span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Board<span class="token punctuation">.</span>starts_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">48</span><span class="token punctuation">,</span> Board<span class="token punctuation">.</span>starts_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>star1<span class="token punctuation">.</span>image<span class="token punctuation">,</span> star1<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>star2<span class="token punctuation">.</span>image<span class="token punctuation">,</span> star2<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>star3<span class="token punctuation">.</span>image<span class="token punctuation">,</span> star3<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
        pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">set_level_mode</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> level<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""设置关卡模式及其步骤。"""</span>  
        self<span class="token punctuation">.</span>level <span class="token operator">=</span> level  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>reset_mode<span class="token punctuation">:</span>  <span class="token comment"># 如果需要重置模式  </span>
            self<span class="token punctuation">.</span>num_sign <span class="token operator">=</span> <span class="token boolean">True</span>  
            <span class="token keyword">if</span> level <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
                self<span class="token punctuation">.</span>init_step <span class="token operator">=</span> <span class="token number">17</span>  <span class="token comment"># 初始步骤17  </span>
            <span class="token keyword">elif</span> level <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>init_step <span class="token operator">=</span> <span class="token number">16</span>  <span class="token comment"># 初始步骤16  </span>
            <span class="token keyword">elif</span> level <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>init_step <span class="token operator">=</span> <span class="token number">18</span>  <span class="token comment"># 初始步骤18  </span>
            <span class="token keyword">elif</span> level <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>  
                row<span class="token punctuation">,</span> col <span class="token operator">=</span> self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col  
                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>  
                    col <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
                self<span class="token punctuation">.</span>init_step <span class="token operator">=</span> <span class="token number">20</span>  
            <span class="token keyword">elif</span> level <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>  
                row<span class="token punctuation">,</span> col <span class="token operator">=</span> self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col  
                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
                self<span class="token punctuation">.</span>init_step <span class="token operator">=</span> <span class="token number">20</span>  
            <span class="token keyword">elif</span> level <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>  
                row<span class="token punctuation">,</span> col <span class="token operator">=</span> self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col  
                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
                <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>row <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>col <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
                self<span class="token punctuation">.</span>init_step <span class="token operator">=</span> <span class="token number">28</span>  
            <span class="token keyword">elif</span> level <span class="token operator">==</span> <span class="token number">7</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>  
                row<span class="token punctuation">,</span> col <span class="token operator">=</span> self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col  
                <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
                <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>col<span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
                <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>col <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
                self<span class="token punctuation">.</span>init_step <span class="token operator">=</span> <span class="token number">25</span>  
            <span class="token keyword">elif</span> level <span class="token operator">==</span> <span class="token number">8</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>  
                row<span class="token punctuation">,</span> col <span class="token operator">=</span> self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col  
                <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>row <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>ice_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>  
                self<span class="token punctuation">.</span>init_step <span class="token operator">=</span> <span class="token number">21</span>  
            <span class="token keyword">elif</span> level <span class="token operator">==</span> <span class="token number">9</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>  
                row<span class="token punctuation">,</span> col <span class="token operator">=</span> self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col  
                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
                <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>ice_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>  
                self<span class="token punctuation">.</span>init_step <span class="token operator">=</span> <span class="token number">35</span>  
            <span class="token keyword">else</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>  
                row<span class="token punctuation">,</span> col <span class="token operator">=</span> self<span class="token punctuation">.</span>row<span class="token punctuation">,</span> self<span class="token punctuation">.</span>col  
                <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>col<span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  
                self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>animal<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  
                <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>row <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">,</span> row <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>col<span class="token punctuation">,</span> col <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span>ice_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>  
                self<span class="token punctuation">.</span>ice_list<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>ice_list<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>ice_list<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> \  
                    self<span class="token punctuation">.</span>ice_list<span class="token punctuation">[</span>row <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>col <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>  
                self<span class="token punctuation">.</span>init_step <span class="token operator">=</span> <span class="token number">40</span>  
            self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">0</span>  
            self<span class="token punctuation">.</span>energy_num <span class="token operator">-=</span> <span class="token number">5</span>  
            self<span class="token punctuation">.</span>success_board <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>success<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 成功的面板  </span>
            self<span class="token punctuation">.</span>fail_board <span class="token operator">=</span> Board<span class="token punctuation">(</span>Board<span class="token punctuation">.</span>fail<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 失败的面板  </span>
            self<span class="token punctuation">.</span>step <span class="token operator">=</span> self<span class="token punctuation">.</span>init_step  
            self<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">0</span>  
            self<span class="token punctuation">.</span>animal_num <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>  
            self<span class="token punctuation">.</span>ice_num <span class="token operator">=</span> <span class="token number">0</span>  
            self<span class="token punctuation">.</span>reset_mode <span class="token operator">=</span> <span class="token boolean">False</span>  
  
    <span class="token keyword">def</span> <span class="token function">num_add</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""增加得分"""</span>  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>num_sign<span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>money <span class="token operator">+=</span> self<span class="token punctuation">.</span>score <span class="token operator">*</span> <span class="token number">2</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> self<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>energy_num <span class="token operator">+=</span> <span class="token number">1</span>  
            <span class="token keyword">elif</span> self<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> self<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>energy_num <span class="token operator">+=</span> <span class="token number">2</span>  
            <span class="token keyword">else</span><span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>energy_num <span class="token operator">+=</span> <span class="token number">5</span>  
            self<span class="token punctuation">.</span>num_sign <span class="token operator">=</span> <span class="token boolean">False</span>  
  
    <span class="token keyword">def</span> <span class="token function">judge_level</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""检查关卡是否通过"""</span>  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>step <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>  <span class="token comment"># 游戏结束  </span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">:</span>  <span class="token comment"># L1: 10 只青蛙  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 通过第一关  </span>
                self<span class="token punctuation">.</span>num_add<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">21</span><span class="token punctuation">:</span>  <span class="token comment"># L2: 21 只熊  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 通过第二关  </span>
                self<span class="token punctuation">.</span>num_add<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">16</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">16</span><span class="token punctuation">:</span>  <span class="token comment"># L3: 16 只青蛙和 16 头牛  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 通过第三关  </span>
                self<span class="token punctuation">.</span>num_add<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">18</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">18</span><span class="token punctuation">:</span>  <span class="token comment"># L4: 18 头牛和 18 只小鸡  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 通过第四关  </span>
                self<span class="token punctuation">.</span>num_add<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">28</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">28</span><span class="token punctuation">:</span>  <span class="token comment"># L5: 28 只小鸡和 28 只狐狸  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 通过第五关  </span>
                self<span class="token punctuation">.</span>num_add<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">70</span><span class="token punctuation">:</span>  <span class="token comment"># L6: 70 只青蛙  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 通过第六关  </span>
                self<span class="token punctuation">.</span>num_add<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">7</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">36</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">36</span> \  
                    <span class="token keyword">and</span> self<span class="token punctuation">.</span>animal_num<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">36</span><span class="token punctuation">:</span>  <span class="token comment"># L7: 36 只小鸡、36 只熊和 36 只狐狸  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 通过第七关  </span>
                self<span class="token punctuation">.</span>num_add<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">8</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>ice_num <span class="token operator">&gt;=</span> <span class="token number">15</span><span class="token punctuation">:</span>  <span class="token comment"># L8: 15 冰块  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 通过第八关  </span>
                self<span class="token punctuation">.</span>num_add<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>level <span class="token operator">==</span> <span class="token number">9</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>ice_num <span class="token operator">&gt;=</span> <span class="token number">49</span><span class="token punctuation">:</span>  <span class="token comment"># L9: 49 冰块  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 通过第九关  </span>
                self<span class="token punctuation">.</span>num_add<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token keyword">else</span><span class="token punctuation">:</span>  
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>ice_num <span class="token operator">&gt;=</span> <span class="token number">39</span><span class="token punctuation">:</span>  <span class="token comment"># L10: 39 冰块  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 通过第十关  </span>
                self<span class="token punctuation">.</span>num_add<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
        self<span class="token punctuation">.</span>judge_next<span class="token punctuation">(</span>self<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>score<span class="token punctuation">)</span>
</code></pre> 
<p><code>level_tree.py</code></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pygame  
<span class="token keyword">from</span> pygame <span class="token keyword">import</span> DOUBLEBUF  
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span>time <span class="token keyword">import</span> delay  
  
<span class="token keyword">from</span> dissipate<span class="token punctuation">.</span>sounds <span class="token keyword">import</span> play_sound<span class="token punctuation">,</span> Sounds  <span class="token comment"># 导入声音播放功能和声音资源  </span>
<span class="token keyword">from</span> dissipate<span class="token punctuation">.</span>sprites <span class="token keyword">import</span> Tree  <span class="token comment"># 导入关卡树的类  </span>
  
  
<span class="token keyword">class</span> <span class="token class-name">LevelTreeManager</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">"""  
    关卡树管理器类，用于管理关卡树及其相关功能。  
    """</span>    __screen_size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span>  <span class="token comment"># 屏幕尺寸  </span>
    screen <span class="token operator">=</span> pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span>__screen_size<span class="token punctuation">,</span> DOUBLEBUF<span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span>  <span class="token comment"># 设置屏幕显示模式  </span>
    fruit_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment"># 用于存储水果对象的列表  </span>
    fruit_image <span class="token operator">=</span> pygame<span class="token punctuation">.</span>image<span class="token punctuation">.</span>load<span class="token punctuation">(</span>Tree<span class="token punctuation">.</span>fruit<span class="token punctuation">)</span><span class="token punctuation">.</span>convert_alpha<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 加载水果图片  </span>
    fruit_width <span class="token operator">=</span> fruit_image<span class="token punctuation">.</span>get_width<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 获取水果图片宽度  </span>
    fruit_height <span class="token operator">=</span> fruit_image<span class="token punctuation">.</span>get_height<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 获取水果图片高度  </span>
    <span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 场景类型，0 表示关卡树场景，1 表示能量场景  </span>
    energy_full <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 能量已满标志  </span>
    money_empty <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 金钱不足标志  </span>
  
    <span class="token keyword">def</span> <span class="token function">display_text</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">,</span> position<span class="token punctuation">,</span> txt_size<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span> txt_color<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        显示指定的文本内容。  
        参数：  
        text: 要显示的文本  
        position: 文本位置  
        txt_size: 文本大小  
        txt_color: 文本颜色  
        """</span>        my_font <span class="token operator">=</span> pygame<span class="token punctuation">.</span>font<span class="token punctuation">.</span>SysFont<span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">,</span> txt_size<span class="token punctuation">)</span>  <span class="token comment"># 创建字体对象  </span>
        text_screen <span class="token operator">=</span> my_font<span class="token punctuation">.</span>render<span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> txt_color<span class="token punctuation">)</span>  <span class="token comment"># 渲染文本  </span>
        self<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>text_screen<span class="token punctuation">,</span> position<span class="token punctuation">)</span>  <span class="token comment"># 在屏幕上绘制文本  </span>
  
    <span class="token keyword">def</span> <span class="token function">draw_tree</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> energy_num<span class="token punctuation">,</span> money_num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        绘制游戏中的关卡树和相关资源。  
        参数：  
        energy_num: 当前能量值  
        money_num: 当前金钱数量  
        """</span>        Tree<span class="token punctuation">(</span>Tree<span class="token punctuation">.</span>tree<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  <span class="token comment"># 绘制关卡树  </span>
        Tree<span class="token punctuation">(</span>Tree<span class="token punctuation">.</span>energy_num<span class="token punctuation">,</span> Tree<span class="token punctuation">.</span>energy_num_position<span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  <span class="token comment"># 绘制能量数  </span>
        <span class="token keyword">if</span> energy_num <span class="token operator">&gt;</span> <span class="token number">30</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>display_text<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/30'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span>  <span class="token comment"># 显示最大能量值  </span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>  
            self<span class="token punctuation">.</span>display_text<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>energy_num<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/30'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span>  <span class="token comment"># 显示当前能量值  </span>
        Tree<span class="token punctuation">(</span>Tree<span class="token punctuation">.</span>money<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">135</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  <span class="token comment"># 绘制金钱  </span>
        self<span class="token punctuation">.</span>display_text<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>money_num<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">124</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span>  <span class="token comment"># 显示当前金钱数量  </span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 绘制水果  </span>
            Tree<span class="token punctuation">(</span>Tree<span class="token punctuation">.</span>fruit<span class="token punctuation">,</span> Tree<span class="token punctuation">.</span>position<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  
            self<span class="token punctuation">.</span>display_text<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Tree<span class="token punctuation">.</span>position<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">,</span> Tree<span class="token punctuation">.</span>position<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>  
            Tree<span class="token punctuation">(</span>Tree<span class="token punctuation">.</span>energy_buy<span class="token punctuation">,</span> Tree<span class="token punctuation">.</span>energy_buy_position<span class="token punctuation">)</span><span class="token punctuation">.</span>draw<span class="token punctuation">(</span>self<span class="token punctuation">.</span>screen<span class="token punctuation">)</span>  <span class="token comment"># 绘制购买能量按钮  </span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>energy_full<span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>display_text<span class="token punctuation">(</span><span class="token string">'energy is full!'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">430</span><span class="token punctuation">,</span> <span class="token number">310</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 显示能量已满提示  </span>
                pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新屏幕显示  </span>
                delay<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>  <span class="token comment"># 延迟500毫秒  </span>
                self<span class="token punctuation">.</span>energy_full <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 重置能量已满标志  </span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>money_empty<span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>display_text<span class="token punctuation">(</span><span class="token string">'money is not enough!'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">410</span><span class="token punctuation">,</span> <span class="token number">310</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 显示金钱不足提示  </span>
                pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>flip<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 更新屏幕显示  </span>
                delay<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>  <span class="token comment"># 延迟500毫秒  </span>
                self<span class="token punctuation">.</span>money_empty <span class="token operator">=</span> <span class="token boolean">False</span>  <span class="token comment"># 重置金钱不足标志  </span>
  
    <span class="token keyword">def</span> <span class="token function">mouse_select</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> mgr<span class="token punctuation">,</span> mouse_x<span class="token punctuation">,</span> mouse_y<span class="token punctuation">,</span> level<span class="token punctuation">,</span> energy_num<span class="token punctuation">,</span> money_num<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        处理鼠标事件。  
        参数：  
        mgr: 管理器对象  
        mouse_x: 鼠标x坐标  
        mouse_y: 鼠标y坐标  
        level: 当前等级  
        energy_num: 当前能量值  
        money_num: 当前金钱数量  
        """</span>        <span class="token keyword">if</span> self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>  <span class="token comment"># 关卡树场景  </span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  
                <span class="token keyword">if</span> Tree<span class="token punctuation">.</span>position<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> mouse_x <span class="token operator">&lt;</span> Tree<span class="token punctuation">.</span>position<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>fruit_width \  
                        <span class="token keyword">and</span> Tree<span class="token punctuation">.</span>position<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> self<span class="token punctuation">.</span>fruit_height <span class="token operator">&lt;</span> mouse_y <span class="token operator">&lt;</span> Tree<span class="token punctuation">.</span>position<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  
                    <span class="token keyword">if</span> energy_num <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>  
                        self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 切换到能量场景  </span>
                    <span class="token keyword">else</span><span class="token punctuation">:</span>  
                        level <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>  <span class="token comment"># 更新等级  </span>
            <span class="token keyword">if</span> Tree<span class="token punctuation">.</span>energy_num_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> mouse_x <span class="token operator">&lt;</span> Tree<span class="token punctuation">.</span>energy_num_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">60</span> \  
                    <span class="token keyword">and</span> Tree<span class="token punctuation">.</span>energy_num_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">60</span> <span class="token operator">&lt;</span> mouse_y <span class="token operator">&lt;</span> Tree<span class="token punctuation">.</span>energy_num_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token comment"># 点击能量图标  </span>
                play_sound<span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>CLICK<span class="token punctuation">)</span>  <span class="token comment"># 播放点击音效  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># 切换到能量场景  </span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>  <span class="token comment"># 能量场景  </span>
            <span class="token keyword">if</span> <span class="token number">408</span> <span class="token operator">&lt;</span> mouse_x <span class="token operator">&lt;</span> <span class="token number">600</span> <span class="token keyword">and</span> <span class="token number">263</span> <span class="token operator">&lt;</span> mouse_y <span class="token operator">&lt;</span> <span class="token number">313</span><span class="token punctuation">:</span>  <span class="token comment"># 点击“购买能量”按钮  </span>
                play_sound<span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>CLICK_BUTTON<span class="token punctuation">)</span>  <span class="token comment"># 播放点击按钮音效  </span>
                <span class="token keyword">if</span> money_num <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>money_empty <span class="token operator">=</span> <span class="token boolean">True</span>  <span class="token comment"># 金钱不足标志设为真  </span>
                <span class="token keyword">if</span> energy_num <span class="token operator">&gt;=</span> <span class="token number">30</span><span class="token punctuation">:</span>  
                    self<span class="token punctuation">.</span>energy_full <span class="token operator">=</span> <span class="token boolean">True</span>  <span class="token comment"># 能量已满标志设为真  </span>
                <span class="token keyword">elif</span> energy_num <span class="token operator">&lt;</span> <span class="token number">30</span> <span class="token keyword">and</span> money_num <span class="token operator">&gt;=</span> <span class="token number">50</span><span class="token punctuation">:</span>  
                    energy_num <span class="token operator">+=</span> <span class="token number">5</span>  <span class="token comment"># 增加能量  </span>
                    money_num <span class="token operator">-=</span> <span class="token number">50</span>  <span class="token comment"># 减少金钱  </span>
            <span class="token keyword">elif</span> <span class="token number">619</span> <span class="token operator">&lt;</span> mouse_x <span class="token operator">&lt;</span> <span class="token number">638</span> <span class="token keyword">and</span> <span class="token number">158</span> <span class="token operator">&lt;</span> mouse_y <span class="token operator">&lt;</span> <span class="token number">177</span><span class="token punctuation">:</span>  <span class="token comment"># 点击“X”按钮  </span>
                self<span class="token punctuation">.</span><span class="token builtin">type</span> <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 切换回关卡树场景  </span>
        mgr<span class="token punctuation">.</span>level<span class="token punctuation">,</span> mgr<span class="token punctuation">.</span>energy_num<span class="token punctuation">,</span> mgr<span class="token punctuation">.</span>money <span class="token operator">=</span> level<span class="token punctuation">,</span> energy_num<span class="token punctuation">,</span> money_num  <span class="token comment"># 更新管理器对象中的等级、能量和金钱信息</span>
</code></pre> 
<p><code>sprites.py</code></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> os  
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span>sprite <span class="token keyword">import</span> Sprite  
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span>image <span class="token keyword">import</span> load  
  
<span class="token keyword">from</span> dissipate<span class="token punctuation">.</span>img <span class="token keyword">import</span> img_basic<span class="token punctuation">,</span> img_energy<span class="token punctuation">,</span> img_board<span class="token punctuation">,</span> img_text<span class="token punctuation">,</span> img_level<span class="token punctuation">,</span> img_button<span class="token punctuation">,</span> img_animal<span class="token punctuation">,</span> img_ice<span class="token punctuation">,</span> \  
    img_boom  
  
  
<span class="token comment"># 基类,GameSprite类定义了所有游戏精灵的基类，包括加载图像、设置位置和绘制方法。  </span>
<span class="token keyword">class</span> <span class="token class-name">GameSprite</span><span class="token punctuation">(</span>Sprite<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> icon<span class="token punctuation">,</span> position<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token comment"># 初始化GameSprite类，继承自pygame的Sprite类。  </span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token comment"># 加载图像并转换为具有透明通道的格式。  </span>
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> load<span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">.</span>convert_alpha<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token comment"># 获取图像的矩形区域。  </span>
        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> self<span class="token punctuation">.</span>image<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        <span class="token comment"># 设置精灵的位置。  </span>
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>topleft <span class="token operator">=</span> position  
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottomleft <span class="token operator">=</span> position  
  
    <span class="token keyword">def</span> <span class="token function">draw</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> screen<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token comment"># 将精灵绘制到屏幕上。  </span>
        screen<span class="token punctuation">.</span>blit<span class="token punctuation">(</span>self<span class="token punctuation">.</span>image<span class="token punctuation">,</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">)</span>  
  
  
<span class="token keyword">class</span> <span class="token class-name">Tree</span><span class="token punctuation">(</span>GameSprite<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">"""  
    关卡树类，显示关卡树和相关资源。  
    """</span>    <span class="token comment"># 树、果实、能量数字、金钱和购买能量按钮的图像路径。  </span>
    tree <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'tree.png'</span><span class="token punctuation">)</span>  
    fruit <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'fruit.png'</span><span class="token punctuation">)</span>  
    energy_num <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_energy<span class="token punctuation">,</span> <span class="token string">'num.png'</span><span class="token punctuation">)</span>  
    money <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'money.png'</span><span class="token punctuation">)</span>  
    energy_buy <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_energy<span class="token punctuation">,</span> <span class="token string">'buy.png'</span><span class="token punctuation">)</span>  
  
    <span class="token comment"># 树、果实、能量数字、购买能量按钮的位置定义。  </span>
    x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">340</span><span class="token punctuation">,</span> <span class="token number">510</span>  
    h <span class="token operator">=</span> <span class="token number">90</span>  
    position <span class="token operator">=</span> <span class="token punctuation">(</span>  
        <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">,</span>  
        <span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">50</span><span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
        <span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">105</span><span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">45</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
        <span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">,</span> y <span class="token operator">-</span> h <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
        <span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">55</span><span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">25</span> <span class="token operator">-</span> h <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
        <span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">105</span><span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">45</span> <span class="token operator">-</span> h<span class="token punctuation">]</span><span class="token punctuation">,</span>  
        <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y <span class="token operator">-</span> h <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
        <span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">50</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">25</span> <span class="token operator">-</span> h <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
        <span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">105</span> <span class="token operator">+</span> <span class="token number">25</span><span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">45</span> <span class="token operator">-</span> h <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
        <span class="token punctuation">[</span>x <span class="token operator">+</span> <span class="token number">30</span><span class="token punctuation">,</span> y <span class="token operator">-</span> h <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">30</span><span class="token punctuation">]</span>  
    <span class="token punctuation">)</span>  <span class="token comment"># 果实位置  </span>
    energy_num_position <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span>  <span class="token comment"># 能量位置  </span>
    energy_buy_position <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span>  <span class="token comment"># 购买能量位置  </span>
  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> icon<span class="token punctuation">,</span> position<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        初始化树对象  
        """</span>        <span class="token comment"># 重写GameSprite的构造函数，用于初始化树对象。  </span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>icon<span class="token punctuation">,</span> position<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> load<span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">.</span>convert_alpha<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> self<span class="token punctuation">.</span>image<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottomleft <span class="token operator">=</span> position  
  
  
<span class="token keyword">class</span> <span class="token class-name">Board</span><span class="token punctuation">(</span>GameSprite<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">"""  
    游戏面板类，显示游戏面板和相关资源。  
    Board类继承自GameSprite类，用于创建和显示游戏板的精灵，并包含移动逻辑。  
    """</span>    <span class="token comment"># 游戏板、数字格式、任务板、成功、失败、下一步、重玩、星星、金钱的图像路径。  </span>
    step_board <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_board<span class="token punctuation">,</span> <span class="token string">'step.png'</span><span class="token punctuation">)</span>  
    num_format <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_text<span class="token punctuation">,</span> <span class="token string">'%d.png'</span><span class="token punctuation">)</span>  
    task_board <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'task.png'</span><span class="token punctuation">)</span>  
    ok <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'ok.png'</span><span class="token punctuation">)</span>  
    level_format <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_level<span class="token punctuation">,</span> <span class="token string">'%d.png'</span><span class="token punctuation">)</span>  
    success <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_board<span class="token punctuation">,</span> <span class="token string">'success.png'</span><span class="token punctuation">)</span>  
    fail <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_board<span class="token punctuation">,</span> <span class="token string">'fail.png'</span><span class="token punctuation">)</span>  
    step_add <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_button<span class="token punctuation">,</span> <span class="token string">'step_add.png'</span><span class="token punctuation">)</span>  
    <span class="token builtin">next</span> <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_button<span class="token punctuation">,</span> <span class="token string">'next.png'</span><span class="token punctuation">)</span>  
    replay <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_button<span class="token punctuation">,</span> <span class="token string">'replay.png'</span><span class="token punctuation">)</span>  
    stars <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'star.png'</span><span class="token punctuation">)</span>  
    money <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'money.png'</span><span class="token punctuation">)</span>  
  
    <span class="token comment"># 按钮和星星的位置定义。  </span>
    button_position <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">465</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">465</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
    starts_position <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">330</span><span class="token punctuation">,</span> <span class="token number">340</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">413</span><span class="token punctuation">,</span> <span class="token number">340</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">495</span><span class="token punctuation">,</span> <span class="token number">340</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  
  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> icon<span class="token punctuation">,</span> position<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        初始化板对象  
        """</span>        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>icon<span class="token punctuation">,</span> position<span class="token punctuation">)</span>  
        <span class="token comment"># 重写GameSprite的构造函数，用于初始化板对象。  </span>
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> load<span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">.</span>convert_alpha<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">]</span>  <span class="token comment"># 初始速度  </span>
        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> self<span class="token punctuation">.</span>image<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottomleft <span class="token operator">=</span> position  
  
    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        根据速度移动面板  
        """</span>        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>move<span class="token punctuation">(</span>self<span class="token punctuation">.</span>speed<span class="token punctuation">)</span>  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottom <span class="token operator">&gt;=</span> <span class="token number">543</span><span class="token punctuation">:</span>  <span class="token comment"># 到达底部边界  </span>
            self<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">45</span><span class="token punctuation">]</span>  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>speed <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">45</span><span class="token punctuation">]</span> <span class="token keyword">and</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>bottom <span class="token operator">&lt;=</span> <span class="token number">450</span><span class="token punctuation">:</span>  <span class="token comment"># 到达顶部边界  </span>
            self<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>  
  
  
<span class="token keyword">class</span> <span class="token class-name">Element</span><span class="token punctuation">(</span>GameSprite<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">"""  
    Element类继承自GameSprite类，用于创建和显示游戏中元素的精灵，并包含移动逻辑。  
    """</span>    <span class="token comment"># 动物、冰、砖块、框架、爆炸数字、冰的数字格式、分数等级、无动物、退出的图像路径。  </span>
    animals <span class="token operator">=</span> <span class="token punctuation">(</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_animal<span class="token punctuation">,</span> <span class="token string">'fox.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_animal<span class="token punctuation">,</span> <span class="token string">'bear.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_animal<span class="token punctuation">,</span> <span class="token string">'chick.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_animal<span class="token punctuation">,</span> <span class="token string">'eagle.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_animal<span class="token punctuation">,</span> <span class="token string">'frog.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_animal<span class="token punctuation">,</span> <span class="token string">'cow.png'</span><span class="token punctuation">)</span>  
    <span class="token punctuation">)</span>  
    ice <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_ice<span class="token punctuation">,</span> <span class="token string">'normal.png'</span><span class="token punctuation">)</span>  
    brick <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'brick.png'</span><span class="token punctuation">)</span>  
    frame <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'frame.png'</span><span class="token punctuation">)</span>  
    boom_format <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_boom<span class="token punctuation">,</span> <span class="token string">'%d.png'</span><span class="token punctuation">)</span>  
    ice_format <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_ice<span class="token punctuation">,</span> <span class="token string">'%d.png'</span><span class="token punctuation">)</span>  
  
    <span class="token comment"># 分数图片  </span>
    score_level <span class="token operator">=</span> <span class="token punctuation">(</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_text<span class="token punctuation">,</span> <span class="token string">'good.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_text<span class="token punctuation">,</span> <span class="token string">'great.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_text<span class="token punctuation">,</span> <span class="token string">'amazing.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'excellent.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'unbelievable.png'</span><span class="token punctuation">)</span>  
    <span class="token punctuation">)</span>  
    none_animal <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'none_animal.png'</span><span class="token punctuation">)</span>  
    stop <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>img_basic<span class="token punctuation">,</span> <span class="token string">'exit.png'</span><span class="token punctuation">)</span>  
    stop_position <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">530</span><span class="token punctuation">)</span>  
  
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> icon<span class="token punctuation">,</span> position<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        初始化元素对象  
        """</span>        <span class="token comment"># 重写GameSprite的构造函数，用于初始化元素对象。  </span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>icon<span class="token punctuation">,</span> position<span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>image <span class="token operator">=</span> load<span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">.</span>convert_alpha<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> self<span class="token punctuation">.</span>image<span class="token punctuation">.</span>get_rect<span class="token punctuation">(</span><span class="token punctuation">)</span>  
        self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>topleft <span class="token operator">=</span> position  
        self<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment"># 初始速度  </span>
        self<span class="token punctuation">.</span>init_position <span class="token operator">=</span> position  <span class="token comment"># 初始位置  </span>
  
    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> speed<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""  
        以给定速度移动元素  
        """</span>        self<span class="token punctuation">.</span>speed <span class="token operator">=</span> speed  
        self<span class="token punctuation">.</span>rect <span class="token operator">=</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>move<span class="token punctuation">(</span>self<span class="token punctuation">.</span>speed<span class="token punctuation">)</span>  
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>speed<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>  <span class="token comment"># 水平移动  </span>
            <span class="token keyword">if</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>left <span class="token operator">-</span> self<span class="token punctuation">.</span>init_position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>width<span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>init_position <span class="token operator">=</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>topleft  
                self<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>  
        <span class="token keyword">else</span><span class="token punctuation">:</span>  <span class="token comment"># 垂直移动  </span>
            <span class="token keyword">if</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>top <span class="token operator">-</span> self<span class="token punctuation">.</span>init_position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>height<span class="token punctuation">:</span>  
                self<span class="token punctuation">.</span>init_position <span class="token operator">=</span> self<span class="token punctuation">.</span>rect<span class="token punctuation">.</span>topleft  
                self<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>
</code></pre> 
<p><code>sounds.py</code></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> enum <span class="token keyword">import</span> Enum  
<span class="token keyword">from</span> pygame<span class="token punctuation">.</span>mixer <span class="token keyword">import</span> Sound  
<span class="token keyword">from</span> dissipate<span class="token punctuation">.</span>sound <span class="token keyword">import</span> <span class="token operator">*</span>  
  
  
<span class="token comment"># 声音枚举类，用于管理和播放游戏中的各种声音  </span>
<span class="token keyword">class</span> <span class="token class-name">Sounds</span><span class="token punctuation">(</span>Enum<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    GAME_BGM <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'GameSceneBGM.ogg'</span><span class="token punctuation">)</span>  <span class="token comment"># 游戏场景背景音乐  </span>
    WORLD_BGM <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'WorldSceneBGM.ogg'</span><span class="token punctuation">)</span>  <span class="token comment"># 世界场景背景音乐  </span>
    ELIMINATE_FORMAT <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_eliminate<span class="token punctuation">,</span> <span class="token string">'%d.ogg'</span><span class="token punctuation">)</span>  <span class="token comment"># 消除音效格式  </span>
    SCORE_LEVEL <span class="token operator">=</span> <span class="token punctuation">(</span>  
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'good.ogg'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 分数等级 "好"  </span>
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'great.ogg'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 分数等级 "很好"  </span>
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'amazing.ogg'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 分数等级 "惊人"  </span>
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'excellent.ogg'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 分数等级 "优秀"  </span>
        os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'unbelievable.ogg'</span><span class="token punctuation">)</span>  <span class="token comment"># 分数等级 "难以置信"  </span>
    <span class="token punctuation">)</span>  
    CLICK <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'click.bubble.ogg'</span><span class="token punctuation">)</span>  <span class="token comment"># 点击气泡音效  </span>
    BOARD_SOUND <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'board.ogg'</span><span class="token punctuation">)</span>  <span class="token comment"># 板子音效  </span>
    CLICK_BUTTON <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'click_common_button.ogg'</span><span class="token punctuation">)</span>  <span class="token comment"># 点击按钮音效  </span>
    MONEY <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'money.ogg'</span><span class="token punctuation">)</span>  <span class="token comment"># 金钱音效  </span>
    ICE_BREAKING <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>sound_basic<span class="token punctuation">,</span> <span class="token string">'ice_break.ogg'</span><span class="token punctuation">)</span>  <span class="token comment"># 冰块破碎音效  </span>
  
    <span class="token decorator annotation punctuation">@staticmethod</span>  
    <span class="token keyword">def</span> <span class="token function">eliminate</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""播放指定索引的消除音效"""</span>  
        Sound<span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>ELIMINATE_FORMAT<span class="token punctuation">.</span>value <span class="token operator">%</span> idx<span class="token punctuation">)</span><span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
    <span class="token decorator annotation punctuation">@staticmethod</span>  
    <span class="token keyword">def</span> <span class="token function">score_level</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token triple-quoted-string string">"""播放指定索引的分数等级音效"""</span>  
        Sound<span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>SCORE_LEVEL<span class="token punctuation">.</span>value<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token punctuation">)</span>  
  
  
<span class="token keyword">def</span> <span class="token function">play_sound</span><span class="token punctuation">(</span>sound<span class="token punctuation">:</span> Enum<span class="token punctuation">)</span><span class="token punctuation">:</span>  
    <span class="token triple-quoted-string string">"""播放指定声音，循环次数为1（即不循环）"""</span>  
    Sound<span class="token punctuation">(</span>sound<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span>play<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>完整代码：<a href="https://gitcode.com/stormsha1/games/overview">https://gitcode.com/stormsha1/games/overview</a><br> Python 爱心代码：<a href="https://stormsha.blog.csdn.net/article/details/138199890" rel="nofollow">https://stormsha.blog.csdn.net/article/details/138199890</a><br> Python 植物大战僵尸：<a href="https://stormsha.blog.csdn.net/article/details/138405944" rel="nofollow">https://stormsha.blog.csdn.net/article/details/138405944</a></p> 
<hr> 
<p>🔥🔥🔥道阻且长,行则将至,让我们一起加油吧！🌙🌙🌙</p> 
<div class="table-box"> 
 <table width="100%"><tbody><tr><td width="50%"> 
     <div align="center"> 
      <font color="#E73B3E"><em>💖The End💖点点关注，收藏不迷路💖<em></em></em></font> 
     </div> </td></tr></tbody></table> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fb35fb2587f6550b61882aee3bc1d5ad/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IP 分片过程及偏移量计算</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/681aba2dbee8d3633d79b1f003fcfd90/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">springboot项目使用validated参数校验框架</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端TypeScript学习day05-索引签名、映射与类型声明文件 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/68269934d57716d58df59984e2cd3a54/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="前端TypeScript学习day05-索引签名、映射与类型声明文件">
  <meta property="og:description" content="(创作不易，感谢有你，你的支持，就是我前行的最大动力，如果看完对你有帮助，请留下您的足迹）
目录
索引签名类型 映射类型
索引查询（访问）类型
基本使用 同时查询多个索引的类型 TypeScript 类型声明文件 概述
TS 的两种文件类型 类型声明文件的使用说明
使用已有的类型声明文件 内置类型声明文件
第三方库的类型声明文件
创建自己的类型声明文件
项目内共享类型
为已有 JS 文件提供类型声明。
索引签名类型 绝大多数情况下，我们都可以在使用对象前就确定对象的结构，并为对象添加准确的类型。 使用场景： 当无法确定对象中有哪些属性 （或者说对象中可以出现任意多个属性），此时， 就用到索引签名类型了 。 解释： 1. 使用 [key: string] 来约束该接口中允许出现的属性名称。表示只要是 string 类型的属性名称，都可以出现在对象中。 2. 这样，对象 obj 中就可以出现任意多个属性（比如，a、b 等）。 3. key 只是一个占位符 ，可以换成任意合法的变量名称。 4. 隐藏的前置知识： JS 中对象（{}）的键是 string 类型的 。 在 JS 中数组是一类特殊的对象，特殊在 数组的键（索引）是数值类型 。 并且，数组也可以出现任意多个元素。所以，在数组对应的泛型接口中，也用到了索引签名类型 解释： 1. MyArray 接口模拟原生的数组接口，并使用 [n: number] 来作为索引签名类型。 2. 该索引签名类型表示：只要是 number 类型的键（索引）都可以出现在数组中，或者说数组中可以有任意多个元素。 3.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-10-18T13:07:34+08:00">
    <meta property="article:modified_time" content="2023-10-18T13:07:34+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端TypeScript学习day05-索引签名、映射与类型声明文件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="color:#4da8ee;">(创作不易，感谢有你，你的支持，就是我前行的最大动力，如果看完对你有帮助，请留下您的足迹）</span></p> 
<p>          <img alt="" src="https://images2.imgbox.com/47/4c/rD9WiU3v_o.jpg"></p> 
<p> </p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E7%B4%A2%E5%BC%95%E7%AD%BE%E5%90%8D%E7%B1%BB%E5%9E%8B%C2%A0-toc" style="margin-left:0px;"><a href="#%E7%B4%A2%E5%BC%95%E7%AD%BE%E5%90%8D%E7%B1%BB%E5%9E%8B%C2%A0" rel="nofollow">索引签名类型 </a></p> 
<p id="%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B-toc" style="margin-left:0px;"><a href="#%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B" rel="nofollow">映射类型</a></p> 
<p id="%E7%B4%A2%E5%BC%95%E6%9F%A5%E8%AF%A2%EF%BC%88%E8%AE%BF%E9%97%AE%EF%BC%89%E7%B1%BB%E5%9E%8B-toc" style="margin-left:0px;"><a href="#%E7%B4%A2%E5%BC%95%E6%9F%A5%E8%AF%A2%EF%BC%88%E8%AE%BF%E9%97%AE%EF%BC%89%E7%B1%BB%E5%9E%8B" rel="nofollow">索引查询（访问）类型</a></p> 
<p id="%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%C2%A0-toc" style="margin-left:40px;"><a href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%C2%A0" rel="nofollow">基本使用 </a></p> 
<p id="%E5%90%8C%E6%97%B6%E6%9F%A5%E8%AF%A2%E5%A4%9A%E4%B8%AA%E7%B4%A2%E5%BC%95%E7%9A%84%E7%B1%BB%E5%9E%8B%C2%A0-toc" style="margin-left:40px;"><a href="#%E5%90%8C%E6%97%B6%E6%9F%A5%E8%AF%A2%E5%A4%9A%E4%B8%AA%E7%B4%A2%E5%BC%95%E7%9A%84%E7%B1%BB%E5%9E%8B%C2%A0" rel="nofollow">同时查询多个索引的类型 </a></p> 
<p id="TypeScript%20%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%C2%A0-toc" style="margin-left:0px;"><a href="#TypeScript%20%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%C2%A0" rel="nofollow">TypeScript 类型声明文件 </a></p> 
<p id="%E6%A6%82%E8%BF%B0-toc" style="margin-left:40px;"><a href="#%E6%A6%82%E8%BF%B0" rel="nofollow">概述</a></p> 
<p id="TS%20%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%C2%A0-toc" style="margin-left:40px;"><a href="#TS%20%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%C2%A0" rel="nofollow">TS 的两种文件类型 </a></p> 
<p id="%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E-toc" style="margin-left:40px;"><a href="#%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E" rel="nofollow">类型声明文件的使用说明</a></p> 
<p id="%E4%BD%BF%E7%94%A8%E5%B7%B2%E6%9C%89%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%C2%A0-toc" style="margin-left:80px;"><a href="#%E4%BD%BF%E7%94%A8%E5%B7%B2%E6%9C%89%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%C2%A0" rel="nofollow">使用已有的类型声明文件 </a></p> 
<p id="%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6-toc" style="margin-left:120px;"><a href="#%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6" rel="nofollow">内置类型声明文件</a></p> 
<p id="%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6-toc" style="margin-left:120px;"><a href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6" rel="nofollow">第三方库的类型声明文件</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6" rel="nofollow">创建自己的类型声明文件</a></p> 
<p id="%E9%A1%B9%E7%9B%AE%E5%86%85%E5%85%B1%E4%BA%AB%E7%B1%BB%E5%9E%8B-toc" style="margin-left:120px;"><a href="#%E9%A1%B9%E7%9B%AE%E5%86%85%E5%85%B1%E4%BA%AB%E7%B1%BB%E5%9E%8B" rel="nofollow">项目内共享类型</a></p> 
<p id="%E4%B8%BA%E5%B7%B2%E6%9C%89%20JS%20%E6%96%87%E4%BB%B6%E6%8F%90%E4%BE%9B%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E3%80%82-toc" style="margin-left:120px;"><a href="#%E4%B8%BA%E5%B7%B2%E6%9C%89%20JS%20%E6%96%87%E4%BB%B6%E6%8F%90%E4%BE%9B%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E3%80%82" rel="nofollow">为已有 JS 文件提供类型声明。</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E7%B4%A2%E5%BC%95%E7%AD%BE%E5%90%8D%E7%B1%BB%E5%9E%8B%C2%A0"><span style="color:#262626;"><strong>索引签名类型 </strong></span></h2> 
<blockquote> 
 <div> 
  <span style="color:#262626;">绝大多数情况下，我们都可以在使用对象前就确定对象的结构，并为对象添加准确的类型。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">使用场景：</span> 
  <span style="color:#ad2b26;">当无法确定对象中有哪些属性</span> 
  <span style="color:#262626;">（或者说对象中可以出现任意多个属性），此时，</span> 
  <span style="color:#ad2b26;">就用到索引签名类型了</span> 
  <span style="color:#262626;">。</span> 
 </div> 
 <div> 
  <img alt="" height="95" src="https://images2.imgbox.com/6b/b8/Ylfoh1u0_o.png" width="310"> 
 </div> 
 <div> 
  <img alt="" height="132" src="https://images2.imgbox.com/88/31/gf88Nb6P_o.png" width="310"> 
 </div> 
 <div> 
  <div> 
   <span style="color:#262626;">解释： </span> 
  </div> 
  <div> 
   <span style="color:#000000;">1. 使用 </span> 
   <span style="color:#ad2b26;">[key: string] </span> 
   <span style="color:#000000;">来约束该接口中允许出现的属性名称。表示只要是 string 类型的属性名称，都可以出现在对象中。 </span> 
  </div> 
  <div> 
   <span style="color:#000000;">2. 这样，对象 obj 中就可以出现任意多个属性（比如，a、b 等）。 </span> 
  </div> 
  <div> 
   <span style="color:#ad2b26;">3. key 只是一个占位符</span> 
   <span style="color:#000000;">，可以换成任意合法的变量名称。 </span> 
  </div> 
  <div> 
   <span style="color:#000000;">4. 隐藏的前置知识：</span> 
   <span style="color:#ad2b26;">JS 中对象（{}）的键是 string 类型的</span> 
   <span style="color:#000000;">。</span> 
  </div> 
 </div> 
</blockquote> 
<blockquote> 
 <div> 
  <span style="color:#262626;">在 JS 中数组是一类特殊的对象，特殊在</span> 
  <span style="color:#ad2b26;">数组的键（索引）是数值类型</span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">并且，数组也可以出现任意多个元素。所以，在数组对应的泛型接口中，也用到了索引签名类型</span> 
 </div> 
 <div> 
  <img alt="" height="249" src="https://images2.imgbox.com/20/4e/QSxGazaX_o.png" width="877"> 
 </div> 
 <div> 
  <div> 
   <span style="color:#262626;">解释： </span> 
  </div> 
  <div> 
   <span style="color:#000000;">1. MyArray 接口模拟原生的数组接口，并使用 </span> 
   <span style="color:#ad2b26;">[n: number] </span> 
   <span style="color:#000000;">来作为索引签名类型。 </span> 
  </div> 
  <div> 
   <span style="color:#000000;">2. 该索引签名类型表示：只要是 number 类型的键（索引）都可以出现在数组中，或者说数组中可以有任意多个元素。 </span> 
  </div> 
  <div> 
   <span style="color:#000000;">3. 同时也符合数组索引是 number 类型这一前提。</span> 
  </div> 
 </div> 
</blockquote> 
<h2 id="%E6%98%A0%E5%B0%84%E7%B1%BB%E5%9E%8B"><span style="color:#262626;"><strong>映射类型</strong></span></h2> 
<blockquote> 
 <div> 
  <span style="color:#ad2b26;">映射类型</span> 
  <span style="color:#262626;">：</span> 
  <span style="color:#ad2b26;">基于旧类型创建新类型（对象类型）</span> 
  <span style="color:#262626;">，减少重复、提升开发效率。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">比如，类型 PropKeys 有 x/y/z，另一个类型 Type1 中也有 x/y/z，并且 Type1 中 x/y/z 的类型相同：</span> 
 </div> 
 <div> 
  <img alt="" height="130" src="https://images2.imgbox.com/52/72/3xWWnMLV_o.png" width="1168"> 
 </div> 
 <div> 
  <div> 
   <span style="color:#262626;">这样书写没错，但 x/y/z 重复书写了两次。像这种情况，就可以使用映射类型来进行简化。</span> 
  </div> 
  <div> 
   <img alt="" height="122" src="https://images2.imgbox.com/43/b8/qsFasTO1_o.png" width="1013"> 
  </div> 
  <div> 
   <div> 
    <span style="color:#262626;">解释： </span> 
   </div> 
   <div> 
    <span style="color:#000000;">1. 映射类型是基于索引签名类型的，所以，该语法类似于索引签名类型，也使用了 </span> 
    <span style="color:#ad2b26;">[]</span> 
    <span style="color:#000000;">。 </span> 
   </div> 
   <div> 
    <span style="color:#ad2b26;">2. Key </span> 
    <span style="color:#ad2b26;"><strong>in </strong></span> 
    <span style="color:#ad2b26;">PropKeys </span> 
    <span style="color:#000000;">表示 Key 可以是 PropKeys 联合类型中的任意一个，类似于 forin(let k in obj)。 </span> 
   </div> 
   <div> 
    <span style="color:#000000;">3. 使用映射类型创建的新对象类型 Type2 和类型 Type1 结构完全相同。 </span> 
   </div> 
   <div> 
    <span style="color:#000000;">4. 注意：</span> 
    <span style="color:#ad2b26;">映射类型只能在类型别名中使用</span> 
    <span style="color:#000000;">，</span> 
    <span style="color:#ad2b26;">不能在接口中使用</span> 
   </div> 
  </div> 
 </div> 
</blockquote> 
<blockquote> 
 <p><span style="color:#ad2b26;">映射类型</span><span style="color:#262626;">除了根据联合类型创建新类型外，还可以根据对象类型来创建：</span></p> 
 <p><img alt="" height="125" src="https://images2.imgbox.com/b3/31/smLqHqUO_o.png" width="1200"></p> 
 <div> 
  <span style="color:#262626;">解释： </span> 
 </div> 
 <div> 
  <span style="color:#000000;">1. 首先，先执行 </span> 
  <span style="color:#ad2b26;">keyof Props </span> 
  <span style="color:#000000;">获取到对象类型 Props 中所有键的联合类型即，'a' | 'b' | 'c'。 </span> 
 </div> 
 <div> 
  <span style="color:#000000;">2. 然后，</span> 
  <span style="color:#ad2b26;">Key in ... </span> 
  <span style="color:#000000;">就表示 Key 可以是 Props 中所有的键名称中的任意一个。</span> 
 </div> 
 <div> 
  <img alt="" height="379" src="https://images2.imgbox.com/3b/37/9oT4UOGk_o.png" width="1189"> 
 </div> 
</blockquote> 
<blockquote> 
 <div> 
  <span style="color:#262626;">实际上，前面讲到的</span> 
  <span style="color:#ad2b26;">泛型工具类型</span> 
  <span style="color:#262626;">（比如，Partial&lt;Type&gt;）都</span> 
  <span style="color:#ad2b26;">是基于映射类型实现的</span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">比如，Partial&lt;Type&gt; 的实现：</span> 
 </div> 
 <div> 
  <img alt="" height="172" src="https://images2.imgbox.com/f7/ee/sS9pmEAL_o.png" width="572"> 
 </div> 
 <div> 
  <img alt="" height="130" src="https://images2.imgbox.com/7e/4b/iuY2LsaE_o.png" width="1200"> 
 </div> 
 <div> 
  <div> 
   <span style="color:#262626;">解释： </span> 
  </div> 
  <div> 
   <span style="color:#ad2b26;">1. keyof T </span> 
   <span style="color:#000000;">即 keyof Props 表示获取 Props 的所有键，也就是：'a' | 'b' | 'c'。 </span> 
  </div> 
  <div> 
   <span style="color:#000000;">2. 在 [] 后面添加 </span> 
   <span style="color:#ad2b26;">?</span> 
   <span style="color:#000000;">（问号），表示将这些属性变为</span> 
   <span style="color:#ad2b26;">可选</span> 
   <span style="color:#000000;">的，以此来实现 Partial 的功能。 </span> 
  </div> 
  <div> 
   <span style="color:#000000;">3. 冒号后面的 </span> 
   <span style="color:#ad2b26;">T[P] 表示获取 T 中每个键对应的类型</span> 
   <span style="color:#000000;">。比如，如果是 'a' 则类型是 number；如果是 'b' 则类型是 string。 </span> 
  </div> 
  <div> 
   <span style="color:#000000;">4. 最终，新类型 PartialProps 和旧类型 Props 结构完全相同，只是让所有类型都变为可选了</span> 
  </div> 
 </div> 
</blockquote> 
<h2 id="%E7%B4%A2%E5%BC%95%E6%9F%A5%E8%AF%A2%EF%BC%88%E8%AE%BF%E9%97%AE%EF%BC%89%E7%B1%BB%E5%9E%8B">索引查询（访问）类型</h2> 
<h3 id="%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%C2%A0">基本使用 </h3> 
<blockquote> 
 <div> 
  <span style="color:#262626;">刚刚用到的 </span> 
  <span style="color:#ad2b26;">T[P] </span> 
  <span style="color:#262626;">语法，在 TS 中叫做</span> 
  <span style="color:#ad2b26;">索引查询（访问）类型</span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">作用：</span> 
  <span style="color:#ad2b26;">用来查询属性的类型</span> 
  <span style="color:#262626;">。</span> 
 </div> 
 <div> 
  <img alt="" height="67" src="https://images2.imgbox.com/e9/d7/NbcVcvsM_o.png" width="1184"> 
 </div> 
 <div> 
  <img alt="" height="144" src="https://images2.imgbox.com/f3/a1/OEdkXYfY_o.png" width="633"> 
 </div> 
 <div> 
  <div> 
   <span style="color:#262626;">解释：</span> 
   <span style="color:#ad2b26;">Props['a'] </span> 
   <span style="color:#262626;">表示查询类型 Props 中属性 'a' 对应的类型 number。所以，TypeA 的类型为 number。 </span> 
  </div> 
  <div> 
   <span style="color:#262626;">注意：</span> 
   <span style="color:#ad2b26;">[] 中的属性必须存在于被查询类型中</span> 
   <span style="color:#262626;">，否则就会报错。</span> 
  </div> 
 </div> 
</blockquote> 
<h3 id="%E5%90%8C%E6%97%B6%E6%9F%A5%E8%AF%A2%E5%A4%9A%E4%B8%AA%E7%B4%A2%E5%BC%95%E7%9A%84%E7%B1%BB%E5%9E%8B%C2%A0">同时查询多个索引的类型 </h3> 
<blockquote> 
 <p><span style="color:#ad2b26;">索引查询类型</span><span style="color:#262626;">的其他使用方式：</span><span style="color:#ad2b26;">同时查询多个索引的类型</span></p> 
 <p><img alt="" height="77" src="https://images2.imgbox.com/5b/fc/n6GMySWA_o.png" width="1199"></p> 
 <p><img alt="" height="80" src="https://images2.imgbox.com/7b/f3/SWWVY33b_o.png" width="1172"></p> 
 <div> 
  <span style="color:#262626;">解释：使用字符串字面量的联合类型，获取属性 a 和 b 对应的类型，结果为： string | number。 </span> 
 </div> 
 <div> 
  <img alt="" height="62" src="https://images2.imgbox.com/78/ce/0NjgN2bZ_o.png" width="1200"> 
 </div> 
 <div> 
  <div> 
   <span style="color:#262626;">解释：使用 keyof 操作符获取 Props 中所有键对应的类型，结果为： string | number | boolean。</span> 
  </div> 
 </div> 
</blockquote> 
<h2 id="TypeScript%20%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%C2%A0">TypeScript 类型声明文件 </h2> 
<h3 id="%E6%A6%82%E8%BF%B0"><span style="color:#262626;"><strong>概述</strong></span></h3> 
<blockquote> 
 <div> 
  <span style="color:#262626;">今天几乎所有的 JavaScript 应用都会引入许多第三方库来完成任务需求。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">这些第三方库不管是否是用 TS 编写的，最终都要编译成 JS 代码，才能发布给开发者使用。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">我们知道是 TS 提供了类型，才有了代码提示和类型保护等机制。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">但在项目开发中使用第三方库时，你会发现它们几乎都有相应的 TS 类型，这些类型是怎么来的呢？</span> 
  <span style="color:#ad2b26;">类型声明文件 </span> 
 </div> 
 <div> 
  <span style="color:#ad2b26;">类型声明文件</span> 
  <span style="color:#262626;">：</span> 
  <span style="color:#ad2b26;">用来为已存在的 JS 库提供类型信息</span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">这样在 TS 项目中使用这些库时，就像用 TS 一样，都会有代码提示、类型保护等机制了。 </span> 
 </div> 
 <div> 
  <span style="color:#404040;">1. </span> 
  <span style="color:#262626;">TS 的两种文件类型 </span> 
 </div> 
 <div> 
  <span style="color:#404040;">2. </span> 
  <span style="color:#262626;">类型声明文件的使用说明</span> 
 </div> 
</blockquote> 
<h3 id="TS%20%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%C2%A0"><span style="color:#262626;">TS 的两种文件类型</span> </h3> 
<blockquote> 
 <div> 
  <span style="color:#262626;">TS 中有两种文件类型：1 </span> 
  <span style="color:#ad2b26;">.ts 文件 </span> 
  <span style="color:#262626;">2 </span> 
  <span style="color:#ad2b26;">.d.ts 文件</span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#262626;">.ts 文件： </span> 
 </div> 
 <div> 
  <span style="color:#ad2b26;">1. 既包含类型信息又可执行代码</span> 
  <span style="color:#000000;">。 </span> 
 </div> 
 <div> 
  <span style="color:#000000;">2. 可以被编译为 .js 文件，然后，执行代码。 </span> 
 </div> 
 <div> 
  <span style="color:#000000;">3. 用途：编写程序代码的地方。 </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#262626;">.d.ts 文件： </span> 
 </div> 
 <div> 
  <span style="color:#ad2b26;">1. 只包含类型信息</span> 
  <span style="color:#000000;">的类型声明文件。 </span> 
 </div> 
 <div> 
  <span style="color:#ad2b26;">2. 不会生成 .js 文件</span> 
  <span style="color:#000000;">，仅用于</span> 
  <span style="color:#ad2b26;">提供类型信息</span> 
  <span style="color:#000000;">。 </span> 
 </div> 
 <div> 
  <span style="color:#000000;">3. 用途：为 JS 提供类型信息</span> 
 </div> 
 <div></div> 
 <div> 
  <div> 
   <span style="color:#262626;">总结：</span> 
  </div> 
  <div> 
   <span style="color:#262626;">.ts 是 implementation（代码实现文件）；</span> 
  </div> 
  <div> 
   <span style="color:#262626;"><strong>.d.ts 是 declaration（类型声明文件）</strong></span> 
   <span style="color:#262626;">。 </span> 
  </div> 
  <div> 
   <span style="color:#262626;">如果要为 JS 库提供类型信息，要使用 .d.ts 文件。</span> 
  </div> 
 </div> 
</blockquote> 
<h3 id="%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E"><span style="color:#262626;">类型声明文件的使用说明</span></h3> 
<p></p> 
<blockquote> 
 <div> 
  <span style="color:#262626;">在使用 TS 开发项目时，</span> 
  <span style="color:#ad2b26;">类型声明文件的使用</span> 
  <span style="color:#262626;">包括以下两种方式： </span> 
 </div> 
 <div> 
  <span style="color:#404040;">1. </span> 
  <span style="color:#262626;">使用已有的类型声明文件 </span> 
 </div> 
 <div> 
  <span style="color:#404040;">2. </span> 
  <span style="color:#262626;">创建自己的类型声明文件 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">学习顺序：</span> 
  <span style="color:#ad2b26;">先会用</span> 
  <span style="color:#262626;">（别人的）</span> 
  <span style="color:#ad2b26;">再会写</span> 
  <span style="color:#262626;">（自己的）</span> 
 </div> 
</blockquote> 
<h4 id="%E4%BD%BF%E7%94%A8%E5%B7%B2%E6%9C%89%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%C2%A0">使用已有的类型声明文件 </h4> 
<h5 id="%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><span style="color:#262626;">内置类型声明文件 </span></h5> 
<p></p> 
<blockquote> 
 <div> 
  <span style="color:#262626;">内置类型声明文件：</span> 
  <span style="color:#262626;"><strong>TS 为 JS 运行时可用的所有标准化内置 API 都提供了声明文件</strong></span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">比如，在使用数组时，数组所有方法都会有相应的代码提示以及类型信息：</span> 
 </div> 
 <div> 
  <img alt="" height="129" src="https://images2.imgbox.com/8a/c7/z3DBirOK_o.png" width="1200"> 
 </div> 
 <div> 
  <div> 
   <span style="color:#262626;">实际上这都是 TS 提供的内置类型声明文件。 </span> 
  </div> 
  <div> 
   <span style="color:#262626;">可以通过 Ctrl + 鼠标左键（Mac：option + 鼠标左键）来查看内置类型声明文件内容。 </span> 
  </div> 
  <div> 
   <span style="color:#262626;">比如，查看 forEach 方法的类型声明，在 VSCode 中会自动跳转到 lib.es5</span> 
   <span style="color:#ad2b26;"><strong>.d.ts </strong></span> 
   <span style="color:#262626;">类型声明文件中。 </span> 
  </div> 
  <div> 
   <span style="color:#262626;">当然，像 window、document 等 BOM、DOM API 也都有相应的类型声明（lib.dom</span> 
   <span style="color:#ad2b26;"><strong>.d.ts</strong></span> 
   <span style="color:#262626;">）。</span> 
  </div> 
 </div> 
</blockquote> 
<h5 id="%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><span style="color:#262626;">第三方库的类型声明文件</span></h5> 
<blockquote> 
 <div> 
  <span style="color:#ad2b26;">第三方库的类型声明文件</span> 
  <span style="color:#262626;">：目前，几乎所有常用的第三方库都有相应的类型声明文件。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">第三方库的类型声明文件有两种存在形式：1 </span> 
  <span style="color:#ad2b26;">库自带类型声明文件 </span> 
  <span style="color:#262626;">2 </span> 
  <span style="color:#ad2b26;">由 DefinitelyTyped 提供</span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div> 
  <span style="color:#404040;">1. </span> 
  <span style="color:#262626;">库自带类型声明文件：比如，axios。 </span> 
 </div> 
 <div> 
  <img alt="" height="383" src="https://images2.imgbox.com/a0/8b/JP9T9R80_o.png" width="443"> 
 </div> 
 <div> 
  <span style="color:#262626;">解释：这种情况下，正常导入该库，</span> 
  <span style="color:#ad2b26;">TS 就会自动加载库自己的类型声明文件</span> 
  <span style="color:#262626;">，以提供该库的类型声明。</span> 
 </div> 
</blockquote> 
<blockquote> 
 <div> 
  <span style="color:#404040;">2. </span> 
  <span style="color:#ad2b26;">由 DefinitelyTyped 提供</span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div> 
  <span style="color:#0000ff;">DefinitelyTyped </span> 
  <span style="color:#262626;">是一个 github 仓库，</span> 
  <span style="color:#ad2b26;">用来提供高质量 TypeScript 类型声明</span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">可以通过 npm/yarn 来下载该仓库提供的 TS 类型声明包，这些包的名称格式为：</span> 
  <span style="color:#262626;"><strong>@types/*</strong></span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">比如，@types/react、@types/lodash 等。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">说明：在实际项目开发时，如果你使用的第三方库没有自带的声明文件，VSCode 会给出明确的提示。</span> 
  <img alt="" height="235" src="https://images2.imgbox.com/1f/cc/ALpkTNpD_o.png" width="1200"> 
 </div> 
 <div> 
  <div> 
   <span style="color:#262626;">解释：当安装 @types/* 类型声明包后，</span> 
   <span style="color:#ad2b26;">TS 也会自动加载该类声明包</span> 
   <span style="color:#262626;">，以提供该库的类型声明。 </span> 
  </div> 
  <div> 
   <span style="color:#262626;">补充：TS 官方文档提供了一个</span> 
   <span style="color:#0000ff;">页面</span> 
   <span style="color:#262626;">，可以来查询 @types/* 库。</span> 
  </div> 
 </div> 
</blockquote> 
<h4 id="%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6"><span style="color:#262626;">创建自己的类型声明文件</span></h4> 
<h5 id="%E9%A1%B9%E7%9B%AE%E5%86%85%E5%85%B1%E4%BA%AB%E7%B1%BB%E5%9E%8B">项目内共享类型</h5> 
<blockquote> 
 <div> 
  <span style="color:#404040;">1. </span> 
  <span style="color:#262626;">项目内共享类型：如果</span> 
  <span style="color:#ad2b26;">多个 .ts 文件</span> 
  <span style="color:#262626;">中都用到同一个类型，此时可以创建 </span> 
  <span style="color:#ad2b26;">.d.ts </span> 
  <span style="color:#262626;">文件提供该类型，</span> 
  <span style="color:#ad2b26;">实现类型共享</span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#262626;">操作步骤： </span> 
 </div> 
 <div> 
  <span style="color:#404040;">1. </span> 
  <span style="color:#262626;">创建 index</span> 
  <span style="color:#ad2b26;">.d.ts </span> 
  <span style="color:#262626;">类型声明文件。 </span> 
 </div> 
 <div> 
  <span style="color:#404040;">2. </span> 
  <span style="color:#262626;">创建需要共享的类型，并</span> 
  <span style="color:#ad2b26;">使用 export 导出</span> 
  <span style="color:#262626;">（TS 中的类型也可以使用 import/export 实现模块化功能）。 </span> 
 </div> 
 <div> 
  <span style="color:#404040;">3. </span> 
  <span style="color:#262626;">在需要使用共享类型的 .ts 文件中，通过 import 导入即可（.d.ts 后缀导入时，直接省略）。</span> 
 </div> 
</blockquote> 
<h5 id="%E4%B8%BA%E5%B7%B2%E6%9C%89%20JS%20%E6%96%87%E4%BB%B6%E6%8F%90%E4%BE%9B%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E3%80%82">为已有 JS 文件提供类型声明。</h5> 
<p></p> 
<blockquote> 
 <div> 
  <span style="color:#404040;">2. </span> 
  <span style="color:#ad2b26;">为已有 JS 文件提供类型声明</span> 
  <span style="color:#262626;">： </span> 
 </div> 
 <div> 
  <span style="color:#000000;">        1. 在</span> 
  <span style="color:#ad2b26;">将 JS 项目</span> 
  <span style="color:#0000ff;">迁移</span> 
  <span style="color:#ad2b26;">到 TS 项目</span> 
  <span style="color:#000000;">时，为了让已有的 .js 文件有类型声明。 </span> 
 </div> 
 <div> 
  <span style="color:#000000;">        2. 成为库作者，创建库给其他人使用。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">注意：</span> 
  <span style="color:#ad2b26;">类型声明文件的编写与模块化方式相关</span> 
  <span style="color:#262626;">，不同的模块化方式有不同的写法。但由于历史原因，JS 模块化的发展经历过多种变化（AMD、CommonJS、UMD、ESModule 等），而 TS 支持各种模块化形式的类型声明。这就导致类型声明文件</span> 
  <span style="color:#0000ff;">相关内容</span> 
  <span style="color:#262626;">又多又杂。 </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#262626;">演示：基于</span> 
  <span style="color:#ad2b26;">最新的 ESModule</span> 
  <span style="color:#262626;">（import/export）来为已有 .js 文件，创建类型声明文件。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">开发环境准备：使用 webpack 搭建，通过 </span> 
  <span style="color:#ad2b26;">ts-loader </span> 
  <span style="color:#262626;">处理 .ts 文件。</span> 
 </div> 
</blockquote> 
<blockquote> 
 <div> 
  <span style="color:#262626;">说明：TS 项目中也可以使用 .js 文件。 </span> 
 </div> 
 <div> 
  <span style="color:#262626;">说明：在导入 .js 文件时，</span> 
  <span style="color:#ad2b26;">TS 会自动加载与 .js 同名的 .d.ts 文件</span> 
  <span style="color:#262626;">，以提供类型声明。 </span> 
 </div> 
 <div> 
  <span style="color:#ad2b26;">declare </span> 
  <span style="color:#262626;">关键字：</span> 
  <span style="color:#ad2b26;">用于类型声明，为其他地方</span> 
  <span style="color:#262626;">（比如，</span> 
 </div> 
 <div> 
  <span style="color:#262626;">.js 文件）</span> 
  <span style="color:#ad2b26;">已存在的变量声明类型，而不是创建一个新的变量</span> 
  <span style="color:#262626;">。 </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#000000;">1. 对于 type、interface 等这些明确就是 TS 类型的（只能在 TS 中使用的），可以省略 declare 关键字。 </span> 
 </div> 
 <div> 
  <span style="color:#000000;">2. 对于 let、function 等具有双重含义（在 JS、TS 中都能用），应该使用 declare 关键字，明确指定此处用于类型声明。</span> 
 </div> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9cae95064c77e27f85659d9318c7af9b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">手把手带你用Python和文心一言搭建《AI看图写诗》网页项目（附上完整项目源码）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bd091c43c396af3bb0075bbe13f824ad/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">下载安装Microsoft ODBC Driver for SQL Server和配置SQL Server ODBC数据源</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
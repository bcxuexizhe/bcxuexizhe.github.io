<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C&#43;&#43;】一篇文章带你深入了解stack、queue 和 priority_queue - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/c7ef4dd1b72177a8e10896d2bb47a30c/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="【C&#43;&#43;】一篇文章带你深入了解stack、queue 和 priority_queue">
  <meta property="og:description" content="目录 一、stack的介绍和使用1.1 stack的介绍1.2 stack的使用1.2.1.1 [stack对象的构造](https://legacy.cplusplus.com/reference/stack/stack/stack/)1.2.1.2 stack对象的容量操作1.2.1.2.1 [empty()函数](https://legacy.cplusplus.com/reference/stack/stack/empty/)1.2.1.2.2 [size()函数](https://legacy.cplusplus.com/reference/stack/stack/size/) 1.2.1.3 stack对象的增删查改及访问1.2.1.3.1 [push()函数](https://legacy.cplusplus.com/reference/stack/stack/push/)1.2.1.3.2 [pop()函数](https://legacy.cplusplus.com/reference/stack/stack/pop/)1.2.1.3.3 [top()函数](https://legacy.cplusplus.com/reference/stack/stack/top/) 1.3 stack的模拟实现1.3.1 stack中 push 和 pop 的实现1.3.2 stack中 empty 、size 和 top 的实现1.3.3 stack 实现汇总及函数测试 二、queue的介绍和使用2.1 queue的介绍2.2 queue的使用2.2.1 [queue的构造函数](https://legacy.cplusplus.com/reference/queue/queue/queue/)2.2.2 queue对象的容量操作2.2.2.1 [empty()函数](https://legacy.cplusplus.com/reference/queue/queue/empty/)2.2.2.2 [size()函数](https://legacy.cplusplus.com/reference/queue/queue/size/) 2.2.3 queue对象的增删查改及访问2.2.3.1 [push()函数](https://legacy.cplusplus.com/reference/queue/queue/push/)2.2.3.2 [pop()函数](https://legacy.cplusplus.com/reference/queue/queue/pop/)2.2.3.3 [front()函数](https://legacy.cplusplus.com/reference/queue/queue/front/)2.2.3.4 [back()函数](https://legacy.cplusplus.com/reference/queue/queue/back/) 2.3 queue的模拟实现2.3.1 queue中 push 和 pop 的实现2.3.2 queue中 empty 和 size 的实现2.3.3 queue中 front 和 back 的实现2.3.4 queue 实现汇总及函数测试 三、priority_queue的介绍和使用3.1 priority_queue的介绍3.2 priority_queue的使用3.2.1 [priority_queue的构造函数](https://legacy.cplusplus.com/reference/queue/priority_queue/priority_queue/)3.2.2 priority_queue对象的容量操作3.2.2.1 [empty()函数](https://legacy.cplusplus.com/reference/queue/priority_queue/empty/)3.2.2.2 [size()函数](https://legacy.cplusplus.com/reference/queue/priority_queue/size/) 3.2.3 priority_queue对象的增删查改及访问3.2.3.1 [push()函数](https://legacy.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-01T12:42:01+08:00">
    <meta property="article:modified_time" content="2024-05-01T12:42:01+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C&#43;&#43;】一篇文章带你深入了解stack、queue 和 priority_queue</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/98/33/9ulkjmcH_o.gif" alt="在这里插入图片描述"></p> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#stack_6" rel="nofollow">一、stack的介绍和使用</a></li><li><ul><li><a href="#11_stack_7" rel="nofollow">1.1 stack的介绍</a></li><li><a href="#12_stack_16" rel="nofollow">1.2 stack的使用</a></li><li><ul><li><a href="#1211_stackhttpslegacycpluspluscomreferencestackstackstack_18" rel="nofollow">1.2.1.1 [stack对象的构造](https://legacy.cplusplus.com/reference/stack/stack/stack/)</a></li><li><a href="#1212_stack_25" rel="nofollow">1.2.1.2 stack对象的容量操作</a></li><li><ul><li><a href="#12121_emptyhttpslegacycpluspluscomreferencestackstackempty_27" rel="nofollow">1.2.1.2.1 [empty()函数](https://legacy.cplusplus.com/reference/stack/stack/empty/)</a></li><li><a href="#12122_sizehttpslegacycpluspluscomreferencestackstacksize_45" rel="nofollow">1.2.1.2.2 [size()函数](https://legacy.cplusplus.com/reference/stack/stack/size/)</a></li></ul> 
    </li><li><a href="#1213_stack_67" rel="nofollow">1.2.1.3 stack对象的增删查改及访问</a></li><li><ul><li><a href="#12131_pushhttpslegacycpluspluscomreferencestackstackpush_68" rel="nofollow">1.2.1.3.1 [push()函数](https://legacy.cplusplus.com/reference/stack/stack/push/)</a></li><li><a href="#12132_pophttpslegacycpluspluscomreferencestackstackpop_87" rel="nofollow">1.2.1.3.2 [pop()函数](https://legacy.cplusplus.com/reference/stack/stack/pop/)</a></li><li><a href="#12133_tophttpslegacycpluspluscomreferencestackstacktop_93" rel="nofollow">1.2.1.3.3 [top()函数](https://legacy.cplusplus.com/reference/stack/stack/top/)</a></li></ul> 
   </li></ul> 
   </li><li><a href="#13_stack_101" rel="nofollow">1.3 stack的模拟实现</a></li><li><ul><li><a href="#131_stack_push__pop__103" rel="nofollow">1.3.1 stack中 push 和 pop 的实现</a></li><li><a href="#132_stack_empty_size__top__129" rel="nofollow">1.3.2 stack中 empty 、size 和 top 的实现</a></li><li><a href="#133_stack__165" rel="nofollow">1.3.3 stack 实现汇总及函数测试</a></li></ul> 
  </li></ul> 
  </li><li><a href="#queue_235" rel="nofollow">二、queue的介绍和使用</a></li><li><ul><li><a href="#21_queue_236" rel="nofollow">2.1 queue的介绍</a></li><li><a href="#22_queue_244" rel="nofollow">2.2 queue的使用</a></li><li><ul><li><a href="#221_queuehttpslegacycpluspluscomreferencequeuequeuequeue_246" rel="nofollow">2.2.1 [queue的构造函数](https://legacy.cplusplus.com/reference/queue/queue/queue/)</a></li><li><a href="#222_queue_262" rel="nofollow">2.2.2 queue对象的容量操作</a></li><li><ul><li><a href="#2221_emptyhttpslegacycpluspluscomreferencequeuequeueempty_263" rel="nofollow">2.2.2.1 [empty()函数](https://legacy.cplusplus.com/reference/queue/queue/empty/)</a></li><li><a href="#2222_sizehttpslegacycpluspluscomreferencequeuequeuesize_282" rel="nofollow">2.2.2.2 [size()函数](https://legacy.cplusplus.com/reference/queue/queue/size/)</a></li></ul> 
    </li><li><a href="#223_queue_303" rel="nofollow">2.2.3 queue对象的增删查改及访问</a></li><li><ul><li><a href="#2231_pushhttpslegacycpluspluscomreferencequeuequeuepush_304" rel="nofollow">2.2.3.1 [push()函数](https://legacy.cplusplus.com/reference/queue/queue/push/)</a></li><li><a href="#2232_pophttpslegacycpluspluscomreferencequeuequeuepop_324" rel="nofollow">2.2.3.2 [pop()函数](https://legacy.cplusplus.com/reference/queue/queue/pop/)</a></li><li><a href="#2233_fronthttpslegacycpluspluscomreferencequeuequeuefront_347" rel="nofollow">2.2.3.3 [front()函数](https://legacy.cplusplus.com/reference/queue/queue/front/)</a></li><li><a href="#2234_backhttpslegacycpluspluscomreferencequeuequeueback_377" rel="nofollow">2.2.3.4 [back()函数](https://legacy.cplusplus.com/reference/queue/queue/back/)</a></li></ul> 
   </li></ul> 
   </li><li><a href="#23_queue_385" rel="nofollow">2.3 queue的模拟实现</a></li><li><ul><li><a href="#231_queue_push__pop__387" rel="nofollow">2.3.1 queue中 push 和 pop 的实现</a></li><li><a href="#232_queue_empty__size__412" rel="nofollow">2.3.2 queue中 empty 和 size 的实现</a></li><li><a href="#233_queue_front__back__438" rel="nofollow">2.3.3 queue中 front 和 back 的实现</a></li><li><a href="#234_queue__476" rel="nofollow">2.3.4 queue 实现汇总及函数测试</a></li></ul> 
  </li></ul> 
  </li><li><a href="#priority_queue_556" rel="nofollow">三、priority_queue的介绍和使用</a></li><li><ul><li><a href="#31_priority_queue_557" rel="nofollow">3.1 priority_queue的介绍</a></li><li><a href="#32_priority_queue_568" rel="nofollow">3.2 priority_queue的使用</a></li><li><ul><li><a href="#321_priority_queuehttpslegacycpluspluscomreferencequeuepriority_queuepriority_queue_572" rel="nofollow">3.2.1 [priority_queue的构造函数](https://legacy.cplusplus.com/reference/queue/priority_queue/priority_queue/)</a></li><li><a href="#322_priority_queue_605" rel="nofollow">3.2.2 priority_queue对象的容量操作</a></li><li><ul><li><a href="#3221_emptyhttpslegacycpluspluscomreferencequeuepriority_queueempty_606" rel="nofollow">3.2.2.1 [empty()函数](https://legacy.cplusplus.com/reference/queue/priority_queue/empty/)</a></li><li><a href="#3222_sizehttpslegacycpluspluscomreferencequeuepriority_queuesize_626" rel="nofollow">3.2.2.2 [size()函数](https://legacy.cplusplus.com/reference/queue/priority_queue/size/)</a></li></ul> 
    </li><li><a href="#323_priority_queue_632" rel="nofollow">3.2.3 priority_queue对象的增删查改及访问</a></li><li><ul><li><a href="#3231_pushhttpslegacycpluspluscomreferencequeuepriority_queuepush_633" rel="nofollow">3.2.3.1 [push()函数](https://legacy.cplusplus.com/reference/queue/priority_queue/push/)</a></li><li><a href="#3232_pophttpslegacycpluspluscomreferencequeuepriority_queuepop_654" rel="nofollow">3.2.3.2 [pop()函数](https://legacy.cplusplus.com/reference/queue/priority_queue/pop/)</a></li><li><a href="#3233_tophttpslegacycpluspluscomreferencequeuepriority_queuetop_661" rel="nofollow">3.2.3.3 [top()函数](https://legacy.cplusplus.com/reference/queue/priority_queue/top/)</a></li></ul> 
   </li></ul> 
   </li><li><a href="#33_priority_queue_690" rel="nofollow">3.3 priority_queue的模拟实现</a></li><li><ul><li><a href="#331_priority_queue______692" rel="nofollow">3.3.1 priority_queue 中 向上调整函数 和 向下调整函数 的实现</a></li><li><a href="#332_priority_queue_____773" rel="nofollow">3.3.2 priority_queue 中 无参构造函数 和 迭代器区间构造函数的实现</a></li><li><a href="#333_priority_queue__push__pop__803" rel="nofollow">3.3.3 priority_queue 中 push 和 pop 的实现</a></li><li><a href="#334_priority_queue__empty_size__top__834" rel="nofollow">3.3.4 priority_queue 中 empty 、size 和 top 的实现</a></li><li><a href="#335_priority_queue__867" rel="nofollow">3.3.5 priority_queue 实现汇总及函数测试</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_1026" rel="nofollow">四、容器适配器</a></li><li><ul><li><a href="#41__1027" rel="nofollow">4.1 什么是适配器</a></li><li><a href="#42_STLstackqueue_1034" rel="nofollow">4.2 STL标准库中stack和queue的底层结构</a></li><li><a href="#43_deque_1039" rel="nofollow">4.3 deque的简单介绍</a></li><li><ul><li><a href="#431_deque_1040" rel="nofollow">4.3.1 deque的原理介绍</a></li><li><a href="#432_deque_1053" rel="nofollow">4.3.2 deque的缺陷</a></li></ul> 
   </li><li><a href="#44_dequestackqueue_1060" rel="nofollow">4.4 为什么选择deque作为stack和queue的底层默认容器</a></li></ul> 
  </li><li><a href="#_1070" rel="nofollow">结尾</a></li></ul> 
</div> 
<p></p> 
<h2><a id="stack_6"></a>一、stack的介绍和使用</h2> 
<h3><a id="11_stack_7"></a>1.1 stack的介绍</h3> 
<p><a href="https://legacy.cplusplus.com/reference/stack/stack/" rel="nofollow">stack的介绍文档</a></p> 
<ol><li><code>stack</code>是一种<strong>容器适配器</strong>，专门用在具有LIFO(后进先出)操作的上下文环境中，其删除只能从容器的一端进行元素的插入与提取操作。</li><li><code>stack</code>是作为<strong>容器适配器</strong>被实现的，容器适配器即是对特定类封装作为其底层的容器，并提供一组特定的成员函数来访问其元素，将特定类作为其底层的，元素特定容器的尾部(即栈顶)被压入和弹出。</li><li><code>stack</code>的底层容器可以是任何标准的容器类模板或者一些其他特定的容器类。</li><li>标准容器<code>vector、deque、list</code>均符合这些需求，默认情况下，如果没有为<code>stack</code>指定特定的底层容器，默认情况下使用<code>deque</code>。</li></ol> 
<hr> 
<h3><a id="12_stack_16"></a>1.2 stack的使用</h3> 
<h4><a id="1211_stackhttpslegacycpluspluscomreferencestackstackstack_18"></a>1.2.1.1 <a href="https://legacy.cplusplus.com/reference/stack/stack/stack/" rel="nofollow">stack对象的构造</a></h4> 
<pre><code>stack();   构造空栈
</code></pre> 
<p><img src="https://images2.imgbox.com/72/f6/NapQ5gCc_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="1212_stack_25"></a>1.2.1.2 stack对象的容量操作</h4> 
<h5><a id="12121_emptyhttpslegacycpluspluscomreferencestackstackempty_27"></a>1.2.1.2.1 <a href="https://legacy.cplusplus.com/reference/stack/stack/empty/" rel="nofollow">empty()函数</a></h5> 
<pre><code>bool empty() const;		判断是否为空
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> st<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> st<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> st<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/0c/a7/7qQaODYf_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h5><a id="12122_sizehttpslegacycpluspluscomreferencestackstacksize_45"></a>1.2.1.2.2 <a href="https://legacy.cplusplus.com/reference/stack/stack/size/" rel="nofollow">size()函数</a></h5> 
<pre><code>size_type size() const;      获取元素个数
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> st<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> st<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> st<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/27/23/5imnRbQP_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="1213_stack_67"></a>1.2.1.3 stack对象的增删查改及访问</h4> 
<h5><a id="12131_pushhttpslegacycpluspluscomreferencestackstackpush_68"></a>1.2.1.3.1 <a href="https://legacy.cplusplus.com/reference/stack/stack/push/" rel="nofollow">push()函数</a></h5> 
<pre><code>void push (const value_type&amp; val);  	入栈
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> st<span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/38/ea/1UXOdecp_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h5><a id="12132_pophttpslegacycpluspluscomreferencestackstackpop_87"></a>1.2.1.3.2 <a href="https://legacy.cplusplus.com/reference/stack/stack/pop/" rel="nofollow">pop()函数</a></h5> 
<pre><code>void pop();	  出栈
</code></pre> 
<p><img src="https://images2.imgbox.com/18/36/aO21mZUZ_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h5><a id="12133_tophttpslegacycpluspluscomreferencestackstacktop_93"></a>1.2.1.3.3 <a href="https://legacy.cplusplus.com/reference/stack/stack/top/" rel="nofollow">top()函数</a></h5> 
<pre><code>访问栈顶元素
	  value_type&amp; top();
const value_type&amp; top() const;
</code></pre> 
<p><img src="https://images2.imgbox.com/8a/da/uHvJOGlC_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h3><a id="13_stack_101"></a>1.3 stack的模拟实现</h3> 
<h4><a id="131_stack_push__pop__103"></a>1.3.1 stack中 push 和 pop 的实现</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> deque<span class="token operator">&lt;</span>T<span class="token operator">&gt;&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">stack</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _con<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _con<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">private</span><span class="token operator">:</span>
        Container _con<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h4><a id="132_stack_empty_size__top__129"></a>1.3.2 stack中 empty 、size 和 top 的实现</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> deque<span class="token operator">&lt;</span>T<span class="token operator">&gt;&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">stack</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        T<span class="token operator">&amp;</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">private</span><span class="token operator">:</span>
        Container _con<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h4><a id="133_stack__165"></a>1.3.3 stack 实现汇总及函数测试</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> deque<span class="token operator">&lt;</span>T<span class="token operator">&gt;&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">stack</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token function">stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _con<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _con<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        T<span class="token operator">&amp;</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">private</span><span class="token operator">:</span>
        Container _con<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">test_Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    aj<span class="token double-colon punctuation">::</span>stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> st<span class="token punctuation">;</span>

    st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    st<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>st<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"top:"</span> <span class="token operator">&lt;&lt;</span> st<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"    "</span><span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"size:"</span> <span class="token operator">&lt;&lt;</span> st<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"    "</span><span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"empty:"</span> <span class="token operator">&lt;&lt;</span> st<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
        st<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h2><a id="queue_235"></a>二、queue的介绍和使用</h2> 
<h3><a id="21_queue_236"></a>2.1 queue的介绍</h3> 
<p><a href="https://legacy.cplusplus.com/reference/queue/queue/" rel="nofollow">queue的介绍文档</a></p> 
<ol><li>队列是一种<strong>容器适配器</strong>，专门用于在FIFO上下文(先进先出)中操作，其中从容器一端插入元素，另一端提取元素。</li><li>队列作为容器适配器实现，容器适配器即将特定容器类封装作为其底层容器类，<strong>queue</strong>提供一组特定的成员函数来访问其元素。元素从队尾入队列，从队头出队列。</li><li>底层容器可以是标准容器类模板之一，也可以是其他专门设计的容器类。</li><li>标准容器类deque和list满足了这些要求。默认情况下，如果没有为queue实例化指定容器类，则使用标准容器deque。</li></ol> 
<hr> 
<h3><a id="22_queue_244"></a>2.2 queue的使用</h3> 
<h4><a id="221_queuehttpslegacycpluspluscomreferencequeuequeuequeue_246"></a>2.2.1 <a href="https://legacy.cplusplus.com/reference/queue/queue/queue/" rel="nofollow">queue的构造函数</a></h4> 
<pre><code>queue();	  构造空队列
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/02/ec/Gr9GSaMw_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="222_queue_262"></a>2.2.2 queue对象的容量操作</h4> 
<h5><a id="2221_emptyhttpslegacycpluspluscomreferencequeuequeueempty_263"></a>2.2.2.1 <a href="https://legacy.cplusplus.com/reference/queue/queue/empty/" rel="nofollow">empty()函数</a></h5> 
<pre><code>bool empty() const;	  判断是否为空
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ec/b3/rkp3kGxr_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h5><a id="2222_sizehttpslegacycpluspluscomreferencequeuequeuesize_282"></a>2.2.2.2 <a href="https://legacy.cplusplus.com/reference/queue/queue/size/" rel="nofollow">size()函数</a></h5> 
<pre><code>size_type size() const;	  获取元素个数
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	cout <span class="token operator">&lt;&lt;</span> q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/fa/57/jt2njXcu_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="223_queue_303"></a>2.2.3 queue对象的增删查改及访问</h4> 
<h5><a id="2231_pushhttpslegacycpluspluscomreferencequeuequeuepush_304"></a>2.2.3.1 <a href="https://legacy.cplusplus.com/reference/queue/queue/push/" rel="nofollow">push()函数</a></h5> 
<pre><code>void push (const value_type&amp; val);	  入队列
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/4d/53/ccI5duWh_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h5><a id="2232_pophttpslegacycpluspluscomreferencequeuequeuepop_324"></a>2.2.3.2 <a href="https://legacy.cplusplus.com/reference/queue/queue/pop/" rel="nofollow">pop()函数</a></h5> 
<pre><code>void pop();	  出队列
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3d/c9/p8sKCxEI_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h5><a id="2233_fronthttpslegacycpluspluscomreferencequeuequeuefront_347"></a>2.2.3.3 <a href="https://legacy.cplusplus.com/reference/queue/queue/front/" rel="nofollow">front()函数</a></h5> 
<pre><code>返回队头的元素
	  value_type&amp; front();
const value_type&amp; front() const;
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
		q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5d/a7/0ogLRnke_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h5><a id="2234_backhttpslegacycpluspluscomreferencequeuequeueback_377"></a>2.2.3.4 <a href="https://legacy.cplusplus.com/reference/queue/queue/back/" rel="nofollow">back()函数</a></h5> 
<pre><code>返回队尾的元素
	  value_type&amp; back();
const value_type&amp; back() const;
</code></pre> 
<p><img src="https://images2.imgbox.com/6e/45/1ubglcAh_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h3><a id="23_queue_385"></a>2.3 queue的模拟实现</h3> 
<h4><a id="231_queue_push__pop__387"></a>2.3.1 queue中 push 和 pop 的实现</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> deque<span class="token operator">&lt;</span>T<span class="token operator">&gt;&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">queue</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _con<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _con<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">private</span><span class="token operator">:</span>
        Container _con<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h4><a id="232_queue_empty__size__412"></a>2.3.2 queue中 empty 和 size 的实现</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> deque<span class="token operator">&lt;</span>T<span class="token operator">&gt;&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">queue</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">private</span><span class="token operator">:</span>
        Container _con<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h4><a id="233_queue_front__back__438"></a>2.3.3 queue中 front 和 back 的实现</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> deque<span class="token operator">&lt;</span>T<span class="token operator">&gt;&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">queue</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        T<span class="token operator">&amp;</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        T<span class="token operator">&amp;</span> <span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">private</span><span class="token operator">:</span>
        Container _con<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<hr> 
<h4><a id="234_queue__476"></a>2.3.4 queue 实现汇总及函数测试</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> deque<span class="token operator">&lt;</span>T<span class="token operator">&gt;&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">queue</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token function">queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _con<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            _con<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        T<span class="token operator">&amp;</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        T<span class="token operator">&amp;</span> <span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _con<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">private</span><span class="token operator">:</span>
        Container _con<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">test_Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    aj<span class="token double-colon punctuation">::</span>queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> qu<span class="token punctuation">;</span>

    qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    qu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>qu<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"front:"</span> <span class="token operator">&lt;&lt;</span> qu<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"    "</span><span class="token punctuation">;</span>
        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"back:"</span> <span class="token operator">&lt;&lt;</span> qu<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

        qu<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<h2><a id="priority_queue_556"></a>三、priority_queue的介绍和使用</h2> 
<h3><a id="31_priority_queue_557"></a>3.1 priority_queue的介绍</h3> 
<p><a href="https://legacy.cplusplus.com/reference/queue/priority_queue/" rel="nofollow">priority_queue的介绍文档</a></p> 
<ol><li>优先队列是一种容器适配器，根据严格的弱排序标准，它的第一个元素总是它所包含的元素中最大的。</li><li>此上下文类似于堆，在堆中可以随时插入元素，并且只能检索最大堆元素(优先队列中位于顶部的元素)。</li><li>优先队列被实现为容器适配器，容器适配器即将特定容器类封装作为其底层容器类，<code>priority_queue</code>提供一组特定的成员函数来访问其元素。元素从特定容器的“尾部”弹出，其称为优先队列的顶部。</li><li>底层容器可以是任何标准容器类模板，也可以是其他特定设计的容器类。</li><li>标准容器类<code>vector</code>和<code>deque</code>满足这些需求。默认情况下，如果没有为特定的<code>priority_queue</code>类实例化指定容器类，则使用<code>vector</code>。</li><li>需要支持随机访问迭代器，以便始终在内部保持堆结构。容器适配器通过在需要时自动调用算法函数<code>make_heap、push_heap和pop_heap</code>来自动完成此操作。</li></ol> 
<hr> 
<h3><a id="32_priority_queue_568"></a>3.2 priority_queue的使用</h3> 
<p>优先级队列默认使用vector作为其底层存储数据的容器，在vector上又使用了堆算法将<code>vector</code>中元素构造成堆的结构，因此<code>priority_queue</code>就是堆，所有需要用到堆的位置，都可以考虑使用<code>priority_queue</code>。注意：默认情况下<code>priority_queue</code>是大堆。</p> 
<hr> 
<h4><a id="321_priority_queuehttpslegacycpluspluscomreferencequeuepriority_queuepriority_queue_572"></a>3.2.1 <a href="https://legacy.cplusplus.com/reference/queue/priority_queue/priority_queue/" rel="nofollow">priority_queue的构造函数</a></h4> 
<pre><code>构造一个空的优先级队列
priority_queue (const Compare&amp; comp = Compare(),
                     const Container&amp; ctnr = Container());
                     
构造并使用默认的比较函数和底层容器类型来初始化优先队列
template &lt;class InputIterator&gt;
         priority_queue (InputIterator first, InputIterator last,
                         const Compare&amp; comp = Compare(),
                         const Container&amp; ctnr = Container());
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> pq<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	string <span class="token function">s</span><span class="token punctuation">(</span><span class="token string">"Love"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">pq</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/56/76/F2WQyJUi_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/2b/db/zx5RJ7GA_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="322_priority_queue_605"></a>3.2.2 priority_queue对象的容量操作</h4> 
<h5><a id="3221_emptyhttpslegacycpluspluscomreferencequeuepriority_queueempty_606"></a>3.2.2.1 <a href="https://legacy.cplusplus.com/reference/queue/priority_queue/empty/" rel="nofollow">empty()函数</a></h5> 
<pre><code>bool empty() const;	  判断是否为空
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> pq<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> pq<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	pq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> pq<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/bb/cf/90NpfHBy_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h5><a id="3222_sizehttpslegacycpluspluscomreferencequeuepriority_queuesize_626"></a>3.2.2.2 <a href="https://legacy.cplusplus.com/reference/queue/priority_queue/size/" rel="nofollow">size()函数</a></h5> 
<pre><code>size_type size() const;	  获取元素个数
</code></pre> 
<p><img src="https://images2.imgbox.com/0a/64/vDrZyXXB_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="323_priority_queue_632"></a>3.2.3 priority_queue对象的增删查改及访问</h4> 
<h5><a id="3231_pushhttpslegacycpluspluscomreferencequeuepriority_queuepush_633"></a>3.2.3.1 <a href="https://legacy.cplusplus.com/reference/queue/priority_queue/push/" rel="nofollow">push()函数</a></h5> 
<pre><code>void push (const value_type&amp; val);	  
向优先级队列中插入一个元素val
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> pq<span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		pq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/90/32/2se5JRRv_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h5><a id="3232_pophttpslegacycpluspluscomreferencequeuepriority_queuepop_654"></a>3.2.3.2 <a href="https://legacy.cplusplus.com/reference/queue/priority_queue/pop/" rel="nofollow">pop()函数</a></h5> 
<pre><code>void pop();	 
删除优先级队列中最大(最小)元素，即堆顶元素
</code></pre> 
<p><img src="https://images2.imgbox.com/ff/0d/EVwDLQNw_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h5><a id="3233_tophttpslegacycpluspluscomreferencequeuepriority_queuetop_661"></a>3.2.3.3 <a href="https://legacy.cplusplus.com/reference/queue/priority_queue/top/" rel="nofollow">top()函数</a></h5> 
<pre><code>const value_type&amp; top() const;
返回优先级队列中最大(最小)元素，即堆顶元素
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> pq<span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		pq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>pq<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		cout <span class="token operator">&lt;&lt;</span> pq<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
		pq<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/17/b9/DFq6pdtN_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h3><a id="33_priority_queue_690"></a>3.3 priority_queue的模拟实现</h3> 
<h4><a id="331_priority_queue______692"></a>3.3.1 priority_queue 中 向上调整函数 和 向下调整函数 的实现</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">less</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x1<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span> x2<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> x1 <span class="token operator">&lt;</span> x2<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">greater</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x1<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span> x2<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> x1 <span class="token operator">&gt;</span> x2<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Compare</span> <span class="token operator">=</span> less<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">priority_queue</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token keyword">void</span> <span class="token function">adjust_up</span><span class="token punctuation">(</span><span class="token keyword">int</span> child<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">comp</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>parent<span class="token punctuation">]</span> <span class="token punctuation">,</span> c<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token function">swap</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    child <span class="token operator">=</span> parent<span class="token punctuation">;</span>
                    parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">adjust_down</span><span class="token punctuation">(</span><span class="token keyword">int</span> parent<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            size_t child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&lt;</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>child <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">comp</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token punctuation">,</span> c<span class="token punctuation">[</span>child <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    child<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token comment">// if (c[parent] &lt; c[child])</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">comp</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>parent<span class="token punctuation">]</span> <span class="token punctuation">,</span> c<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token function">swap</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    parent <span class="token operator">=</span> child<span class="token punctuation">;</span>
                    child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">private</span><span class="token operator">:</span>
        Container c<span class="token punctuation">;</span>
        Compare comp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h4><a id="332_priority_queue_____773"></a>3.3.2 priority_queue 中 无参构造函数 和 迭代器区间构造函数的实现</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span> 
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Compare</span> <span class="token operator">=</span> less<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">priority_queue</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token function">priority_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">InputIterator</span><span class="token operator">&gt;</span>
        <span class="token function">priority_queue</span><span class="token punctuation">(</span>InputIterator first<span class="token punctuation">,</span> InputIterator last<span class="token punctuation">)</span>
            <span class="token operator">:</span><span class="token function">c</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span> last<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">adjust_up</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">private</span><span class="token operator">:</span>
        Container c<span class="token punctuation">;</span>
        Compare comp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h4><a id="333_priority_queue__push__pop__803"></a>3.3.3 priority_queue 中 push 和 pop 的实现</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Compare</span> <span class="token operator">=</span> less<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">priority_queue</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>

        <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            c<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">adjust_up</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">swap</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">[</span>c<span class="token punctuation">,</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            c<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">adjust_down</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">private</span><span class="token operator">:</span>
        Container c<span class="token punctuation">;</span>
        Compare comp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h4><a id="334_priority_queue__empty_size__top__834"></a>3.3.4 priority_queue 中 empty 、size 和 top 的实现</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Compare</span> <span class="token operator">=</span> less<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">priority_queue</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> c<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">private</span><span class="token operator">:</span>
        Container c<span class="token punctuation">;</span>
        Compare comp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h4><a id="335_priority_queue__867"></a>3.3.5 priority_queue 实现汇总及函数测试</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;functional&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> aj
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">less</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x1<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span> x2<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> x1 <span class="token operator">&lt;</span> x2<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">greater</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x1<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span> x2<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> x1 <span class="token operator">&gt;</span> x2<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token operator">=</span> vector<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">Compare</span> <span class="token operator">=</span> less<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">&gt;</span>
    <span class="token keyword">class</span> <span class="token class-name">priority_queue</span>
    <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span><span class="token operator">:</span>
        <span class="token function">priority_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
        <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">InputIterator</span><span class="token operator">&gt;</span>
        <span class="token function">priority_queue</span><span class="token punctuation">(</span>InputIterator first<span class="token punctuation">,</span> InputIterator last<span class="token punctuation">)</span>
            <span class="token operator">:</span><span class="token function">c</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span>last<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token function">adjust_up</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> c<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> T<span class="token operator">&amp;</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">adjust_up</span><span class="token punctuation">(</span><span class="token keyword">int</span> child<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">comp</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>parent<span class="token punctuation">]</span> <span class="token punctuation">,</span> c<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token function">swap</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    child <span class="token operator">=</span> parent<span class="token punctuation">;</span>
                    parent <span class="token operator">=</span> <span class="token punctuation">(</span>child <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">adjust_down</span><span class="token punctuation">(</span><span class="token keyword">int</span> parent<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            size_t child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>child <span class="token operator">&lt;</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>child <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">comp</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token punctuation">,</span> c<span class="token punctuation">[</span>child <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    child<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token comment">// if (c[parent] &lt; c[child])</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">comp</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>parent<span class="token punctuation">]</span> <span class="token punctuation">,</span> c<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token function">swap</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span>child<span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">[</span>parent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    parent <span class="token operator">=</span> child<span class="token punctuation">;</span>
                    child <span class="token operator">=</span> parent <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> x<span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            c<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">adjust_up</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token function">swap</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">[</span>c<span class="token punctuation">,</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            c<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">adjust_down</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token keyword">private</span><span class="token operator">:</span>
        Container c<span class="token punctuation">;</span>
        Compare comp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">test_priority_queue1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> pq<span class="token punctuation">;</span>
        pq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>pq<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// cout &lt;&lt; pq.size() &lt;&lt; ' ';</span>

            cout <span class="token operator">&lt;&lt;</span> pq<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
            pq<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">test_priority_queue2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        string <span class="token function">s</span><span class="token punctuation">(</span><span class="token string">"I Love You"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">pq</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>pq<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// cout &lt;&lt; pq.size() &lt;&lt; ' ';</span>

            cout <span class="token operator">&lt;&lt;</span> pq<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>
            pq<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<hr> 
<h2><a id="_1026"></a>四、容器适配器</h2> 
<h3><a id="41__1027"></a>4.1 什么是适配器</h3> 
<p><strong>适配器是一种设计模式</strong>(设计模式是一套被反复使用的、多数人知晓的、经过分类编目的、代码设计经验的总结)，<strong>该种模式是将一个类的接口转换成客户希望的另外一个接口</strong>。</p> 
<p><img src="https://images2.imgbox.com/a5/5e/r6u7ViFi_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h3><a id="42_STLstackqueue_1034"></a>4.2 STL标准库中stack和queue的底层结构</h3> 
<p>虽然<code>stack</code>和<code>queue</code>中也可以存放元素，但在STL中并没有将其划分在容器的行列，而是将其称为容器适配器，这是因为<code>stack</code>和队列只是对其他容器的接口进行了包装，STL中<code>stack</code>和<code>queue</code>默认使用<code>deque</code>，比如：<br> <img src="https://images2.imgbox.com/73/8c/oKcEZkKN_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h3><a id="43_deque_1039"></a>4.3 deque的简单介绍</h3> 
<h4><a id="431_deque_1040"></a>4.3.1 deque的原理介绍</h4> 
<p><strong>deque(双端队列)：是一种双开口的"连续"空间的数据结构</strong>，双开口的含义是：可以在头尾两端进行插入和删除操作，且时间复杂度为O(1)，与vector比较，头插效率高，不需要搬移元素；与list比较，空间利用率比较高。</p> 
<p><img src="https://images2.imgbox.com/8d/bb/c33UpVrF_o.png" alt="在这里插入图片描述"><br> <strong>deque并不是真正连续的空间，而是由一段段连续的小空间拼接而成的，实际deque类似于一个动态的二维数组</strong>，其底层结构如下图所示：<br> <img src="https://images2.imgbox.com/99/62/GyulopVr_o.png" alt="在这里插入图片描述"><br> <strong>双端队列底层是一段假象的连续空间，实际是分段连续的，为了维护其“整体连续”以及随机访问的假象，落在了deque的迭代器身上</strong>，因此deque的迭代器设计就比较复杂，如下图所示：</p> 
<p><img src="https://images2.imgbox.com/3a/43/R8t5aCFX_o.png" alt="在这里插入图片描述"><br> 那deque是如何借助其迭代器维护其假想连续的结构呢？<br> <img src="https://images2.imgbox.com/cb/d1/Uvrlq1ld_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="432_deque_1053"></a>4.3.2 deque的缺陷</h4> 
<p><strong>与<code>vector</code>比较</strong>，deque的优势是：头部插入和删除时，<strong>不需要搬移元素，效率特别高</strong>，而且在扩容时，也不需要搬移大量的元素，因此其效率是必vector高的。<br> <strong>与<code>list</code>比较</strong>，其底层是连续空间，<strong>空间利用率比较高，不需要存储额外字段。</strong><br> 但是，<strong>deque有一个致命缺陷：不适合遍历，因为在遍历时，deque的迭代器要频繁的去检测其是否移动到某段小空间的边界，导致效率低下</strong>，而序列式场景中，可能需要经常遍历，<strong>因此在实际中，需要线性结构时，大多数情况下优先考虑vector和list</strong>，deque的应用并不多，而<strong>目前能看到的一个应用就是，STL用其作为stack和queue的底层数据结构</strong>。</p> 
<hr> 
<h3><a id="44_dequestackqueue_1060"></a>4.4 为什么选择deque作为stack和queue的底层默认容器</h3> 
<p>stack是一种后进先出的特殊线性数据结构，因此只要具有push_back()和pop_back()操作的线性结构，都可以作为stack的底层容器，比如vector和list都可以；queue是先进先出的特殊线性数据结构，只要具有<br> push_back和pop_front操作的线性结构，都可以作为queue的底层容器，比如list。但是STL中对stack和queue默认选择deque作为其底层容器，主要是因为：</p> 
<ol><li>stack和queue不需要遍历(因此stack和queue没有迭代器)，只需要在固定的一端或者两端进行操作。</li><li>在stack中元素增长时，deque比vector的效率高(扩容时不需要搬移大量数据)；queue中的元素增长时，deque不仅效率高，而且内存使用率高。</li></ol> 
<p>结合了deque的优点，而完美的避开了其缺陷</p> 
<hr> 
<h2><a id="_1070"></a>结尾</h2> 
<p>如果有什么建议和疑问，或是有什么错误，大家可以在评论区中提出。<br> 希望大家以后也能和我一起进步！！🌹🌹<br> 如果这篇文章对你有用的话，请大家给一个三连支持一下！！🌹🌹<br> <img src="https://images2.imgbox.com/26/07/tnalPjCj_o.gif" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ee4ce0be4ce0b8e0e51ce29f5a239e81/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C语言】——数据在内存中的存储</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/50e2cee85873eeeb28c0cdaa60b6a8de/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AI家居设备的未来：智能家庭的下一个大步</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
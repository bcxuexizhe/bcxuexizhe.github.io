<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>spring boot3æ•´åˆspring AIç»„ä»¶ - ç¼–ç¨‹å­¦ä¹ è€…</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/8e1e4531f9b36d7dc350b3b7eb356d5e/">
  <meta property="og:site_name" content="ç¼–ç¨‹å­¦ä¹ è€…">
  <meta property="og:title" content="spring boot3æ•´åˆspring AIç»„ä»¶">
  <meta property="og:description" content="â›°ï¸ä¸ªäººä¸»é¡µ:Â è’¾é…’
ğŸ”¥ç³»åˆ—ä¸“æ ï¼šã€Šspring bootå®æˆ˜ã€‹
ç›®å½•
å†™åœ¨å‰é¢
spring aiç®€ä»‹
å•ç‹¬æ•´åˆalæ¥å£
æ•´åˆSpring AIç»„ä»¶
èµ·æ­¥æ¡ä»¶
â€‹ç¼–è¾‘
è¿›è¡Œå¿…è¦é…ç½®
å†™åœ¨æœ€åÂ æœ€è¿‘å‘ç°äº†ä¸€ä¸ªå·¨ç‰›çš„äººå·¥æ™ºèƒ½å­¦ä¹ ç½‘ç«™ï¼Œé€šä¿—æ˜“æ‡‚ï¼Œé£è¶£å¹½é»˜ï¼Œå¿ä¸ä½åˆ†äº«ä¸€ä¸‹ç»™å¤§å®¶ã€‚
ç‚¹å‡»è·³è½¬åˆ°å­¦ä¹ ç½‘ç«™
å†™åœ¨å‰é¢ æœ¬æ–‡ä»‹ç»äº†springbootå¼€å‘åç«¯æœåŠ¡ä¸­ï¼ŒAIç»„ä»¶(Spring AI)çš„æ•´åˆä¸ä½¿ç”¨ã€‚åšæŒçœ‹å®Œç›¸ä¿¡å¯¹ä½ æœ‰å¸®åŠ©ã€‚
åŒæ—¶æ¬¢è¿è®¢é˜…springbootç³»åˆ—ä¸“æ ï¼ŒæŒç»­åˆ†äº«spring bootçš„ä½¿ç”¨ç»éªŒã€‚
spring aiç®€ä»‹ å…ˆçœ‹å®˜ç½‘ä»‹ç»ï¼š
ç¿»è¯‘ï¼š
Spring AI æ˜¯ AI å·¥ç¨‹çš„åº”ç”¨æ¡†æ¶ã€‚å…¶ç›®æ ‡æ˜¯å°† Spring ç”Ÿæ€ç³»ç»Ÿè®¾è®¡åŸåˆ™ï¼ˆå¦‚å¯ç§»æ¤æ€§å’Œæ¨¡å—åŒ–è®¾è®¡ï¼‰åº”ç”¨äº AIï¼Œå¹¶æ¨å¹¿ä½¿ç”¨ POJO ä½œä¸º AI é¢†åŸŸåº”ç”¨ç¨‹åºçš„æ„å»ºå—ã€‚
ç¿»è¯‘ï¼š
ç‰¹å¾
è·¨ AI æä¾›å•†çš„å¯ç§»æ¤ API æ”¯æŒï¼Œé€‚ç”¨äºèŠå¤©ã€æ–‡æœ¬åˆ°å›¾åƒå’ŒåµŒå…¥æ¨¡å‹ã€‚æ”¯æŒåŒæ­¥å’Œæµ API é€‰é¡¹ã€‚è¿˜æ”¯æŒä¸‹æ‹‰ä»¥è®¿é—®ç‰¹å®šäºæ¨¡å‹çš„åŠŸèƒ½ã€‚
åœ¨spring-aiç»„ä»¶æ²¡å‘å¸ƒå‰ï¼Œæˆ‘ä»¬åœ¨spring bootä¸­å¯¹æ¥å„ç§aiæ¥å£ï¼Œç”±äºæ¥å£è§„èŒƒæ ¼å¼çš„ä¸åŒï¼Œæˆ‘ä»¬é€šå¸¸æ¯ç§æ¥å£éƒ½å¾—å•ç‹¬å»å†™ä»£ç å»å¯¹æ¥ï¼Œæœ€åé€šè¿‡å®ç°ç­–ç•¥æ¨¡å¼æ¥å®ç°çµæ´»åˆ‡æ¢aiæ¥å£æºã€‚è¿™æ ·æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ã€‚è€Œspring-aiç»„ä»¶å°±æ˜¯å¸®æˆ‘ä»¬åšäº†ç±»ä¼¼çš„å°è£…ï¼Œä½¿å¾—æˆ‘ä»¬å¯¹æ¥å¤šç§aiæ¥å£å˜å¾—ååˆ†æ–¹ä¾¿ã€‚
å•ç‹¬æ•´åˆalæ¥å£ æˆ‘ä»¬å…ˆæ¥çœ‹spring bootç®€å•æ•´åˆç»å…¸çš„chatGPT 3.5æ¥å£
ä»£ç å¦‚ä¸‹ï¼š
import cn.hutool.http.HttpRequest; import cn.hutool.json.JSONArray; import cn.hutool.json.JSONObject; import cn.hutool.json.JSONUtil; import java.util.ArrayList; import java.util.HashMap; import java.util.List; import java.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-22T14:20:49+08:00">
    <meta property="article:modified_time" content="2024-05-22T14:20:49+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹å­¦ä¹ è€…" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹å­¦ä¹ è€…</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">spring boot3æ•´åˆspring AIç»„ä»¶</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" height="68" src="https://images2.imgbox.com/2a/89/GLQzQaoN_o.jpg" width="68"></p> 
<p>â›°ï¸<a href="https://so.csdn.net/so/search?q=%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5&amp;spm=1001.2101.3001.7020" title="ä¸ªäººä¸»é¡µ">ä¸ªäººä¸»é¡µ</a>:Â  Â  Â <a href="https://blog.csdn.net/qq_62262918?spm=1011.2266.3001.5343" title="è’¾é…’">è’¾é…’</a></p> 
<p>ğŸ”¥ç³»åˆ—ä¸“æ ï¼š<a href="https://blog.csdn.net/qq_62262918/category_12571219.html?spm=1001.2014.3001.5482" title="ã€Šspring bootå®æˆ˜ã€‹">ã€Šspring bootå®æˆ˜ã€‹</a></p> 
<hr> 
<p id="main-toc"><strong>ç›®å½•</strong></p> 
<p id="%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2-toc" style="margin-left:0px;"><a href="#%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2" rel="nofollow">å†™åœ¨å‰é¢</a></p> 
<p id="spring%20ai%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;"><a href="#spring%20ai%E7%AE%80%E4%BB%8B" rel="nofollow">spring aiç®€ä»‹</a></p> 
<p id="%E5%8D%95%E7%8B%AC%E6%95%B4%E5%90%88al%E6%8E%A5%E5%8F%A3-toc" style="margin-left:0px;"><a href="#%E5%8D%95%E7%8B%AC%E6%95%B4%E5%90%88al%E6%8E%A5%E5%8F%A3" rel="nofollow">å•ç‹¬æ•´åˆalæ¥å£</a></p> 
<p id="%E6%95%B4%E5%90%88Spring%20AI%E7%BB%84%E4%BB%B6-toc" style="margin-left:0px;"><a href="#%E6%95%B4%E5%90%88Spring%20AI%E7%BB%84%E4%BB%B6" rel="nofollow">æ•´åˆSpring AIç»„ä»¶</a></p> 
<p id="%E8%B5%B7%E6%AD%A5%E6%9D%A1%E4%BB%B6-toc" style="margin-left:40px;"><a href="#%E8%B5%B7%E6%AD%A5%E6%9D%A1%E4%BB%B6" rel="nofollow">èµ·æ­¥æ¡ä»¶</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:40px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">â€‹ç¼–è¾‘</a></p> 
<p id="%E8%BF%9B%E8%A1%8C%E5%BF%85%E8%A6%81%E9%85%8D%E7%BD%AE-toc" style="margin-left:40px;"><a href="#%E8%BF%9B%E8%A1%8C%E5%BF%85%E8%A6%81%E9%85%8D%E7%BD%AE" rel="nofollow">è¿›è¡Œå¿…è¦é…ç½®</a></p> 
<p id="%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E%C2%A0-toc" style="margin-left:40px;"><a href="#%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E%C2%A0" rel="nofollow">å†™åœ¨æœ€åÂ </a></p> 
<hr id="hr-toc"> 
<blockquote> 
 <p>Â æœ€è¿‘å‘ç°äº†ä¸€ä¸ªå·¨ç‰›çš„äººå·¥æ™ºèƒ½å­¦ä¹ ç½‘ç«™ï¼Œé€šä¿—æ˜“æ‡‚ï¼Œé£è¶£å¹½é»˜ï¼Œå¿ä¸ä½åˆ†äº«ä¸€ä¸‹ç»™å¤§å®¶ã€‚</p> 
 <p>Â  Â Â <a href="https://www.captainbed.cn/ding" rel="nofollow" title="ç‚¹å‡»è·³è½¬åˆ°å­¦ä¹ ç½‘ç«™">ç‚¹å‡»è·³è½¬åˆ°å­¦ä¹ ç½‘ç«™</a></p> 
 <p><img alt="" height="352" src="https://images2.imgbox.com/73/11/EDEcL6TO_o.png" width="748"></p> 
</blockquote> 
<h2>å†™åœ¨å‰é¢</h2> 
<p>æœ¬æ–‡ä»‹ç»äº†<a href="https://so.csdn.net/so/search?q=springboot%E5%BC%80%E5%8F%91&amp;spm=1001.2101.3001.7020" title="springbootå¼€å‘">springbootå¼€å‘</a>åç«¯æœåŠ¡ä¸­ï¼ŒAIç»„ä»¶(Spring AI)çš„æ•´åˆä¸ä½¿ç”¨ã€‚åšæŒçœ‹å®Œç›¸ä¿¡å¯¹ä½ æœ‰å¸®åŠ©ã€‚</p> 
<p>åŒæ—¶æ¬¢è¿è®¢é˜…springbootç³»åˆ—ä¸“æ ï¼ŒæŒç»­åˆ†äº«spring bootçš„ä½¿ç”¨ç»éªŒã€‚</p> 
<h2 id="spring%20ai%E7%AE%80%E4%BB%8B">spring aiç®€ä»‹</h2> 
<p>å…ˆçœ‹å®˜ç½‘ä»‹ç»ï¼š</p> 
<p><img alt="" height="418" src="https://images2.imgbox.com/ea/7a/Kuo5micE_o.png" width="1200"></p> 
<p>ç¿»è¯‘ï¼š</p> 
<blockquote> 
 <p>Spring AI æ˜¯ AI å·¥ç¨‹çš„åº”ç”¨æ¡†æ¶ã€‚å…¶ç›®æ ‡æ˜¯å°† Spring ç”Ÿæ€ç³»ç»Ÿè®¾è®¡åŸåˆ™ï¼ˆå¦‚å¯ç§»æ¤æ€§å’Œæ¨¡å—åŒ–è®¾è®¡ï¼‰åº”ç”¨äº AIï¼Œå¹¶æ¨å¹¿ä½¿ç”¨ POJO ä½œä¸º AI é¢†åŸŸåº”ç”¨ç¨‹åºçš„æ„å»ºå—ã€‚</p> 
</blockquote> 
<p><img alt="" height="210" src="https://images2.imgbox.com/fe/44/cEimjPJ7_o.png" width="1200"></p> 
<p>ç¿»è¯‘ï¼š</p> 
<blockquote> 
 <p>ç‰¹å¾</p> 
 <p style="margin-left:0;">è·¨ AI æä¾›å•†çš„å¯ç§»æ¤ API æ”¯æŒï¼Œé€‚ç”¨äºèŠå¤©ã€æ–‡æœ¬åˆ°å›¾åƒå’ŒåµŒå…¥æ¨¡å‹ã€‚æ”¯æŒåŒæ­¥å’Œæµ API é€‰é¡¹ã€‚è¿˜æ”¯æŒä¸‹æ‹‰ä»¥è®¿é—®ç‰¹å®šäºæ¨¡å‹çš„åŠŸèƒ½ã€‚</p> 
</blockquote> 
<p>åœ¨spring-aiç»„ä»¶æ²¡å‘å¸ƒå‰ï¼Œæˆ‘ä»¬åœ¨spring bootä¸­å¯¹æ¥å„ç§aiæ¥å£ï¼Œç”±äºæ¥å£è§„èŒƒæ ¼å¼çš„ä¸åŒï¼Œæˆ‘ä»¬é€šå¸¸æ¯ç§æ¥å£éƒ½å¾—å•ç‹¬å»å†™ä»£ç å»å¯¹æ¥ï¼Œæœ€åé€šè¿‡å®ç°ç­–ç•¥æ¨¡å¼æ¥å®ç°çµæ´»åˆ‡æ¢aiæ¥å£æºã€‚è¿™æ ·æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ã€‚è€Œspring-aiç»„ä»¶å°±æ˜¯å¸®æˆ‘ä»¬åšäº†ç±»ä¼¼çš„å°è£…ï¼Œä½¿å¾—æˆ‘ä»¬å¯¹æ¥å¤šç§aiæ¥å£å˜å¾—ååˆ†æ–¹ä¾¿ã€‚</p> 
<h2 id="%E5%8D%95%E7%8B%AC%E6%95%B4%E5%90%88al%E6%8E%A5%E5%8F%A3">å•ç‹¬æ•´åˆalæ¥å£</h2> 
<p>æˆ‘ä»¬å…ˆæ¥çœ‹spring bootç®€å•æ•´åˆç»å…¸çš„chatGPT 3.5æ¥å£</p> 
<p>ä»£ç å¦‚ä¸‹ï¼š</p> 
<pre><code class="language-java">


import cn.hutool.http.HttpRequest;
import cn.hutool.json.JSONArray;
import cn.hutool.json.JSONObject;
import cn.hutool.json.JSONUtil;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

/**
 * @author mijiu
 * ClassName:OpenAIAPI.java
 * date:2024-05-06 16:49
 * Description:
 */

public class OpenAIAPI {
    /**
     * èŠå¤©ç«¯ç‚¹
     */
    private final static String CHAT_ENDPOINT = "https://api.openai.com/v1/chat/completions";//å®˜ç½‘æ¥å£åœ°å€
    private final static  String PROXY_ENDPOINT ="https://www.chatgp.fun/v1/chat/completions";//å›½å†…ä»£ç†æ¥å£

    private final static  String API_KEY = "Bearer sk-pbatvlgKeYScAS3kD4820bA1CcE741F996E0BaAb205421D1";

    /**
     * éœ€è¦ä»£ç†æœåŠ¡å™¨è®¿é—®
     *
     * @param txt å†…å®¹
     * @return {@link String}
     */
    public static String chat(String txt) {
        Map&lt;String, Object&gt; paramMap = new HashMap&lt;&gt;();


        paramMap.put("model", "gpt-3.5-turbo");
        List&lt;Map&lt;String, String&gt;&gt; dataList = new ArrayList&lt;&gt;();
        dataList.add(new HashMap&lt;String, String&gt;(){<!-- -->{
            put("role", "user");
            put("content", txt);
        }});
        paramMap.put("messages", dataList);
        System.out.println(JSONUtil.toJsonStr(paramMap));
        JSONObject message = null;
        try {
            String body = HttpRequest.post(PROXY_ENDPOINT)
                    .header("Authorization", API_KEY)
                    .header("Content-Type", "application/json")
                    .body(JSONUtil.toJsonStr(paramMap))
                    .execute()
                    .body();
            JSONObject jsonObject = JSONUtil.parseObj(body);
            System.out.println(jsonObject);
            JSONArray choices = jsonObject.getJSONArray("choices");
            JSONObject result = choices.get(0, JSONObject.class, Boolean.TRUE);
            message = result.getJSONObject("message");

        } catch (Exception e) {
            return "æŠ±æ­‰ï¼Œæˆ‘æ— æ³•å›ç­”ä½ çš„é—®é¢˜ã€‚";
        }
        return message.getStr("content");
    }

    public static void main(String[] args) {
        System.out.println(chat("ä½ æ˜¯ï¼Ÿ"));
    }
}
</code></pre> 
<p>è¿™æ®µä»£ç ä¾èµ–hutoolå·¥å…·åŒ…çš„httpå·¥å…·åŒ…</p> 
<pre><code class="language-XML"> &lt;dependency&gt;
    &lt;groupId&gt;cn.hutool&lt;/groupId&gt;
    &lt;artifactId&gt;hutool-all&lt;/artifactId&gt;
    &lt;version&gt;5.7.22&lt;/version&gt;
 &lt;/dependency&gt;</code></pre> 
<p>ç°åœ¨è¿è¡Œæµ‹è¯•ä¸€ä¸‹ï¼š</p> 
<p><img alt="" height="162" src="https://images2.imgbox.com/1a/87/FKRQiJg6_o.png" width="1200"></p> 
<p>å¯ä»¥çœ‹åˆ°ç›®å‰æ•´åˆè°ƒç”¨æµ‹è¯•æˆåŠŸäº†ã€‚</p> 
<p>ä»£ç é‡Œé¢çš„api-keyæœ‰ä¸€å®šé‡çš„tokenæ–°æ‰‹å¯ä»¥å¤åˆ¶ä»£ç è¿è¡Œä¸‹è¯•è¯•ã€‚è¨€å½’æ­£ä¼ ä¸‹é¢å¼€å§‹ä»‹ç»æ ¸å¿ƒå†…å®¹ã€‚</p> 
<h2 id="%E6%95%B4%E5%90%88Spring%20AI%E7%BB%84%E4%BB%B6">æ•´åˆSpring AIç»„ä»¶</h2> 
<h3 id="%E8%B5%B7%E6%AD%A5%E6%9D%A1%E4%BB%B6">èµ·æ­¥æ¡ä»¶</h3> 
<blockquote> 
 <ul><li>jdkä¸ä½äº17</li><li>spring boot 3x</li></ul> 
</blockquote> 
<p>æˆ‘ä»¬ç›´æ¥æ–°å»ºä¸€ä¸ªdemoé¡¹ç›®</p> 
<p>ä¸ºä½•ç›´æ¥æ–°å»ºä¸€ä¸ªé¡¹ç›®çš„ï¼Œä¸»è¦æ˜¯ä¸ºäº†é¿å¼€ä¸€äº›éº»çƒ¦ã€‚å¦‚ï¼Œé˜¿é‡Œäº‘mavené•œåƒæ²¡æœ‰æ­¤ä¾èµ–ï¼Œéœ€è¦åˆ°ä¸­å¤®ä»“åº“ä¸‹è½½ã€‚</p> 
<p><span style="background-color:#ffd900;">ä¸€å®šè¦é€‰ä¸ä½äºJava17çš„jdk</span></p> 
<h3 id="%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="1059" src="https://images2.imgbox.com/b6/64/5COmySx9_o.png" width="1200"></h3> 
<p>é€‰æ‹©è¿™ä¸¤ä¸ªä¾èµ–å°±å¤Ÿäº†</p> 
<blockquote> 
 <ul><li>Spring Web</li><li>OpenAI</li></ul> 
</blockquote> 
<p><img alt="" height="987" src="https://images2.imgbox.com/1e/fb/iAqp0s0S_o.png" width="1200"></p> 
<p><span style="background-color:#ffd900;">spring bootçš„ç‰ˆæœ¬ä¸è¦ä½äº3.0</span></p> 
<p><img alt="" height="987" src="https://images2.imgbox.com/a4/cc/x5SzoG4F_o.png" width="1200"></p> 
<p>ç­‰å¾…ä¾èµ–ä¸‹è½½å®Œæˆã€‚</p> 
<h3 id="%E8%BF%9B%E8%A1%8C%E5%BF%85%E8%A6%81%E9%85%8D%E7%BD%AE">è¿›è¡Œå¿…è¦é…ç½®</h3> 
<p>è¿™ä¸ªapi-keyéœ€è¦ä½ å»openalå®˜ç½‘å»ç”³è¯·è´­ä¹°ï¼Œæˆ–è€…åœ¨ä¸€äº›è´­ç‰©è½¯ä»¶ç›´æ¥è´­ä¹°ç°æˆçš„ç”¨ã€‚</p> 
<p>å…±éœ€è¦é…ç½®ï¼š</p> 
<blockquote> 
 <ol><li> <p><strong><code>spring.ai.openai.api-keyï¼š</code></strong>Â è¿™æ˜¯ä½ çš„ OpenAI API å¯†é’¥ï¼Œå®ƒæ˜¯ç”¨äºé€šè¿‡ API è®¿é—® OpenAI æœåŠ¡çš„å‡­è¯ã€‚å¯†é’¥åº”è¯¥æ˜¯ä¸€ä¸ªé•¿å­—ç¬¦ä¸²ï¼Œç”¨äºæ ‡è¯†ä½ çš„è´¦æˆ·å¹¶æˆæƒè®¿é—®ã€‚</p> </li><li> <p><strong><code>spring.ai.openai.chat.options.model</code>ï¼š</strong> è¿™æ˜¯ç”¨äºè®¾ç½®å¯¹è¯ç³»ç»Ÿæ‰€ä½¿ç”¨çš„ OpenAI æ¨¡å‹çš„é€‰é¡¹ä¹‹ä¸€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¨¡å‹é€‰æ‹©ä¸º GPT-3.5 Turboï¼Œè¿™æ˜¯ OpenAI æä¾›çš„ä¸€ç§å¼ºå¤§çš„è‡ªç„¶è¯­è¨€å¤„ç†æ¨¡å‹ï¼Œé€‚ç”¨äºç”Ÿæˆå¯¹è¯ã€‚</p> </li><li> <p><strong><code>spring.ai.openai.chat.options.temperatureï¼š</code></strong>Â è¿™æ˜¯å¯¹è¯ç³»ç»Ÿç”Ÿæˆå“åº”æ—¶çš„æ¸©åº¦å‚æ•°ã€‚æ¸©åº¦å‚æ•°æ§åˆ¶ç€ç”Ÿæˆæ–‡æœ¬çš„å¤šæ ·æ€§ï¼Œå€¼è¶Šé«˜ï¼Œç”Ÿæˆæ–‡æœ¬çš„å¤šæ ·æ€§è¶Šå¤§ã€‚åœ¨è¿™é‡Œï¼Œæ¸©åº¦è®¾ç½®ä¸º 0.7ï¼Œè¿™æ„å‘³ç€å¯¹è¯ç³»ç»Ÿç”Ÿæˆçš„æ–‡æœ¬ä¼šç›¸å¯¹ä¿å®ˆï¼Œä½†ä»å…·æœ‰ä¸€å®šçš„å¤šæ ·æ€§ã€‚</p> </li></ol> 
</blockquote> 
<p>application.propertiesï¼š</p> 
<pre><code class="language-XML">spring.ai.openai.api-key=sk-uVfM7GiD9RIdIKRrF70eT3BlbkyhdHGHGH
spring.ai.openai.chat.options.model=gpt-3.5-turbo
spring.ai.openai.chat.options.temperature=0.7</code></pre> 
<p>ä»£ç é‡Œé¢çš„api-keyæ˜¯æˆ‘éšæ„å†™çš„ä¸€ä¸ªï¼Œéœ€è¦æ¢æˆä½ è‡ªå·±çš„ä¸”æœ‰æ•ˆçš„Â ã€‚</p> 
<p>æµ‹è¯•æ§åˆ¶å™¨</p> 
<pre><code class="language-java">

import org.springframework.ai.embedding.EmbeddingClient;
import org.springframework.ai.embedding.EmbeddingResponse;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;
import java.util.Map;

/**
 * @author mijiupro
 */
@RestController
public class EmbeddingController {

    private final EmbeddingClient embeddingClient;

    @Autowired
    public EmbeddingController(EmbeddingClient embeddingClient) {
        this.embeddingClient = embeddingClient;
    }

    @GetMapping("/ai/embedding")
    public Map embed(@RequestParam(value = "message", defaultValue = "Tell me a joke") String message) {
        EmbeddingResponse embeddingResponse = this.embeddingClient.embedForResponse(List.of(message));
        return Map.of("embedding", embeddingResponse);
    }
}</code></pre> 
<p>æœ€åå¯åŠ¨é¡¹ç›®æµè§ˆå™¨åœ°å€æ è®¿é—®æµ‹è¯•æ¥å£å³å¯ã€‚</p> 
<pre><code class="language-XML">http://localhost:8080/ai/embedding</code></pre> 
<h3 id="%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E%C2%A0">å†™åœ¨æœ€åÂ </h3> 
<p>spring boot3æ•´åˆAIç»„ä»¶åˆ°è¿™é‡Œå°±ç»“æŸäº†ã€‚ä»»ä½•é—®é¢˜è¯„è®ºåŒºæˆ–ç§ä¿¡è®¨è®ºï¼Œæ¬¢è¿æŒ‡æ­£ã€‚</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9a2975bbf394a66ebc56cf64f2267545/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">ã€SpringBootã€‘SpringBootä¸­é˜²æ­¢æ¥å£é‡å¤æäº¤ï¼ˆå•æœºç¯å¢ƒå’Œåˆ†å¸ƒå¼ç¯å¢ƒï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a89c74d94c74a5db4e1b7bd584466bc3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">MySQLæ…¢SQLä¼˜åŒ–æ–¹æ¡ˆæ±‡æ€»</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹å­¦ä¹ è€….
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
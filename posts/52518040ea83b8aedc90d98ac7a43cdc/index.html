<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>若依框架代码生成器详解：从入门到高级定制 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/52518040ea83b8aedc90d98ac7a43cdc/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="若依框架代码生成器详解：从入门到高级定制">
  <meta property="og:description" content="若依框架（RuoYi）作为一个基于Spring Boot和MyBatis的快速开发平台，提供了强大的代码生成器功能。通过代码生成器，开发者可以迅速创建基础的CRUD（增删改查）代码，大幅提高开发效率。本文将详细介绍若依框架代码生成器的使用方法，包括基本操作、模板定制、常见问题解决等方面，帮助开发者更好地掌握和利用这一工具。
一、代码生成器概述 若依代码生成器主要用于从数据库表生成对应的实体类、Mapper接口、Service层和Controller层代码，以及相应的前端页面代码。它通过读取数据库元数据（表结构和字段信息），自动生成标准化的代码模板，减少手工编码的工作量。
二、代码生成器基本使用方法 准备工作： 确保已经正确配置了数据源，使得若依框架能够访问到目标数据库。数据源配置在application-dev.yml文件中，如下所示：
spring: datasource: driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://localhost:3306/ruoyi?useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=UTC username: root password: your_password 进入代码生成器界面： 启动若依框架后，使用管理员账户登录后台管理系统，导航到“系统工具” -&gt; “代码生成” 页面。此时，你会看到数据库中所有表的列表。
选择表生成代码： 在表列表中，选择你要生成代码的表，点击“生成”按钮，弹出代码生成配置界面。
配置生成选项： 在代码生成配置界面，可以设置生成代码的包路径、模块名称、作者信息等。具体配置项包括：
包路径：Java类的包路径，如com.ruoyi.project.system.user。模块名称：生成代码所属模块，如system。作者：生成代码的作者信息。生成路径：代码生成后的保存路径。配置完成后，点击“生成”按钮，即可生成对应的代码文件。
查看生成代码： 生成的代码文件会存放在项目的ruoyi-generator/src/main/java目录下。生成的代码包括以下几个部分：
实体类：对应数据库表的实体类，通常位于domain包下。Mapper接口：数据访问层接口，位于mapper包下。Service层：业务逻辑层接口和实现类，位于service包下。Controller层：控制器类，位于controller包下。前端页面：生成对应的Vue.js页面文件，位于ruoyi-ui/src/views目录下。 三、代码生成器模板定制 若依框架的代码生成器使用Freemarker模板引擎进行模板生成，开发者可以根据实际需求定制自己的代码模板。
模板文件位置： 模板文件通常位于ruoyi-generator/src/main/resources/vm目录下，包括：
java/domain.java.vm：实体类模板。java/mapper.java.vm：Mapper接口模板。java/service.java.vm：Service接口模板。java/serviceImpl.java.vm：Service实现类模板。java/controller.java.vm：Controller类模板。 修改模板文件： 以实体类模板domain.java.vm为例，打开文件，修改模板内容，例如：
package ${packageName}; import java.io.Serializable; import java.util.Date; /** * ${table.comment} 实体类 * * @author ${author} * @date ${datetime} */ public class ${ClassName} implements Serializable { private static final long serialVersionUID = 1L; &lt;#list columns as column&gt; /** ${column.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-25T15:34:46+08:00">
    <meta property="article:modified_time" content="2024-05-25T15:34:46+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">若依框架代码生成器详解：从入门到高级定制</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>若依框架（RuoYi）作为一个基于Spring Boot和MyBatis的快速开发平台，提供了强大的代码生成器功能。通过代码生成器，开发者可以迅速创建基础的CRUD（增删改查）代码，大幅提高开发效率。本文将详细介绍若依框架代码生成器的使用方法，包括基本操作、模板定制、常见问题解决等方面，帮助开发者更好地掌握和利用这一工具。</p> 
<h5>一、代码生成器概述</h5> 
<p>若依代码生成器主要用于从数据库表生成对应的实体类、Mapper接口、Service层和Controller层代码，以及相应的前端页面代码。它通过读取数据库元数据（表结构和字段信息），自动生成标准化的代码模板，减少手工编码的工作量。</p> 
<h5>二、代码生成器基本使用方法</h5> 
<ol><li> <p><strong>准备工作</strong>： 确保已经正确配置了数据源，使得若依框架能够访问到目标数据库。数据源配置在<code>application-dev.yml</code>文件中，如下所示：</p> <pre><code class="hljs">spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/ruoyi?useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=UTC
    username: root
    password: your_password
</code></pre> <p></p> </li><li> <p><strong>进入代码生成器界面</strong>： 启动若依框架后，使用管理员账户登录后台管理系统，导航到“系统工具” -&gt; “代码生成” 页面。此时，你会看到数据库中所有表的列表。</p> </li><li> <p><strong>选择表生成代码</strong>： 在表列表中，选择你要生成代码的表，点击“生成”按钮，弹出代码生成配置界面。</p> </li><li> <p><strong>配置生成选项</strong>： 在代码生成配置界面，可以设置生成代码的包路径、模块名称、作者信息等。具体配置项包括：</p> 
  <ul><li><strong>包路径</strong>：Java类的包路径，如<code>com.ruoyi.project.system.user</code>。</li><li><strong>模块名称</strong>：生成代码所属模块，如<code>system</code>。</li><li><strong>作者</strong>：生成代码的作者信息。</li><li><strong>生成路径</strong>：代码生成后的保存路径。</li></ul><p>配置完成后，点击“生成”按钮，即可生成对应的代码文件。</p> </li><li> <p><strong>查看生成代码</strong>： 生成的代码文件会存放在项目的<code>ruoyi-generator/src/main/java</code>目录下。生成的代码包括以下几个部分：</p> 
  <ul><li><strong>实体类</strong>：对应数据库表的实体类，通常位于<code>domain</code>包下。</li><li><strong>Mapper接口</strong>：数据访问层接口，位于<code>mapper</code>包下。</li><li><strong>Service层</strong>：业务逻辑层接口和实现类，位于<code>service</code>包下。</li><li><strong>Controller层</strong>：控制器类，位于<code>controller</code>包下。</li><li><strong>前端页面</strong>：生成对应的Vue.js页面文件，位于<code>ruoyi-ui/src/views</code>目录下。</li></ul></li></ol> 
<h5>三、代码生成器模板定制</h5> 
<p>若依框架的代码生成器使用Freemarker模板引擎进行模板生成，开发者可以根据实际需求定制自己的代码模板。</p> 
<ol><li> <p><strong>模板文件位置</strong>： 模板文件通常位于<code>ruoyi-generator/src/main/resources/vm</code>目录下，包括：</p> 
  <ul><li><code>java/domain.java.vm</code>：实体类模板。</li><li><code>java/mapper.java.vm</code>：Mapper接口模板。</li><li><code>java/service.java.vm</code>：Service接口模板。</li><li><code>java/serviceImpl.java.vm</code>：Service实现类模板。</li><li><code>java/controller.java.vm</code>：Controller类模板。</li></ul></li><li> <p><strong>修改模板文件</strong>： 以实体类模板<code>domain.java.vm</code>为例，打开文件，修改模板内容，例如：</p> <pre><code class="language-java">package ${packageName};

import java.io.Serializable;
import java.util.Date;

/**
 * ${table.comment} 实体类
 * 
 * @author ${author}
 * @date ${datetime}
 */
public class ${ClassName} implements Serializable {
    private static final long serialVersionUID = 1L;

    &lt;#list columns as column&gt;
    /** ${column.comment} */
    private ${column.javaType} ${column.columnName};
    &lt;/#list&gt;

    &lt;#list columns as column&gt;
    public ${column.javaType} get${column.columnName?cap_first}() {
        return ${column.columnName};
    }

    public void set${column.columnName?cap_first}(${column.javaType} ${column.columnName}) {
        this.${column.columnName} = ${column.columnName};
    }
    &lt;/#list&gt;
}
</code></pre> <p>这里使用了Freemarker的模板语法，<code>${packageName}</code>、<code>${ClassName}</code>等变量会被实际的值所替换。</p> </li><li> <p><strong>添加自定义模板</strong>： 如果需要添加新的模板，例如生成DTO类或者其他自定义类，可以在<code>vm</code>目录下创建新的模板文件，并在代码生成器的配置中添加相应的模板路径。</p> </li></ol> 
<h5>四、常见问题解决</h5> 
<ol><li> <p><strong>生成代码后编译错误</strong>：</p> 
  <ul><li>检查生成的代码包路径是否正确，确保与项目结构一致。</li><li>确认数据库表结构与生成代码中的字段类型和名称匹配。</li></ul></li><li> <p><strong>无法获取数据库表</strong>：</p> 
  <ul><li>检查数据源配置是否正确，确保数据库连接正常。</li><li>确认数据库中是否存在指定的表，并且表名不包含特殊字符。</li></ul></li><li> <p><strong>模板修改未生效</strong>：</p> 
  <ul><li>确保修改后的模板文件已保存，并且路径和名称正确。</li><li>若依框架可能会缓存模板文件，尝试重启项目以清除缓存。</li></ul></li></ol> 
<h5>五、深入定制与扩展</h5> 
<p>若依框架的代码生成器不仅能够生成标准的CRUD代码，还可以进行更深层次的定制和扩展，以满足复杂业务需求。</p> 
<ol><li> <p><strong>复杂查询生成</strong>： 可以在模板中添加复杂查询的生成逻辑，例如多表关联查询、动态条件查询等。在<code>mapper.java.vm</code>模板中，添加自定义的查询方法：</p> <pre><code class="language-java">public List&lt;${ClassName}&gt; customQuery(@Param("param") String param);
</code></pre> <p></p> </li><li> <p><strong>生成API文档</strong>： 可以在生成的Controller类中添加注释，以便集成Swagger等API文档生成工具。例如，在<code>controller.java.vm</code>模板中添加Swagger注解：</p> <pre><code class="language-java">@ApiOperation("${table.comment}查询")
@GetMapping("/list")
public List&lt;${ClassName}&gt; list() {
    // 查询逻辑
}
</code></pre> <p></p> </li><li> <p><strong>生成前端代码</strong>： 若依框架支持生成前端Vue.js代码，可以在前端模板文件中添加自定义逻辑，例如表单校验、动态表单生成等。在<code>ruoyi-ui/src/views/module</code>目录下，可以找到生成的前端文件，进行定制修改。</p> </li></ol> 
<h5>六、实际案例分享</h5> 
<p>结合实际项目，我们来分享一个使用若依代码生成器的案例。</p> 
<ol><li> <p><strong>需求描述</strong>： 某项目需要管理用户信息，包括用户名、邮箱、电话号码等基本信息，需要实现用户的增删改查功能，并且需要支持复杂查询和分页功能。</p> </li><li> <p><strong>步骤详解</strong>：</p> 
  <ol><li> <p><strong>创建数据库表</strong>：</p> <pre><code class="language-sql">CREATE TABLE user_info (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) NOT NULL,
    email VARCHAR(50) NOT NULL,
    phone VARCHAR(20),
    create_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
</code></pre> <p></p> </li><li> <p><strong>使用代码生成器生成代码</strong>：</p> 
    <ul><li>在后台管理系统中，选择<code>user_info</code>表，配置生成选项，生成代码。</li></ul></li><li> <p><strong>查看生成代码</strong>：</p> 
    <ul><li>生成的实体类<code>UserInfo.java</code>、Mapper接口<code>UserInfoMapper.java</code>、Service层<code>UserInfoService.java</code>、Controller层<code>UserInfoController.java</code>以及前端Vue.js文件。</li></ul></li><li> <p><strong>定制复杂查询</strong>：</p> 
    <ul><li> <p>在<code>UserInfoMapper.java</code>中添加自定义查询方法：</p> <pre><code class="language-java">public List&lt;UserInfo&gt; findByEmail(@Param("email") String email);
</code></pre> <p></p> </li><li> <p>在<code>UserInfoMapper.xml</code>中添加对应的SQL语句：</p> <pre><code class="language-sql">&lt;select id="findByEmail" parameterType="String" resultType="UserInfo"&gt;
    SELECT * FROM user_info WHERE email = #{email}
&lt;/select&gt;
</code></pre> <p></p> </li></ul></li><li> <p><strong>测试功能</strong>：</p> 
    <ul><li>启动项目，进行功能测试，确保用户信息的增删改查功能正常，复杂查询和分页功能正常。</li></ul></li></ol></li></ol> 
<h5>结论</h5> 
<p>若依框架的代码生成器不仅可以大幅提高开发效率，还可以通过灵活的模板定制，满足各种复杂的业务需求。从基本的CRUD代码生成到高级的自定义查询、API文档生成和前端页面生成，若依代码生成器都能够提供强大的支持。通过掌握代码生成器的使用方法和定制技巧，开发者可以更加高效地进行项目开发和维护。希望本文的详细介绍，能够帮助你更好地理解和利用若依框架的代码生成器，打造出高质量的企业级应用。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/24231a9c622c01f800f337ba3deaa3b8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C# 深拷贝和浅拷贝</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/327c6294f32688adf56849585e55470c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">听说部门来了个00后测试开发，一顿操作给我整麻了</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
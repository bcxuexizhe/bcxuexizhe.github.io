<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL的指令大全和注意事项(强烈推荐收藏) - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/f200d53ee8ebee64bfb0d4a40ac01ca9/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="MySQL的指令大全和注意事项(强烈推荐收藏)">
  <meta property="og:description" content="MySQL基础知识点和快速查询 MySQL基础MySql基本指令1、MySQL常用命令2、修改mysql中root的密码：3、grant授权4、增加新用户5、删除授权：6、创建一个用户custom在特定客户端it363.com登录，可访问特定数据库fangchandb7、重命名表:8、mysqldump9、恢复数据库 mysql命令一 . 安装与配置MYSQL二 . 常用mysql命令行命令1 .mysql的启动与停止2 .查看被监听的端口 , findstr用于查找后面的端口是否存在3 . 在命令行中登陆MYSQL控制台 , 即使用 MYSQL COMMEND LINE TOOL5 . 切换连接数据库的语法 :6 . 显示所有数据库 :7 . 显示数据库中的所有表 :8 . 显示某个表创建时的全部信息 :9 . 查看表的具体属性信息及表中各字段的描述 三 . MySql中的SQL语句习题： 四. 字符集出现错误解决办法五. 学习MySQL常用操作命令1、启动MySQL服务器2、进入mysql交互操作界面3、退出MySQL操作界面4、第一条命令5、多行语句6、一行多命令7、显示当前存在的数据库8、选择数据库并显示当前选择的数据库9、显示当前数据库中存在的表10、显示表(db)的内容11、命令的取消 六. mysql命令一、连接MYSQL。1、连接到本机上的MYSQL。2、连接到远程主机上的MYSQL。3、退出MYSQL命令： exit (回车) 二、修改密码。1、给root加个密码ab12。2、再将root的密码改为djg345。 三、增加新用户。 七. MYSQL中有关数据库方面的操作。一、操作技巧二、显示命令1、显示当前数据库服务器中的数据库列表：2、显示数据库中的数据表：3、显示数据表的结构：4、建立数据库：5、建立数据表：6、删除数据库：7、删除数据表：8、将表中记录清空：9、显示表中的记录：10、往表中插入记录：11、更新表中数据：12、用文本方式将数据装入数据表中：13、导入.sql文件命令：14、命令行修改root密码：15、显示use的数据库名：16、显示当前的user： 三、一个建库和建表以及插入数据的实例四、将文本数据转到数据库中五、备份数据库1.导出整个数据库2.导出一个表3.导出一个数据库结构4.带语言参数导出 六、导入数据库**数据库及表导出导入示例：****导入数据库：****其他** 使用MySql的管理心得, 八. 全局管理权限： MySQL基础 MySql基本指令 1、MySQL常用命令 # 创建数据库 create database name; #选择数据库 use databasename; #直接删除数据库，不提醒 drop database name ; #显示表 show tables; #表的详细描述 describe tablename; select 中加上distinct去除重复字段 #删除数据库前，有提示。 mysqladmin drop databasename #显示当前mysql版本和当前日期 select version(),current_date; 2、修改mysql中root的密码： mysql -u root -p update user set password=password(”123456″) where user=’root’; flush privileges #刷新数据库 use dbname; #打开数据库： show databases; #显示所有数据库 show tables; #显示数据库mysql中所有的表：先use mysql；然后 describe user; #显示表mysql数据库中user表的列信息)； 3、grant授权 创建一个可以从任何地方连接服务器的一个完全的超级用户，但是必须使用一个口令something做这个">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-10-13T16:32:21+08:00">
    <meta property="article:modified_time" content="2023-10-13T16:32:21+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL的指令大全和注意事项(强烈推荐收藏)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>MySQL基础知识点和快速查询</h4> 
 <ul><li><a href="#MySQL_2" rel="nofollow">MySQL基础</a></li><li><ul><li><a href="#MySql_3" rel="nofollow">MySql基本指令</a></li><li><ul><li><a href="#1MySQL_5" rel="nofollow">1、MySQL常用命令</a></li><li><a href="#2mysqlroot_30" rel="nofollow">2、修改mysql中root的密码：</a></li><li><a href="#3grant_48" rel="nofollow">3、grant授权</a></li><li><a href="#4_53" rel="nofollow">4、增加新用户</a></li><li><a href="#5_61" rel="nofollow">5、删除授权：</a></li><li><a href="#6customit363comfangchandb_71" rel="nofollow">6、创建一个用户custom在特定客户端it363.com登录，可访问特定数据库fangchandb</a></li><li><a href="#7_77" rel="nofollow">7、重命名表:</a></li><li><a href="#8mysqldump_84" rel="nofollow">8、mysqldump</a></li><li><a href="#9_92" rel="nofollow">9、恢复数据库</a></li></ul> 
  </li></ul> 
  </li><li><a href="#mysql_130" rel="nofollow">mysql命令</a></li><li><ul><li><a href="#__MYSQL_132" rel="nofollow">一 . 安装与配置MYSQL</a></li><li><a href="#__mysql_136" rel="nofollow">二 . 常用mysql命令行命令</a></li><li><ul><li><a href="#1_mysql_138" rel="nofollow">1 .mysql的启动与停止</a></li><li><a href="#2___findstr_152" rel="nofollow">2 .查看被监听的端口 , findstr用于查找后面的端口是否存在</a></li><li><a href="#3__MYSQL___MYSQL_COMMEND_LINE_TOOL_158" rel="nofollow">3 . 在命令行中登陆MYSQL控制台 , 即使用 MYSQL COMMEND LINE TOOL</a></li><li><a href="#5____183" rel="nofollow">5 . 切换连接数据库的语法 :</a></li><li><a href="#6____189" rel="nofollow">6 . 显示所有数据库 :</a></li><li><a href="#7____195" rel="nofollow">7 . 显示数据库中的所有表 :</a></li><li><a href="#8____201" rel="nofollow">8 . 显示某个表创建时的全部信息 :</a></li><li><a href="#9___207" rel="nofollow">9 . 查看表的具体属性信息及表中各字段的描述</a></li></ul> 
   </li><li><a href="#__MySqlSQL_219" rel="nofollow">三 . MySql中的SQL语句</a></li><li><ul><li><a href="#_404" rel="nofollow">习题：</a></li></ul> 
   </li><li><a href="#__450" rel="nofollow">四. 字符集出现错误解决办法</a></li><li><a href="#_MySQL_619" rel="nofollow">五. 学习MySQL常用操作命令</a></li><li><ul><li><a href="#1MySQL_621" rel="nofollow">1、启动MySQL服务器</a></li><li><a href="#2mysql_625" rel="nofollow">2、进入mysql交互操作界面</a></li><li><a href="#3MySQL_635" rel="nofollow">3、退出MySQL操作界面</a></li><li><a href="#4_646" rel="nofollow">4、第一条命令</a></li><li><a href="#5_673" rel="nofollow">5、多行语句</a></li><li><a href="#6_697" rel="nofollow">6、一行多命令</a></li><li><a href="#7_722" rel="nofollow">7、显示当前存在的数据库</a></li><li><a href="#8_738" rel="nofollow">8、选择数据库并显示当前选择的数据库</a></li><li><a href="#9_756" rel="nofollow">9、显示当前数据库中存在的表</a></li><li><a href="#10db_762" rel="nofollow">10、显示表(db)的内容</a></li><li><a href="#11_768" rel="nofollow">11、命令的取消</a></li></ul> 
   </li><li><a href="#_mysql_783" rel="nofollow">六. mysql命令</a></li><li><ul><li><a href="#MYSQL_789" rel="nofollow">一、连接MYSQL。</a></li><li><ul><li><a href="#1MYSQL_793" rel="nofollow">1、连接到本机上的MYSQL。</a></li><li><a href="#2MYSQL_799" rel="nofollow">2、连接到远程主机上的MYSQL。</a></li><li><a href="#3MYSQL_exit__805" rel="nofollow">3、退出MYSQL命令： exit (回车)</a></li></ul> 
    </li><li><a href="#_807" rel="nofollow">二、修改密码。</a></li><li><ul><li><a href="#1rootab12_811" rel="nofollow">1、给root加个密码ab12。</a></li><li><a href="#2rootdjg345_821" rel="nofollow">2、再将root的密码改为djg345。</a></li></ul> 
    </li><li><a href="#_827" rel="nofollow">三、增加新用户。</a></li></ul> 
   </li><li><a href="#_MYSQL_861" rel="nofollow">七. MYSQL中有关数据库方面的操作。</a></li><li><ul><li><a href="#_865" rel="nofollow">一、操作技巧</a></li><li><a href="#_871" rel="nofollow">二、显示命令</a></li><li><ul><li><a href="#1_873" rel="nofollow">1、显示当前数据库服务器中的数据库列表：</a></li><li><a href="#2_881" rel="nofollow">2、显示数据库中的数据表：</a></li><li><a href="#3_889" rel="nofollow">3、显示数据表的结构：</a></li><li><a href="#4_895" rel="nofollow">4、建立数据库：</a></li><li><a href="#5_901" rel="nofollow">5、建立数据表：</a></li><li><a href="#6_907" rel="nofollow">6、删除数据库：</a></li><li><a href="#7_911" rel="nofollow">7、删除数据表：</a></li><li><a href="#8_915" rel="nofollow">8、将表中记录清空：</a></li><li><a href="#9_919" rel="nofollow">9、显示表中的记录：</a></li><li><a href="#10_923" rel="nofollow">10、往表中插入记录：</a></li><li><a href="#11_927" rel="nofollow">11、更新表中数据：</a></li><li><a href="#12_931" rel="nofollow">12、用文本方式将数据装入数据表中：</a></li><li><a href="#13sql_935" rel="nofollow">13、导入.sql文件命令：</a></li><li><a href="#14root_943" rel="nofollow">14、命令行修改root密码：</a></li><li><a href="#15use_951" rel="nofollow">15、显示use的数据库名：</a></li><li><a href="#16user_957" rel="nofollow">16、显示当前的user：</a></li></ul> 
    </li><li><a href="#_963" rel="nofollow">三、一个建库和建表以及插入数据的实例</a></li><li><a href="#_1002" rel="nofollow">四、将文本数据转到数据库中</a></li><li><a href="#_1016" rel="nofollow">五、备份数据库</a></li><li><ul><li><a href="#1_1017" rel="nofollow">1.导出整个数据库</a></li><li><a href="#2_1027" rel="nofollow">2.导出一个表</a></li><li><a href="#3_1035" rel="nofollow">3.导出一个数据库结构</a></li><li><a href="#4_1043" rel="nofollow">4.带语言参数导出</a></li></ul> 
    </li><li><a href="#_1049" rel="nofollow">六、导入数据库</a></li><li><ul><li><a href="#_1073" rel="nofollow">**数据库及表导出导入示例：**</a></li><li><a href="#_1125" rel="nofollow">**导入数据库：**</a></li><li><a href="#_1157" rel="nofollow">**其他**</a></li></ul> 
    </li><li><a href="#MySql_1235" rel="nofollow">使用MySql的管理心得,</a></li></ul> 
   </li><li><a href="#__1275" rel="nofollow">八. 全局管理权限：</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="MySQL_2"></a>MySQL基础</h2> 
<h3><a id="MySql_3"></a>MySql基本指令</h3> 
<h4><a id="1MySQL_5"></a>1、MySQL常用命令</h4> 
<pre><code class="prism language-bash"><span class="token comment"># 创建数据库</span>
create database name<span class="token punctuation">;</span>  
<span class="token comment">#选择数据库</span>
use databasename<span class="token punctuation">;</span>
<span class="token comment">#直接删除数据库，不提醒</span>
drop database name <span class="token punctuation">;</span>
<span class="token comment">#显示表</span>
show tables<span class="token punctuation">;</span> 
<span class="token comment">#表的详细描述</span>
describe tablename<span class="token punctuation">;</span> 

<span class="token keyword">select</span> 中加上distinct去除重复字段

<span class="token comment">#删除数据库前，有提示。</span>
mysqladmin drop databasename 

<span class="token comment">#显示当前mysql版本和当前日期</span>
<span class="token keyword">select</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span>,current_date<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="2mysqlroot_30"></a>2、修改mysql中root的密码：</h4> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>

update user <span class="token builtin class-name">set</span> <span class="token assign-left variable">password</span><span class="token operator">=</span>password<span class="token punctuation">(</span>”123456″<span class="token punctuation">)</span> where <span class="token assign-left variable">user</span><span class="token operator">=</span>’root’<span class="token punctuation">;</span>

flush privileges <span class="token comment">#刷新数据库</span>

use dbname<span class="token punctuation">;</span> <span class="token comment">#打开数据库：</span>

show databases<span class="token punctuation">;</span> <span class="token comment">#显示所有数据库</span>

show tables<span class="token punctuation">;</span> <span class="token comment">#显示数据库mysql中所有的表：先use mysql；然后</span>

describe user<span class="token punctuation">;</span> <span class="token comment">#显示表mysql数据库中user表的列信息)；</span>
</code></pre> 
<h4><a id="3grant_48"></a>3、grant授权</h4> 
<p>创建一个可以从任何地方连接服务器的一个完全的超级用户，但是必须使用一个口令something做这个</p> 
<pre><code class="prism language-bash">grant all privileges on *.* to user@localhost identified by ’something’ with
</code></pre> 
<h4><a id="4_53"></a>4、增加新用户</h4> 
<p>格式：<code>grant select on 数据库.* to 用户名@登录主机 identified by “密码”</code></p> 
<pre><code class="prism language-bash">GRANT ALL PRIVILEGES ON *.* TO monty@localhost IDENTIFIED BY ’something’ WITH GRANT OPTION<span class="token punctuation">;</span>
GRANT ALL PRIVILEGES ON <span class="token builtin class-name">.</span> TO monty@”%” IDENTIFIED BY ’something’ WITH GRANT OPTION<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="5_61"></a>5、删除授权：</h4> 
<pre><code class="prism language-bash">revoke all privileges on <span class="token builtin class-name">.</span> from root@”%”<span class="token punctuation">;</span>

delete from user where <span class="token assign-left variable">user</span><span class="token operator">=</span>”root” and <span class="token assign-left variable">host</span><span class="token operator">=</span>”%”<span class="token punctuation">;</span>

flush privileges<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="6customit363comfangchandb_71"></a>6、创建一个用户custom在特定客户端it363.com登录，可访问特定数据库fangchandb</h4> 
<pre><code class="prism language-bash">grant select, insert, update, delete, create,drop on fangchandb.* to custom@ it363.com identified by ‘ passwd’
</code></pre> 
<h4><a id="7_77"></a>7、重命名表:</h4> 
<pre><code class="prism language-bash">alter table t1 <span class="token function">rename</span> t2<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="8mysqldump_84"></a>8、mysqldump</h4> 
<p>备份数据库</p> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-h</span> <span class="token function">host</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> dbname <span class="token operator">&gt;</span>dbname_backup.sql
</code></pre> 
<h4><a id="9_92"></a>9、恢复数据库</h4> 
<pre><code class="prism language-bash">mysqladmin <span class="token parameter variable">-h</span> myhost <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> create dbname
mysqldump <span class="token parameter variable">-h</span> <span class="token function">host</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> dbname <span class="token operator">&lt;</span> dbname_backup.sql
</code></pre> 
<ol><li>如果只想卸出建表指令，则命令如下：</li></ol> 
<pre><code class="prism language-bash">mysqladmin <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> <span class="token parameter variable">-d</span> databasename <span class="token operator">&gt;</span> a.sql
</code></pre> 
<ol start="2"><li>如果只想卸出插入数据的sql命令，而不需要建表命令，则命令如下：</li></ol> 
<pre><code class="prism language-bash"> mysqladmin <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> <span class="token parameter variable">-t</span> databasename <span class="token operator">&gt;</span> a.sql
</code></pre> 
<ol start="3"><li>那么如果我只想要数据，而不想要什么sql命令时，应该如何操作呢？</li></ol> 
<pre><code class="prism language-bash">mysqldump -T./ phptest driver
</code></pre> 
<blockquote> 
 <p>其中，只有指定了-T参数才可以卸出纯文本文件，表示卸出数据的目录，./表示当前目录，即与mysqldump同一目录。如果不指定driver<br> 表，则将卸出整个数据库的数据。每个表会生成两个文件，一个为.sql文件，包含建表执行。另一个为.txt文件，只包含数据，且没有sql指令。</p> 
</blockquote> 
<p>可将查询存储在一个文件中并告诉mysql从文件中读取查询而不是等待键盘输入。可利用外壳程序键入重定向实用程序来完成这项工作。</p> 
<p>例如，如果在文件my_file.sql 中存放有查询，可如下执行这些查询：</p> 
<p>例如，如果您想将建表语句提前写在sql.txt中:</p> 
<pre><code class="prism language-bash"> mysql <span class="token parameter variable">-h</span> myhost <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> database <span class="token operator">&lt;</span> sql.txt
</code></pre> 
<h2><a id="mysql_130"></a>mysql命令</h2> 
<h3><a id="__MYSQL_132"></a>一 . 安装与配置MYSQL</h3> 
<p>这个就不说了，一般分为Windows安装和Linux安装</p> 
<h3><a id="__mysql_136"></a>二 . 常用mysql命令行命令</h3> 
<h4><a id="1_mysql_138"></a>1 .mysql的启动与停止</h4> 
<p>启动MYSQL服务</p> 
<pre><code class="prism language-bash">net start mysql
</code></pre> 
<p>停止MYSQL服务</p> 
<pre><code class="prism language-bash">net stop mysql
</code></pre> 
<h4><a id="2___findstr_152"></a>2 .查看被监听的端口 , findstr用于查找后面的端口是否存在</h4> 
<pre><code class="prism language-bash"><span class="token function">netstat</span> –na <span class="token operator">|</span> findstr <span class="token number">3306</span> 
</code></pre> 
<h4><a id="3__MYSQL___MYSQL_COMMEND_LINE_TOOL_158"></a>3 . 在命令行中登陆MYSQL控制台 , 即使用 MYSQL COMMEND LINE TOOL</h4> 
<p>语法格式</p> 
<pre><code class="prism language-bash">mysql –user<span class="token operator">=</span>root –password<span class="token operator">=</span><span class="token number">123456</span> db_name
</code></pre> 
<p>或</p> 
<pre><code class="prism language-bash">mysql –u root –p123456 db_name
</code></pre> 
<p>4 . 进入MYSQL命令行工具后 , 使用</p> 
<pre><code class="prism language-bash">status<span class="token punctuation">;</span>
</code></pre> 
<p>或</p> 
<pre><code class="prism language-bash">/s 
</code></pre> 
<p>查看运行环境信息</p> 
<h4><a id="5____183"></a>5 . 切换连接数据库的语法 :</h4> 
<pre><code class="prism language-bash">use new_dbname<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="6____189"></a>6 . 显示所有数据库 :</h4> 
<pre><code class="prism language-bash"> show databases<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="7____195"></a>7 . 显示数据库中的所有表 :</h4> 
<pre><code class="prism language-bash">show tables<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="8____201"></a>8 . 显示某个表创建时的全部信息 :</h4> 
<pre><code class="prism language-bash"> show create table table_name<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="9___207"></a>9 . 查看表的具体属性信息及表中各字段的描述</h4> 
<pre><code class="prism language-bash">Describe table_name<span class="token punctuation">;</span> 
</code></pre> 
<p>缩写形式 :</p> 
<pre><code class="prism language-bash">desc table_name<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="__MySqlSQL_219"></a>三 . MySql中的SQL语句</h3> 
<ol><li>数据库创建 :</li></ol> 
<pre><code class="prism language-bash"> Create database db_name<span class="token punctuation">;</span>
</code></pre> 
<ol start="2"><li>数据库删除 :</li></ol> 
<pre><code class="prism language-bash">Drop database db_name<span class="token punctuation">;</span> 
</code></pre> 
<ol start="4"><li>删除时可先判断是否存在，写成 :</li></ol> 
<pre><code class="prism language-bash">  drop database <span class="token keyword">if</span> exits db_name
</code></pre> 
<ol start="3"><li>建表 : 创建数据表的语法 :<br> <code>create table table_name (字段1 数据类型 , 字段2 数据类型);</code><br> 例 :</li></ol> 
<pre><code class="prism language-bash">   create table mytable <span class="token punctuation">(</span>id int , username char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="4"><li>删表 :<br> <code>drop table table_name;</code><br> 例 :</li></ol> 
<pre><code class="prism language-bash">drop table mytable<span class="token punctuation">;</span>
</code></pre> 
<ol start="5"><li>添加数据 :<br> <code>Insert into 表名 [(字段1 , 字段2 , ….)] values (值1 , 值2 , …..);</code><br> 如果向表中的每个字段都插入一个值,那么前面 [ ] 括号内字段名可写也可不写<br> 例 :</li></ol> 
<pre><code class="prism language-bash">   insert into mytable <span class="token punctuation">(</span>id,username<span class="token punctuation">)</span> values <span class="token punctuation">(</span><span class="token number">1</span>,’zhangsan’<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ol start="6"><li>查询 : 查询所有数据 :<br> <code>select * from table_name;</code><br> 查询指定字段的数据 :<br> <code>select 字段1 , 字段2 from table_name;</code><br> 例 :</li></ol> 
<pre><code class="prism language-bash">   <span class="token keyword">select</span> id,username from mytable where <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token number">1</span> order by desc<span class="token punctuation">;</span>
</code></pre> 
<p>多表查询语句------------参照第17条实例<br> 8. 更新指定数据 , 更新某一个字段的数据(注意，不是更新字段的名字)<br> <code>Update table_name set 字段名=’新值’ [, 字段2 =’新值’ , …..][where id=id_num] [order by 字段 顺序]</code><br> 例 :</p> 
<pre><code class="prism language-bash">update mytable <span class="token builtin class-name">set</span> <span class="token assign-left variable">username</span><span class="token operator">=</span>’lisi’ where <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> 
<p>order语句是查询的顺序 ,<br> 如 :<br> <code> order by id desc(或asc)</code><br> 顺序有两种 :</p> 
<ul><li> <p>desc倒序(100—1,即从最新数据往后查询)</p> </li><li> <p>asc(从1-100)，</p> </li><li> <p>Where和order语句也可用于查询select 与删除delete</p> </li></ul> 
<ol><li>删除表中的信息 :<br> 删除整个表中的信息 :<br> <code>delete from table_name;</code><br> 删除表中指定条件的语句 :<br> <code>delete from table_name where 条件语句 ; </code> 条件语句如 : id=3;</li><li>创建数据库用户<br> 一次可以创建多个数据库用户如：<br> <code>CREATE USER username1 identified BY ‘password’ , username2 IDENTIFIED BY ‘password’….</code></li><li>用户的权限控制：grant库，表级的权限控制 : 将某个库中的某个表的控制权赋予某个用户<br> <code> Grant all ON db_name.table_name TO user_name [ indentified by ‘password’ ];</code></li><li>表结构的修改<br> (1)增加一个字段格式：<br> <code> alter table table_name add column (字段名 字段类型); </code>----此方法带括号<br> (2)指定字段插入的位置：<br> <code>alter table table_name add column 字段名 字段类型 after 某字段；</code><br> 删除一个字段：<br> <code> alter table table_name drop字段名;</code><br> (3)修改字段名称/类型<br> <code>alter table table_name change 旧字段名 新字段名 新字段的类型;</code><br> (4)改表的名字<br> <code> alter table table_name rename to new_table_name;</code><br> (5)一次性清空表中的所有数据<br> <code>truncate table table_name; 此方法也会使表中的取号器(ID)从1开始</code></li><li>增加主键，外键，约束，索引。。。。(使用方法见17实例)<br> <strong>① 约束(主键Primary key、唯一性Unique、非空Not Null)<br> ② 自动增张 auto_increment<br> ③外键Foreign key-----与reference table_name(col_name列名)配合使用，建表时单独使用<br> ④ 删除多个表中有关联的数据----设置foreign key 为set null —具体设置参考帮助文档</strong></li><li>查看数据库当前引擎<br> <code>SHOW CREATE TABLE table_name;</code></li><li>修改数据库引擎<br> <code> ALTER TABLE table_name ENGINE=MyISAM | InnoDB;</code></li><li>SQL语句运用实例: 
  <ol><li> <p>建users表</p> <pre><code class="prism language-bash">   create table <span class="token function">users</span> <span class="token punctuation">(</span>
   	<span class="token function">id</span> int primary key auto_increment,
   	nikename varchar<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> not null unique,
   	password varchar<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> not null,
   	address varchar<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>, 
   	reg_date timestamp not null default CURRENT_TIMESTAMP
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>建articles表,在建表时设置外键</p> <pre><code class="prism language-bash">  create table articles <span class="token punctuation">(</span>
       <span class="token function">id</span> int primary key auto_increment,
       content longtext not null,
       userid int,
       constraint foreign key <span class="token punctuation">(</span>userid<span class="token punctuation">)</span> references users<span class="token punctuation">(</span>id<span class="token punctuation">)</span> on delete <span class="token builtin class-name">set</span> null
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
    <ol><li> <p>建articles表,建表时不设置外键</p> <pre><code class="prism language-bash">create table articles <span class="token punctuation">(</span>
       <span class="token function">id</span> int primary key auto_increment,
       content longtext not null,
       userid int
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>给articles表设置外键</p> <pre><code class="prism language-bash">alter table articles <span class="token function">add</span> constraint foreign key <span class="token punctuation">(</span>userid<span class="token punctuation">)</span> references users<span class="token punctuation">(</span>id<span class="token punctuation">)</span> on delete <span class="token builtin class-name">set</span> null<span class="token punctuation">;</span>
</code></pre> </li></ol> </li><li> <p>向users表中插入数据,同时插入多条</p> <pre><code class="prism language-bash"> insert into <span class="token function">users</span> <span class="token punctuation">(</span>id,nikename,password,address<span class="token punctuation">)</span> values <span class="token punctuation">(</span><span class="token number">1</span>,<span class="token string">'lyh1'</span>,<span class="token string">'1234'</span>,null<span class="token punctuation">)</span>,<span class="token punctuation">(</span><span class="token number">10</span>,<span class="token string">'lyh22'</span>,<span class="token string">'4321'</span>,<span class="token string">'湖北武汉'</span><span class="token punctuation">)</span>,<span class="token punctuation">(</span>null,<span class="token string">'lyh333'</span>,<span class="token string">'5678'</span>, <span class="token string">'北京海淀'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>向article中插入三条数据</p> <pre><code class="prism language-bash">   insert into articles <span class="token punctuation">(</span>id,content,userid<span class="token punctuation">)</span> values <span class="token punctuation">(</span><span class="token number">2</span>,<span class="token string">'hahahahahaha'</span>,11<span class="token punctuation">)</span>,<span class="token punctuation">(</span>null,<span class="token string">'xixixixixix'</span>,10<span class="token punctuation">)</span>,<span class="token punctuation">(</span><span class="token number">13</span>,<span class="token string">'aiaiaiaiaiaiaiaiaiaiaiaia'</span>,1<span class="token punctuation">)</span>,<span class="token punctuation">(</span><span class="token number">14</span>,<span class="token string">'hohoahaoaoooooooooo'</span>,10<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
    <ol start="5"><li>进行多表查询，选择users表中ID=10的用户发布的所有留言及该用户的所有信息</li></ol> <pre><code class="prism language-bash"><span class="token keyword">select</span> articles.id,articles.content,users.* from users,articles where <span class="token assign-left variable">users.id</span><span class="token operator">=</span><span class="token number">10</span> and <span class="token assign-left variable">articles.userid</span><span class="token operator">=</span>users.id order by articles.id desc<span class="token punctuation">;</span>
</code></pre> <p><strong>–6. 查看数据库引擎类型</strong></p> <p><code>show create table users;</code></p> <p><strong>–7. 修改数据库引擎类型</strong></p> <p><code>alter table users engine=MyISAM; </code>—因为users表中ID被设置成外键，执行此句会出错</p> <p>-<strong>-8. 同表查询,已知一个条件的情况下.查询ID号大于用户lyh1的ID号的所有用户</strong></p> <p><code>select a.id,a.nikename,a.address from users a,users b where b.nikename='lyh1' and a.id&gt;b.id;</code></p> <p>------也可写成</p> <p><code>select id,nikename,address from users where id&gt;(select id from users where nikename='lyh1');</code></p> </li></ol> </li></ol> 
<h4><a id="_404"></a>习题：</h4> 
<ol><li>显示年龄比领导还大的员工：</li></ol> 
<pre><code class="prism language-bash"><span class="token keyword">select</span> a.name from <span class="token function">users</span> a,users b where <span class="token assign-left variable">a.managerid</span><span class="token operator">=</span>b.id and a.age<span class="token operator">&gt;</span>b.age<span class="token punctuation">;</span>
</code></pre> 
<ol><li>查询编号为2的发帖人: 先查articles表,得到发帖人的编号,再根据编号查users得到的用户名。<br> 接着用关联查询. 
  <ol><li><code>select * from articles,users;</code>得到笛卡儿积,再加<code>order by articles.id</code>以便观察</li><li>使用<code>select * from articles,users where articles.id=2 </code>筛选出2号帖子与每个用户的组合记录</li><li>再使用<code>select * from articles,users where articles.id=2 and articles.userid=users.id</code>选出users.id等于2号帖的发帖人id的记录.</li><li>只取用户名:<code>select user where user.id=(select userid from articles where article.id =2)</code></li></ol> </li><li>找出年龄比小王还大的人:假设小王是28岁,先想找出年龄大于28的人</li></ol> 
<pre><code class="prism language-bash">   <span class="token keyword">select</span> * from <span class="token function">users</span> where age<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">select</span> age from <span class="token function">users</span> where <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">'xiaowang'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>要查询的记录需要参照表里面的其他记录:</p> 
<pre><code class="prism language-bash"><span class="token keyword">select</span> a.name from <span class="token function">users</span> a,users b where <span class="token assign-left variable">b.name</span><span class="token operator">=</span><span class="token string">'xiaowang'</span> and a.age<span class="token operator">&gt;</span>b.age
</code></pre> 
<p>表里的每个用户都想pk一下.</p> 
<pre><code class="prism language-bash"><span class="token keyword">select</span> a.nickname,b.nickname from <span class="token function">users</span> a,users b where a.id<span class="token operator">&gt;</span>b.id <span class="token punctuation">;</span>
</code></pre> 
<p>更保险的语句:</p> 
<pre><code class="prism language-bash"><span class="token keyword">select</span> a.nickname,b.nickname from <span class="token punctuation">(</span>select * from <span class="token function">users</span> order by <span class="token function">id</span><span class="token punctuation">)</span> a,<span class="token punctuation">(</span>select * from <span class="token function">users</span> order by <span class="token function">id</span><span class="token punctuation">)</span> b where a.id<span class="token operator">&gt;</span>b.id <span class="token punctuation">;</span>
</code></pre> 
<p>再查询某个人发的所有帖子.</p> 
<pre><code class="prism language-bash"><span class="token keyword">select</span> b.* from articles a , articles b where <span class="token assign-left variable">a.id</span><span class="token operator">=</span><span class="token number">2</span> and <span class="token assign-left variable">a.userid</span><span class="token operator">=</span>b.userid
</code></pre> 
<p>说明: 表之间存在着关系，ER概念的解释，用access中的示例数据库演示表之间的关系.只有innodb引擎才支持foreign key，mysql的任何引擎目前都不支持check约束。</p> 
<h3><a id="__450"></a>四. 字符集出现错误解决办法</h3> 
<p>出现的问题：</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> update <span class="token function">users</span>
-<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> <span class="token assign-left variable">username</span><span class="token operator">=</span><span class="token string">'关羽'</span>
-<span class="token operator">&gt;</span> where <span class="token assign-left variable">userid</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>

ERROR <span class="token number">1366</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Incorrect string value: <span class="token string">'/xB9/xD8/xD3/xF0'</span> <span class="token keyword">for</span> <span class="token function">column</span> <span class="token string">'username'</span> at row <span class="token number">1</span>
</code></pre> 
<p>向表中插入中文字符时，出现错误。</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from <span class="token function">users</span><span class="token punctuation">;</span>
+--------+----------+
<span class="token operator">|</span> userid <span class="token operator">|</span> username <span class="token operator">|</span>
+--------+----------+
<span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> ???? <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> ???? <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4</span> <span class="token operator">|</span> ?í?ù <span class="token operator">|</span>
+--------+----------+
<span class="token number">3</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>表中的中文字符位乱码。</p> 
<p>解决办法：</p> 
<p>使用命令：</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> status<span class="token punctuation">;</span>
mysql Ver <span class="token number">14.12</span> Distrib <span class="token number">5.0</span>.45, <span class="token keyword">for</span> Win32 <span class="token punctuation">(</span>ia32<span class="token punctuation">)</span>
Connection id: <span class="token number">8</span>
Current database: <span class="token builtin class-name">test</span>
Current user: root@localhost
SSL: Not <span class="token keyword">in</span> use
Using delimiter: <span class="token punctuation">;</span>
Server version: <span class="token number">5.0</span>.45-community-nt MySQL Community Edition <span class="token punctuation">(</span>GPL<span class="token punctuation">)</span>
Protocol version: <span class="token number">10</span>
Connection: localhost via TCP/IP
Server characterset: latin1
Db characterset: latin1
Client characterset: gbk
Conn. characterset: gbk
TCP port: <span class="token number">3306</span>
Uptime: <span class="token number">7</span> hours <span class="token number">39</span> min <span class="token number">19</span> sec
Threads: <span class="token number">2</span> Questions: <span class="token number">174</span> Slow queries: <span class="token number">0</span> Opens: <span class="token number">57</span> Flush tables: <span class="token number">1</span> Open ta
bles: <span class="token number">1</span> Queries per second avg: <span class="token number">0.006</span>
</code></pre> 
<p>查看mysql发现Server characterset，Db characterset的字符集设成了latin1，所以出现中文乱码。</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> show tables<span class="token punctuation">;</span>
+----------------+
<span class="token operator">|</span> Tables_in_test <span class="token operator">|</span>
+----------------+
<span class="token operator">|</span> <span class="token function">users</span> <span class="token operator">|</span>
+----------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>更改表的字符集。</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> alter table <span class="token function">users</span> character <span class="token builtin class-name">set</span> GBK<span class="token punctuation">;</span>
Query OK, <span class="token number">3</span> rows affected <span class="token punctuation">(</span><span class="token number">0.08</span> sec<span class="token punctuation">)</span>
Records: <span class="token number">3</span> Duplicates: <span class="token number">0</span> Warnings: <span class="token number">0</span>
</code></pre> 
<p>查看表的结构：</p> 
<pre><code class="prism language-bash">   mysql<span class="token operator">&gt;</span> show create <span class="token function">users</span><span class="token punctuation">;</span>
    
    ERROR <span class="token number">1064</span> <span class="token punctuation">(</span><span class="token number">42000</span><span class="token punctuation">)</span>: You have an error <span class="token keyword">in</span> your SQL syntax<span class="token punctuation">;</span> check the manual that corresponds to your MySQL server version <span class="token keyword">for</span> the right syntax to use near <span class="token string">'users'</span> at line <span class="token number">1</span>
    mysql<span class="token operator">&gt;</span> show create table <span class="token function">users</span><span class="token punctuation">;</span>
    
    <span class="token operator">|</span> Table <span class="token operator">|</span> Create Table<span class="token operator">||</span> <span class="token function">users</span> <span class="token operator">|</span> 
    CREATE TABLE <span class="token function">users</span> <span class="token punctuation">(</span>
    userid int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> default NULL,
    username char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> character <span class="token builtin class-name">set</span> latin1 default NULL
    <span class="token punctuation">)</span> <span class="token assign-left variable">ENGINE</span><span class="token operator">=</span>InnoDB DEFAULT <span class="token assign-left variable">CHARSET</span><span class="token operator">=</span>gbk <span class="token operator">|</span>
    <span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
    
    mysql<span class="token operator">&gt;</span> desc <span class="token function">users</span><span class="token punctuation">;</span>
    
    +----------+----------+------+-----+---------+-------+
    <span class="token operator">|</span> Field <span class="token operator">|</span> Type <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
    +----------+----------+------+-----+---------+-------+
    <span class="token operator">|</span> userid <span class="token operator">|</span> int<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES <span class="token operator">|</span> <span class="token operator">|</span> NULL <span class="token operator">|</span> <span class="token operator">|</span>
    <span class="token operator">|</span> username <span class="token operator">|</span> char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES <span class="token operator">|</span> <span class="token operator">|</span> NULL <span class="token operator">|</span> <span class="token operator">|</span>
    +----------+----------+------+-----+---------+-------+
    <span class="token number">2</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>
</code></pre> 
<p>这时向表中插入中文然后有错误。</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> insert into <span class="token function">users</span> values<span class="token punctuation">(</span><span class="token number">88</span>,<span class="token string">'中文'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ERROR <span class="token number">1366</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Incorrect string value: <span class="token string">'/xD6/xD0/xCE/xC4'</span> <span class="token keyword">for</span> <span class="token function">column</span> <span class="token string">'username'</span> at row <span class="token number">1</span>

mysql<span class="token operator">&gt;</span> insert into <span class="token function">users</span> values<span class="token punctuation">(</span><span class="token number">88</span>,<span class="token string">'中文'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ERROR <span class="token number">1366</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Incorrect string value: <span class="token string">'/xD6/xD0/xCE/xC4'</span> <span class="token keyword">for</span> <span class="token function">column</span> <span class="token string">'username'</span> at row <span class="token number">1</span>
</code></pre> 
<p>还要更改users表的username的字符集。</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> alter table <span class="token function">users</span> modify username char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> character <span class="token builtin class-name">set</span> gbk<span class="token punctuation">;</span>

ERROR <span class="token number">1366</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Incorrect string value: <span class="token string">'/xC0/xEE/xCB/xC4'</span> <span class="token keyword">for</span> <span class="token function">column</span> <span class="token string">'username'</span> at row <span class="token number">1</span>

mysql<span class="token operator">&gt;</span> alter table <span class="token function">users</span> modify username char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> character <span class="token builtin class-name">set</span> gbk<span class="token punctuation">;</span>

ERROR <span class="token number">1366</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Incorrect string value: <span class="token string">'/xC0/xEE/xCB/xC4'</span> <span class="token keyword">for</span> <span class="token function">column</span> <span class="token string">'username'</span> at row <span class="token number">1</span>
</code></pre> 
<p>因为表中已经有数据，所以更改username字符集的操作没有成功</p> 
<ul><li>清空users表中的数据</li></ul> 
<pre><code class="prism language-bash">   mysql<span class="token operator">&gt;</span> truncate table <span class="token function">users</span><span class="token punctuation">;</span>
    Query OK, <span class="token number">3</span> rows affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> 
<ul><li>重新更改user表中username的字符集</li></ul> 
<pre><code class="prism language-bash">  mysql<span class="token operator">&gt;</span> alter table <span class="token function">users</span> modify username char<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> character <span class="token builtin class-name">set</span> gbk<span class="token punctuation">;</span>
    Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.06</span> sec<span class="token punctuation">)</span>
    Records: <span class="token number">0</span> Duplicates: <span class="token number">0</span> Warnings: <span class="token number">0</span>
</code></pre> 
<ul><li>这时再插入中文字符，插入成功。</li></ul> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> insert into <span class="token function">users</span> values<span class="token punctuation">(</span><span class="token number">88</span>,<span class="token string">'中文'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Query OK, <span class="token number">1</span> row affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from <span class="token function">users</span><span class="token punctuation">;</span>
+--------+----------+
<span class="token operator">|</span> userid <span class="token operator">|</span> username <span class="token operator">|</span>
+--------+----------+
<span class="token operator">|</span> <span class="token number">88</span> <span class="token operator">|</span> 中文 <span class="token operator">|</span>
+--------+----------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span>exit<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_MySQL_619"></a>五. 学习MySQL常用操作命令</h3> 
<h4><a id="1MySQL_621"></a>1、启动MySQL服务器</h4> 
<p>实际上上篇已讲到如何启动MySQL。两种方法： 一是用<code>winmysqladmin</code>，如果机器启动时已自动运行，则可直接进入下一步操作。 二是在DOS方式下运行 <code>d:mysqlbinmysqld</code></p> 
<h4><a id="2mysql_625"></a>2、进入mysql交互操作界面</h4> 
<p>在DOS方式下，运行： <code>d:mysqlbinmysql</code></p> 
<p>出现: mysql 的提示符，此时已进入mysql的交互操作方式。</p> 
<p>如果出现 "ERROR 2003: Can′t connect to MySQL server on ′localhost′ (10061)“，</p> 
<p>说明你的MySQL还没有启动。</p> 
<h4><a id="3MySQL_635"></a>3、退出MySQL操作界面</h4> 
<p>在mysql&gt;提示符下输入quit可以随时退出交互操作界面：</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> quit
Bye
</code></pre> 
<p>你也可以用control-D退出。</p> 
<h4><a id="4_646"></a>4、第一条命令</h4> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span>,current_date<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
+----------------+-----------------+
<span class="token operator">|</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span> current_date<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span>
+----------------+-----------------+
<span class="token operator">|</span> <span class="token number">3.23</span>.25a-debug <span class="token operator">|</span> <span class="token number">2001</span>-05-17 <span class="token operator">|</span>
+----------------+-----------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span>
</code></pre> 
<p>此命令要求mysql服务器告诉你它的版本号和当前日期。尝试用不同大小写操作上述命令，看结果如何。结果说明mysql命令的大小写结果是一致的。</p> 
<p>练习如下操作：</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span>Select <span class="token punctuation">(</span><span class="token number">20</span>+5<span class="token punctuation">)</span>*4<span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span>Select <span class="token punctuation">(</span><span class="token number">20</span>+5<span class="token punctuation">)</span>*4,sin<span class="token punctuation">(</span>pi<span class="token punctuation">(</span><span class="token punctuation">)</span>/3<span class="token punctuation">)</span><span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span>Select <span class="token punctuation">(</span><span class="token number">20</span>+5<span class="token punctuation">)</span>*4 AS Result,sin<span class="token punctuation">(</span>pi<span class="token punctuation">(</span><span class="token punctuation">)</span>/3<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> 
<p>(AS: 指定假名为Result)</p> 
<h4><a id="5_673"></a>5、多行语句</h4> 
<p>一条命令可以分成多行输入，直到出现分号“；”为止：</p> 
<pre><code class="prism language-bash">  mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span>
    -<span class="token operator">&gt;</span> <span class="token environment constant">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    -<span class="token operator">&gt;</span> ,
    -<span class="token operator">&gt;</span> now<span class="token punctuation">(</span><span class="token punctuation">)</span>
    -<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    +--------------------+---------------------+
    <span class="token operator">|</span> <span class="token environment constant">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span> now<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span>
    +--------------------+---------------------+
    <span class="token operator">|</span> ODBC@localhost <span class="token operator">|</span> <span class="token number">2001</span>-05-17 <span class="token number">22</span>:59:15 <span class="token operator">|</span>
    +--------------------+---------------------+
    <span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.06</span> sec<span class="token punctuation">)</span>
    mysql<span class="token operator">&gt;</span>
    
</code></pre> 
<p>注意中间的逗号和最后的分号的使用方法。</p> 
<h4><a id="6_697"></a>6、一行多命令</h4> 
<p>输入如下命令：</p> 
<pre><code class="prism language-bash"> mysql<span class="token operator">&gt;</span> SELECT <span class="token environment constant">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> SELECT NOW<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    +------------------+
    <span class="token operator">|</span> <span class="token environment constant">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span>
    +------------------+
    <span class="token operator">|</span> ODBC@localhost <span class="token operator">|</span>
    +------------------+
    <span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
    +---------------------+
    <span class="token operator">|</span> NOW<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span>
    +---------------------+
    <span class="token operator">|</span> <span class="token number">2001</span>-05-17 <span class="token number">23</span>:06:15 <span class="token operator">|</span>
    +---------------------+
    <span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
    mysql<span class="token operator">&gt;</span>
</code></pre> 
<p>注意中间的分号，命令之间用分号隔开。</p> 
<h4><a id="7_722"></a>7、显示当前存在的数据库</h4> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> show databases<span class="token punctuation">;</span>
+----------+
<span class="token operator">|</span> Database <span class="token operator">|</span>
+----------+
<span class="token operator">|</span> mysql <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token builtin class-name">test</span> <span class="token operator">|</span>
+----------+
<span class="token number">2</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.06</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="8_738"></a>8、选择数据库并显示当前选择的数据库</h4> 
<pre><code class="prism language-bash"> mysql<span class="token operator">&gt;</span> USE mysql
    Database changed
    mysql<span class="token operator">&gt;</span>
    <span class="token punctuation">(</span>USE 和 QUIT 命令不需要分号结束。<span class="token punctuation">)</span>
    mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ±--------------+
    <span class="token operator">|</span> database<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span>
    ±--------------+
    <span class="token operator">|</span> mysql <span class="token operator">|</span>
    ±--------------+
    <span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="9_756"></a>9、显示当前数据库中存在的表</h4> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> SHOW TABLES<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="10db_762"></a>10、显示表(db)的内容</h4> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span>select * from db<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="11_768"></a>11、命令的取消</h4> 
<p>当命令输入错误而又无法改变(多行语句情形)时，只要在分号出现前就可以用 c来取消该条命令</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span>
-<span class="token operator">&gt;</span> user<span class="token punctuation">(</span><span class="token punctuation">)</span>
-<span class="token operator">&gt;</span> c
mysql<span class="token operator">&gt;</span>
</code></pre> 
<p>这是一些最常用的最基本的操作命令，通过多次练习就可以牢牢掌捂了</p> 
<p>==================</p> 
<h3><a id="_mysql_783"></a>六. mysql命令</h3> 
<p>测试环境：mysql 5.0.45</p> 
<p>【注：可以在mysql中通过mysql&gt; SELECT VERSION();来查看数据库版本】</p> 
<h4><a id="MYSQL_789"></a>一、连接MYSQL。</h4> 
<p>格式：<code>mysql -h主机地址 -u用户名 －p用户密码</code></p> 
<h5><a id="1MYSQL_793"></a>1、连接到本机上的MYSQL。</h5> 
<p>首先打开DOS窗口，然后进入目录mysql/bin，再键入命令<code>mysql -u root -p</code>，回车后提示你输密码.注意用户名前可以有空格也可以没有空格，但是密码前必须没有空格，否则让你重新输入密码.</p> 
<p>如果刚安装好MYSQL，超级用户root是没有密码的，故直接回车即可进入到MYSQL中了，MYSQL的提示符是： mysql&gt;</p> 
<h5><a id="2MYSQL_799"></a>2、连接到远程主机上的MYSQL。</h5> 
<p>假设远程主机的IP为：110.110.110.110，用户名为root,密码为abcd123。则键入以下命令：</p> 
<p><code>mysql -h110.110.110.110 -u root -p abcd123; </code>(注:u与root之间可以不用加空格，其它也一样)</p> 
<h5><a id="3MYSQL_exit__805"></a>3、退出MYSQL命令： exit (回车)</h5> 
<h4><a id="_807"></a>二、修改密码。</h4> 
<p>格式：<code>mysqladmin -u用户名 -p旧密码 password 新密码</code></p> 
<h5><a id="1rootab12_811"></a>1、给root加个密码ab12。</h5> 
<p>首先在DOS下进入目录mysql/bin，然后键入以下命令</p> 
<pre><code class="prism language-bash">mysqladmin <span class="token parameter variable">-u</span> root <span class="token parameter variable">-password</span> <span class="token number">123456</span>
</code></pre> 
<p>注：因为开始时root没有密码，所以-p旧密码一项就可以省略了。</p> 
<h5><a id="2rootdjg345_821"></a>2、再将root的密码改为djg345。</h5> 
<pre><code class="prism language-bash">mysqladmin <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> ab12 password djg345
</code></pre> 
<h4><a id="_827"></a>三、增加新用户。</h4> 
<p>(注意：和上面不同，下面的因为是MYSQL环境中的命令，所以后面都带一个分号作为命令结束符)</p> 
<p>格式：<code>grant select on 数据库.* to 用户名@登录主机 identified by “密码”</code></p> 
<p>1、增加一个用户test1密码为abc，让他可以在任何主机上登录，并对所有数据库有查询、插入、修改、删除的权限。首先用root用户连入MYSQL，然后键入以下命令：</p> 
<pre><code class="prism language-bash">grant select,insert,update,delete on *.* to <span class="token punctuation">[</span>email<span class="token operator">=</span>test1@”%<span class="token punctuation">]</span>test1@”%<span class="token punctuation">[</span>/email<span class="token punctuation">]</span>” Identified by “abc”<span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>但增加的用户是十分危险的，你想如某个人知道test1的密码，那么他就可以在internet上的任何一台电脑上登录你的mysql数据库并对你的数据可以为所欲为了，解决办法见2。</p> 
</blockquote> 
<p>2、增加一个用户test2密码为abc,让他只可以在localhost上登录，并可以对数据库mydb进行查询、插入、修改、删除的操作(localhost指本地主机，即MYSQL数据库所在的那台主机)，</p> 
<p>这样用户即<strong>使用知道test2的密码，他也无法从internet上直接访问数据库，只能通过MYSQL主机上的web页来访问了。</strong></p> 
<pre><code class="prism language-bash">grant select,insert,update,delete on mydb.* to <span class="token punctuation">[</span>email<span class="token operator">=</span>test2@localhost<span class="token punctuation">]</span>test2@localhost<span class="token punctuation">[</span>/email<span class="token punctuation">]</span> identified by “abc”<span class="token punctuation">;</span>
</code></pre> 
<p><strong>如果你不想test2有密码，可以再打一个命令将密码消掉。</strong></p> 
<pre><code class="prism language-bash">grant select,insert,update,delete on mydb.* to <span class="token punctuation">[</span>email<span class="token operator">=</span>test2@localhost<span class="token punctuation">]</span>test2@localhost<span class="token punctuation">[</span>/email<span class="token punctuation">]</span> identified by “”<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_MYSQL_861"></a>七. MYSQL中有关数据库方面的操作。</h3> 
<p><mark>注意：你必须首先登录到MYSQL中，以下操作都是在MYSQL的提示符下进行的，而且每个命令以分号结束。</mark></p> 
<h4><a id="_865"></a>一、操作技巧</h4> 
<p>1、如果你打命令时，回车后发现忘记加分号，你无须重打一遍命令，只要打个分号回车就可以了。也就是说你可以把一个完整的命令分成几行来打，完后用分号作结束标志就OK。</p> 
<p>2、你可以使用光标上下键调出以前的命令。</p> 
<h4><a id="_871"></a>二、显示命令</h4> 
<h5><a id="1_873"></a>1、显示当前数据库服务器中的数据库列表：</h5> 
<pre><code class="prism language-bash">SHOW DATABASES<span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>注意：mysql库里面有MYSQL的系统信息，我们改密码和新增用户，实际上就是用这个库进行操作。</p> 
</blockquote> 
<h5><a id="2_881"></a>2、显示数据库中的数据表：</h5> 
<p><code> USE 库名;</code></p> 
<pre><code class="prism language-bash">SHOW TABLES<span class="token punctuation">;</span>
</code></pre> 
<h5><a id="3_889"></a>3、显示数据表的结构：</h5> 
<pre><code class="prism language-bash">DESCRIBE 表名<span class="token punctuation">;</span>
</code></pre> 
<h5><a id="4_895"></a>4、建立数据库：</h5> 
<pre><code class="prism language-bash"> CREATE DATABASE 库名<span class="token punctuation">;</span>
</code></pre> 
<h5><a id="5_901"></a>5、建立数据表：</h5> 
<p><code>mysql&gt; USE 库名;</code></p> 
<p><code>mysql&gt; CREATE TABLE 表名 (字段名 VARCHAR(20), 字段名 CHAR(1));</code></p> 
<h5><a id="6_907"></a>6、删除数据库：</h5> 
<p><code>mysql&gt; DROP DATABASE 库名;</code></p> 
<h5><a id="7_911"></a>7、删除数据表：</h5> 
<p><code>mysql&gt; DROP TABLE 表名；</code></p> 
<h5><a id="8_915"></a>8、将表中记录清空：</h5> 
<p><code>mysql&gt; DELETE FROM 表名;</code></p> 
<h5><a id="9_919"></a>9、显示表中的记录：</h5> 
<p><code>mysql&gt; SELECT * FROM 表名;</code></p> 
<h5><a id="10_923"></a>10、往表中插入记录：</h5> 
<p><code>mysql&gt; INSERT INTO 表名 VALUES (”hyq”,”M”);</code></p> 
<h5><a id="11_927"></a>11、更新表中数据：</h5> 
<p><code>mysql-&gt; UPDATE 表名 SET 字段名1=’a',字段名2=’b’ WHERE 字段名3=’c';</code></p> 
<h5><a id="12_931"></a>12、用文本方式将数据装入数据表中：</h5> 
<p><code>mysql&gt; LOAD DATA LOCAL INFILE “D:/mysql.txt” INTO TABLE 表名;</code></p> 
<h5><a id="13sql_935"></a>13、导入.sql文件命令：</h5> 
<p><code>mysql&gt; USE 数据库名;</code></p> 
<pre><code class="prism language-bash">SOURCE d:/mysql.sql<span class="token punctuation">;</span>
</code></pre> 
<h5><a id="14root_943"></a>14、命令行修改root密码：</h5> 
<p><code>mysql&gt; UPDATE mysql.user SET password=PASSWORD(’新密码’) WHERE User=’root’;</code></p> 
<pre><code class="prism language-bash">FLUSH PRIVILEGES<span class="token punctuation">;</span>
</code></pre> 
<h5><a id="15use_951"></a>15、显示use的数据库名：</h5> 
<pre><code class="prism language-bash">SELECT DATABASE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h5><a id="16user_957"></a>16、显示当前的user：</h5> 
<pre><code class="prism language-bash">SELECT <span class="token environment constant">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_963"></a>三、一个建库和建表以及插入数据的实例</h4> 
<pre><code class="prism language-bash"> 	drop database <span class="token keyword">if</span> exists school<span class="token punctuation">;</span> //如果存在SCHOOL则删除
    create database school<span class="token punctuation">;</span>       //建立库SCHOOL
    use school<span class="token punctuation">;</span> //打开库SCHOOL
    
    //建立表TEACHER
    create table teacher<span class="token punctuation">(</span>
	    <span class="token function">id</span> int<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> auto_increment not null primary key,
	    name char<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> not null,
	    address varchar<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> default ‘深圳’,
	    year <span class="token function">date</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span> //建表结束
    
    //以下为插入字段
    insert into teacher values<span class="token punctuation">(</span>”,’allen’,<span class="token string">'大连一中’,'</span><span class="token number">1976</span>-10-10′<span class="token punctuation">)</span><span class="token punctuation">;</span>
    insert into teacher values<span class="token punctuation">(</span>”,’jack’,<span class="token string">'大连二中’,'</span><span class="token number">1975</span>-12-23′<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>如果你在mysql提示符键入上面的命令也可以，但不方便调试。</p> 
<p>(1)你可以将以上命令原样写入一个文本文件中，假设为school.sql，然后复制到c://下，并在DOS状态进入目录[url=file:mysql//bin]//mysql//bin[/url]，然后键入以下命令：</p> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-uroot</span> -p密码 <span class="token operator">&lt;</span> c://school.sql
</code></pre> 
<blockquote> 
 <p>如果成功，空出一行无任何显示；如有错误，会有提示。(以上命令已经调试，你只要将//的注释去掉即可使用)。</p> 
</blockquote> 
<p>(2)或者进入命令行后使用 <code>mysql&gt; source c://school.sql;</code>也可以将school.sql文件导入数据库中。</p> 
<h4><a id="_1002"></a>四、将文本数据转到数据库中</h4> 
<p>1、文本数据应符合的格式：字段数据之间用<code>tab</code>键隔开，<code>null值用[url=file:n]//n[/url]来代替</code>.例：</p> 
<blockquote> 
 <p>3 rose 大连二中 1976-10-10</p> 
 <p>4 mike 大连一中 1975-12-23</p> 
</blockquote> 
<p>假设你把这两组数据存为school.txt文件，放在c盘根目录下。</p> 
<p>数据传入命令 <code>load data local infile “c://school.txt” into table 表名;</code></p> 
<blockquote> 
 <p>注意：你最好将文件复制到[url=file:mysql//bin]//mysql//bin[/url]目录下，并且要先用use命令打表所在的库。</p> 
</blockquote> 
<h4><a id="_1016"></a>五、备份数据库</h4> 
<h5><a id="1_1017"></a>1.导出整个数据库</h5> 
<p>导出文件默认是存在mysql/bin目录下</p> 
<p><code>mysqldump -u 用户名 -p 数据库名 &gt; 导出的文件名</code></p> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-u</span> user_name <span class="token parameter variable">-p123456</span> database_name <span class="token operator">&gt;</span> outfile_name.sql
</code></pre> 
<h5><a id="2_1027"></a>2.导出一个表</h5> 
<p><code>mysqldump -u 用户名 -p 数据库名 表名&gt; 导出的文件名</code></p> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-u</span> user_name <span class="token parameter variable">-p</span> database_name table_name <span class="token operator">&gt;</span> outfile_name.sql
</code></pre> 
<h5><a id="3_1035"></a>3.导出一个数据库结构</h5> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-u</span> user_name <span class="token parameter variable">-p</span> <span class="token parameter variable">-d</span> –add-drop-table database_name <span class="token operator">&gt;</span> outfile_name.sql
</code></pre> 
<p><code>-d 没有数据 –add-drop-table 在每个create语句之前增加一个drop table</code></p> 
<h5><a id="4_1043"></a>4.带语言参数导出</h5> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span> –default-character-set<span class="token operator">=</span>latin1 –set-charset<span class="token operator">=</span>gbk –skip-opt database_name <span class="token operator">&gt;</span> outfile_name.sql
</code></pre> 
<h4><a id="_1049"></a>六、导入数据库</h4> 
<p>例如：数据库名为 dbTest</p> 
<p>首先，进入mysql</p> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123456</span>
</code></pre> 
<p>然后，创建数据库</p> 
<pre><code class="prism language-bash">create dbTest

<span class="token builtin class-name">exit</span>
</code></pre> 
<p>最后，导入数据库</p> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123456</span> dbTest
</code></pre> 
<h5><a id="_1073"></a><strong>数据库及表导出导入示例：</strong></h5> 
<p>导出数据库</p> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p123456</span> gameTop <span class="token operator">&gt;</span> gameTop_db.sql
</code></pre> 
<p>导出数据库的表</p> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-u</span> <span class="token parameter variable">-p123456</span> root gameTop gametop800 <span class="token operator">&gt;</span> gameTop_table.sql
</code></pre> 
<p>导出数据库的特定表</p> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p123456</span>  gameTop <span class="token parameter variable">--table</span> gametop800  <span class="token operator">&gt;</span> gameTop_table.sql
</code></pre> 
<p>导出数据库(只导结构，不要数据)</p> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p123456</span> <span class="token parameter variable">--opt</span> <span class="token parameter variable">-d</span> gameTop <span class="token operator">&gt;</span> gameTop_db.sql
</code></pre> 
<p>或者</p> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p123456</span>  <span class="token parameter variable">-d</span> gameTop <span class="token operator">&gt;</span> gameTop_db.sql
</code></pre> 
<p>导出数据库(只导数据，不要结构)</p> 
<pre><code class="prism language-bash">mysqldump <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p123456</span>  <span class="token parameter variable">-t</span> gameTop <span class="token operator">&gt;</span> gameTop_db.sql
</code></pre> 
<blockquote> 
 <p>注：不加 -d 和 -t 则既导出结构，也导出数据</p> 
</blockquote> 
<p>mysqldump导出抛出异常：</p> 
<blockquote> 
 <p>mysqldump: Got error: 1044: Access denied for user ‘username’@‘%’ to<br> database ‘dbname’ when using LOCK TABLES</p> 
</blockquote> 
<p>解决办法，添加参数 --skip-lock-tables：</p> 
<pre><code class="prism language-bash">mysqldump --skip-lock-tables <span class="token parameter variable">-h172.88.12.102</span> -username-pAnJnVs3C2tYXyTwV dbname<span class="token operator">&gt;</span> dbname_bk.sql
</code></pre> 
<h5><a id="_1125"></a><strong>导入数据库：</strong></h5> 
<p>登录MySQL:</p> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123456</span>
</code></pre> 
<p>创建数据库：</p> 
<pre><code class="prism language-bash">create database gameTop<span class="token punctuation">;</span>
</code></pre> 
<p>导入数据库：</p> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123456</span> gameTop
</code></pre> 
<p>导入数据库表：</p> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123456</span> gameTop  gametop800 <span class="token operator">&lt;</span>  gameTop_table.sql
</code></pre> 
<p>导入数据库表：</p> 
<pre><code class="prism language-bash">mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123456</span> gameTop
</code></pre> 
<h5><a id="_1157"></a><strong>其他</strong></h5> 
<p>1:使用SHOW语句找出在服务器上当前存在什么数据库：</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> SHOW DATABASES<span class="token punctuation">;</span>
</code></pre> 
<p>2:创建一个数据库MYSQLDATA</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> CREATE DATABASE MYSQLDATA<span class="token punctuation">;</span>
</code></pre> 
<p>3:选择你所创建的数据库</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> USE MYSQLDATA<span class="token punctuation">;</span> 
</code></pre> 
<blockquote> 
 <p>(按回车键出现Database changed 时说明操作成功！)</p> 
</blockquote> 
<p>4:查看现在的数据库中存在什么表</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> SHOW TABLES<span class="token punctuation">;</span>
</code></pre> 
<p>5:创建一个数据库表</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> CREATE TABLE MYTABLE <span class="token punctuation">(</span>name VARCHAR<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>, sex CHAR<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
</code></pre> 
<p>6:显示表的结构：</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> DESCRIBE MYTABLE<span class="token punctuation">;</span>
</code></pre> 
<p>7:往表中加入记录</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> insert into MYTABLE values <span class="token punctuation">(</span>”hyq”,”M”<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>8:用文本方式将数据装入数据库表中(例如D:/mysql.txt)</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span> LOAD DATA LOCAL INFILE “D:/mysql.txt” INTO TABLE MYTABLE<span class="token punctuation">;</span>
</code></pre> 
<p>9:导入.sql文件命令(例如D:/mysql.sql)</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span>use database<span class="token punctuation">;</span>

mysql<span class="token operator">&gt;</span>source d:/mysql.sql<span class="token punctuation">;</span>
</code></pre> 
<p>10:删除表</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span>drop TABLE MYTABLE<span class="token punctuation">;</span>
</code></pre> 
<p>11:清空表</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span>delete from MYTABLE<span class="token punctuation">;</span>
</code></pre> 
<p>12:更新表中数据</p> 
<pre><code class="prism language-bash">mysql<span class="token operator">&gt;</span>update MYTABLE <span class="token builtin class-name">set</span> <span class="token assign-left variable">sex</span><span class="token operator">=</span>”f” where <span class="token assign-left variable">name</span><span class="token operator">=</span>’hyq’<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="MySql_1235"></a>使用MySql的管理心得,</h4> 
<ul><li> <p>在windows中MySql以服务形式存在，在使用前应确保此服务已经启动，未启动可用net start mysql命令启动。而Linux中启动时可用“<mark>/etc/rc.d/init.d/mysqld start</mark>”命令，注意启动者应具有管理员权限。</p> </li><li> <p>刚安装好的MySql包含一个含空密码的root帐户和一个匿名帐户，这是很大的安全隐患，对于一些重要的应用我们应将安全性尽可能提高，在这里应把匿名帐户删除、 root帐户设置密码，可用如下命令进行：</p> <pre><code class="prism language-bash">  use mysql<span class="token punctuation">;</span>
  delete from User where <span class="token assign-left variable">User</span><span class="token operator">=</span>”"<span class="token punctuation">;</span>
  update User <span class="token builtin class-name">set</span> <span class="token assign-left variable">Password</span><span class="token operator">=</span>PASSWORD<span class="token punctuation">(</span>’newpassword’<span class="token punctuation">)</span> where <span class="token assign-left variable">User</span><span class="token operator">=</span>’root’<span class="token punctuation">;</span>
</code></pre> </li><li> <p>如果要对用户所用的登录终端进行限制，可以更新User表中相应用户的Host字段，在进行了以上更改后应重新启动数据库服务，此时登录时可用如下类似命令：</p> <pre><code class="prism language-bash">  mysql <span class="token parameter variable">-uroot</span> -p<span class="token punctuation">;</span>
  mysql <span class="token parameter variable">-uroot</span> -pnewpassword<span class="token punctuation">;</span>
  mysql mydb <span class="token parameter variable">-uroot</span> -p<span class="token punctuation">;</span>
  mysql mydb <span class="token parameter variable">-uroot</span> -pnewpassword<span class="token punctuation">;</span>
</code></pre> <p>上面命令参数是常用参数的一部分，详细情况可参考文档。此处的mydb是要登录的数据库的名称。</p> </li><li> <p>在 进行开发和实际应用中，用户不应该只用root用户进行连接数据库，虽然使用root用户进行测试时很方便，但会给系统带来重大安全隐患，也不利于管理技 术的提高。我们给一个应用中使用的用户赋予最恰当的数据库权限。如一个只进行数据插入的用户不应赋予其删除数据的权限。</p> </li><li> <p>MySql的用户管理是通过 User表来实现的，添加新用户常用的方法有两个，一是在User表插入相应的数据行，同时设置相应的权限；二是通过GRANT命令创建具有某种权限的用 户。其中GRANT的常用用法如下：</p> <pre><code class="prism language-bash">  grant all on mydb.* to NewUserName@HostName identified by “password” <span class="token punctuation">;</span>
  grant usage on <span class="token builtin class-name">.</span> to NewUserName@HostName identified by “password”<span class="token punctuation">;</span>
  grant select,insert,update on mydb.* to NewUserName@HostName identified by “password”<span class="token punctuation">;</span>
  grant update,delete on mydb.TestTable to NewUserName@HostName identified by “password”<span class="token punctuation">;</span>
</code></pre> </li><li> <p>若 要给此用户赋予他在相应对象上的权限的管理能力，可在GRANT后面添加WITH GRANT OPTION选项。而对于用插入User表添加的用户，Password字段应用PASSWORD 函数进行更新加密，以防不轨之人窃看密码。对于那些已经不用的用户应给予清除，权限过界的用户应及时回收权限，回收权限可以通过更新User表相应字段， 也可以使用REVOKE操作。</p> </li></ul> 
<p>下面给出本人从其它资料(www.cn-Java.com)获得的对常用权限的解释：</p> 
<h3><a id="__1275"></a>八. 全局管理权限：</h3> 
<ol><li>FILE: 在MySQL服务器上读写文件。</li><li>PROCESS: 显示或杀死属于其它用户的服务线程。</li><li>RELOAD: 重载访问控制表，刷新日志等。</li><li>SHUTDOWN: 关闭MySQL服务。</li><li>数据库/数据表/数据列权限：</li><li>ALTER: 修改已存在的数据表(例如增加/删除列)和索引。</li><li>CREATE: 建立新的数据库或数据表.</li><li>DELETE: 删除表的记录。</li><li>DROP: 删除数据表或数据库。</li><li>INDEX: 建立或删除索引。</li><li>INSERT: 增加表的记录。</li><li>SELECT: 显示/搜索表的记录。</li><li>UPDATE: 修改表中已存在的记录。</li><li>特别的权限：ALL: 允许做任何事(和root一样)。</li><li>USAGE: 只允许登录–其它什么也不允许做。</li></ol> 
<p>知识拓展：</p> 
<p>mysql -uroot -p123456 gameTop gametop800</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/97d527bed06cd1442f5157f90c5da949/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">文心一言API使用教程（python版）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c919ab4b16493509c001ef650265792e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">详解Leetcode中关于malloc模拟开辟二维数组问题，涉及二维数组的题目所给函数中的各个参数的解读</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android Termux 安装Kali Linux 或 kali Nethunter史诗级详细教程 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/eae2f6aafc2c1a5821136d96d4b68aa9/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="Android Termux 安装Kali Linux 或 kali Nethunter史诗级详细教程">
  <meta property="og:description" content="Android Termux 安装Kali Linux 或 kali Nethunter史诗级详细教程 一、Termux配置1、下载安装2、配置存储和换源3、基本工具安装 二、Kali Linux安装1、下载安装脚本2、更换apt源3、图形化安装 三、Kali Nethunter安装1、下载安装脚本2、更换apt源3、图形化连接 四、报错汇总1、Kali Linux的VNC连接失败或灰屏2、Kali Nethunter未配置DNS报错3、Kali Nethunter的VNC连接失败4、Kali Linux更新upgrade时postgresql报错5、Kali未正确关闭VNC session报错6、Kali的自带Firefox报错7、Termux的Kali默认没有Systemctl8、Kali自带的apache2报错 五、资源汇总1、本文资源获取地址2、终端间的VNC连接3、Termux后台进程被杀死优化4、Termux开启Apache25、Termux开启SSH 一、Termux配置 1、下载安装 1️⃣ 下载F-Droid
https://f-droid.org/zh_Hans/packages/com.termux/
2️⃣在F-Droid内查询Termux并安装
F-Droid正常网络可访问，如果遇到网路慢可考虑上梯子，F-Droid更新完数据进行下面Termux安装
3️⃣开启Termux的后台运行，最好悬浮窗等都打开
2、配置存储和换源 1️⃣ 开启Termux的系统存储权限
termux-setup-storage 2️⃣Termux换源
sed -i &#39;s@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/apt/termux-main stable main@&#39; $PREFIX/etc/apt/sources.list 3、基本工具安装 pkg update pkg upgrade pkg install proot pkg install git pkg install wget pkg install vim # 建议单条执行，避免出错不好定位，过程提示的选择一直Y下去，会有很多个 二、Kali Linux安装 1、下载安装脚本 此版本安装建议完成之前的基本安装再安装 pkg install python pkg install python2 避免出现问题，有很多坑，详细解决方案见报错解决">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-12-03T13:35:50+08:00">
    <meta property="article:modified_time" content="2023-12-03T13:35:50+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android Termux 安装Kali Linux 或 kali Nethunter史诗级详细教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Android Termux 安装Kali Linux 或 kali Nethunter史诗级详细教程</h4> 
 <ul><li><a href="#Termux_2" rel="nofollow">一、Termux配置</a></li><li><ul><li><a href="#1_3" rel="nofollow">1、下载安装</a></li><li><a href="#2_17" rel="nofollow">2、配置存储和换源</a></li><li><a href="#3_30" rel="nofollow">3、基本工具安装</a></li></ul> 
  </li><li><a href="#Kali_Linux_42" rel="nofollow">二、Kali Linux安装</a></li><li><ul><li><a href="#1_43" rel="nofollow">1、下载安装脚本</a></li><li><a href="#2apt_57" rel="nofollow">2、更换apt源</a></li><li><a href="#3_68" rel="nofollow">3、图形化安装</a></li></ul> 
  </li><li><a href="#Kali_Nethunter_79" rel="nofollow">三、Kali Nethunter安装</a></li><li><ul><li><a href="#1_80" rel="nofollow">1、下载安装脚本</a></li><li><a href="#2apt_104" rel="nofollow">2、更换apt源</a></li><li><a href="#3_117" rel="nofollow">3、图形化连接</a></li></ul> 
  </li><li><a href="#_129" rel="nofollow">四、报错汇总</a></li><li><ul><li><a href="#1Kali_LinuxVNC_130" rel="nofollow">1、Kali Linux的VNC连接失败或灰屏</a></li><li><a href="#2Kali_NethunterDNS_147" rel="nofollow">2、Kali Nethunter未配置DNS报错</a></li><li><a href="#3Kali_NethunterVNC_165" rel="nofollow">3、Kali Nethunter的VNC连接失败</a></li><li><a href="#4Kali_Linuxupgradepostgresql_172" rel="nofollow">4、Kali Linux更新upgrade时postgresql报错</a></li><li><a href="#5KaliVNC_session_187" rel="nofollow">5、Kali未正确关闭VNC session报错</a></li><li><a href="#6KaliFirefox_202" rel="nofollow">6、Kali的自带Firefox报错</a></li><li><a href="#7TermuxKaliSystemctl_225" rel="nofollow">7、Termux的Kali默认没有Systemctl</a></li><li><a href="#8Kaliapache2_240" rel="nofollow">8、Kali自带的apache2报错</a></li></ul> 
  </li><li><a href="#_273" rel="nofollow">五、资源汇总</a></li><li><ul><li><a href="#1_274" rel="nofollow">1、本文资源获取地址</a></li><li><a href="#2VNC_278" rel="nofollow">2、终端间的VNC连接</a></li><li><a href="#3Termux_281" rel="nofollow">3、Termux后台进程被杀死优化</a></li><li><a href="#4TermuxApache2_295" rel="nofollow">4、Termux开启Apache2</a></li><li><a href="#5TermuxSSH_303" rel="nofollow">5、Termux开启SSH</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Termux_2"></a>一、Termux配置</h2> 
<h3><a id="1_3"></a>1、下载安装</h3> 
<p><strong>1️⃣ 下载F-Droid</strong></p> 
<p><code>https://f-droid.org/zh_Hans/packages/com.termux/</code></p> 
<p><img src="https://images2.imgbox.com/95/5d/YxuVKvNX_o.png" alt="在这里插入图片描述"><br> 2️⃣<strong>在F-Droid内查询Termux并安装</strong></p> 
<blockquote> 
 <p>F-Droid正常网络可访问，如果遇到网路慢可考虑上梯子，F-Droid更新完数据进行下面Termux安装</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/5f/a8/rYeqW8l0_o.jpg" alt="在这里插入图片描述"><br> 3️⃣<strong>开启Termux的后台运行，最好悬浮窗等都打开</strong></p> 
<p><img src="https://images2.imgbox.com/61/55/QBeREZ4R_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="2_17"></a>2、配置存储和换源</h3> 
<p>1️⃣ <strong>开启Termux的系统存储权限</strong></p> 
<pre><code class="prism language-powershell">termux-setup-storage
</code></pre> 
<p><img src="https://images2.imgbox.com/af/33/Njg4ratG_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a8/0e/6Hyq4Yxy_o.jpg" alt="在这里插入图片描述"><br> 2️⃣<strong>Termux换源</strong></p> 
<pre><code class="prism language-powershell">sed <span class="token operator">-</span>i <span class="token string">'s@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/apt/termux-main stable main@'</span> <span class="token variable">$PREFIX</span><span class="token operator">/</span>etc/apt/sources<span class="token punctuation">.</span>list
</code></pre> 
<h3><a id="3_30"></a>3、基本工具安装</h3> 
<pre><code class="prism language-powershell">pkg update
pkg upgrade
pkg install proot
pkg install git
pkg install wget
pkg install vim  <span class="token comment"># 建议单条执行，避免出错不好定位，过程提示的选择一直Y下去，会有很多个</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/99/c1/jzzdhkmq_o.jpg" alt="在这里插入图片描述"></p> 
<h2><a id="Kali_Linux_42"></a>二、Kali Linux安装</h2> 
<h3><a id="1_43"></a>1、下载安装脚本</h3> 
<blockquote> 
 <p>此版本安装建议完成之前的基本安装再安装 <code>pkg install python</code> <code>pkg install python2</code> 避免出现问题，有很多坑，详细解决方案见报错解决</p> 
</blockquote> 
<pre><code class="prism language-powershell">git clone https:<span class="token operator">/</span><span class="token operator">/</span>gitee<span class="token punctuation">.</span>com/zhang-955/clone<span class="token punctuation">.</span>git
cd clone 
cd AutoInstallKali
chmod <span class="token operator">+</span>x kalinethunter finaltouchup<span class="token punctuation">.</span>sh <span class="token comment"># 赋予脚本运行权限</span>
<span class="token punctuation">.</span><span class="token operator">/</span>kalinethunter
</code></pre> 
<blockquote> 
 <p>具体过程因网上此版本较多不在赘述，这个脚本是《地球村的一枝花》版本的，具体可参考如下几个博主的教程<br> https://blog.csdn.net/m0_54471074/article/details/128475855<br> https://www.jianshu.com/p/9a325deeb50c</p> 
</blockquote> 
<h3><a id="2apt_57"></a>2、更换apt源</h3> 
<pre><code class="prism language-powershell">startkali

vim <span class="token operator">/</span>etc/apt/sources<span class="token punctuation">.</span>list

deb http:<span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com/kali kali-rolling main non-free contrib

deb-src http:<span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com/kali kali-rolling main non-free contrib
</code></pre> 
<h3><a id="3_68"></a>3、图形化安装</h3> 
<pre><code class="prism language-powershell">apt-get install xorg xdm xfce4
apt install tightvncserver <span class="token operator">-</span>y 
vncserver  <span class="token comment">#启动vnc,建议使用kali Nethunter kex连接，有自动适配分辨率功能，很可能会报错，解决详情见报错汇总</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/90/21/isx5OUpH_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/65/eb/QhKXJQRZ_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>因为是简单的xfce界面，没有kali默认的菜单栏，如果介意，可参考下面安装kali Nethunter</p> 
</blockquote> 
<h2><a id="Kali_Nethunter_79"></a>三、Kali Nethunter安装</h2> 
<h3><a id="1_80"></a>1、下载安装脚本</h3> 
<blockquote> 
 <p>时间很长，直接下载脚本放在目录下直接解压安装就可，具体资源在资源汇总，包含本文章所有用的到的资源，也可单独下载，如下：<br> https://images.kali.org/nethunter/rootfs/kalifs-arm64-full.tar.xz</p> 
</blockquote> 
<pre><code class="prism language-powershell">wget <span class="token operator">-</span>O <span class="token function">install-nethunter</span><span class="token operator">-</span>termux https:<span class="token operator">/</span><span class="token operator">/</span>offs<span class="token punctuation">.</span>ec/2MceZWr
chmod <span class="token operator">+</span>x <span class="token function">install-nethunter</span><span class="token operator">-</span>termux
<span class="token punctuation">.</span><span class="token operator">/</span><span class="token function">install-nethunter</span><span class="token operator">-</span>termux
</code></pre> 
<p><img src="https://images2.imgbox.com/cc/84/d8yXbrHn_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/20/63/CXAD0lyK_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/cc/19/ecO7hOYH_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>脚本检测到了安装包，提示要不要删了重下，N 然后开始解压安装，时间比较久耐心等待</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/78/82/ZRYMYzgw_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>安装完提示是否删除安装包，N 留着吧，万一还要安装</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/88/c2/1jhnNz9X_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>安装成功，如下：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/03/e2/mAThfHiC_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>还有很多坑，别太高兴哦</p> 
</blockquote> 
<h3><a id="2apt_104"></a>2、更换apt源</h3> 
<pre><code class="prism language-powershell">nh  <span class="token comment">#nethunter缩写，进入Kali，root进入  nh -r 默认sudo需要的密码 kali </span>

vim <span class="token operator">/</span>etc/apt/sources<span class="token punctuation">.</span>list

deb http:<span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com/kali kali-rolling main non-free contrib

deb-src http:<span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token punctuation">.</span>aliyun<span class="token punctuation">.</span>com/kali kali-rolling main non-free contrib

apt update <span class="token comment">#先不要 upgrade避免出问题，马上遇见一个坑，kali nethunter未配置DNS，见报错汇总解决DNS</span>
</code></pre> 
<h3><a id="3_117"></a>3、图形化连接</h3> 
<pre><code class="prism language-powershell">apt install dbus-x11 <span class="token comment">#不安装会报错，详情见报错汇总</span>
vncserver <span class="token comment">#默认开启5901  vncserver -list 查看开启列表  vncserver -kill :1 关闭具体Session  vncserver :1 开启指定Session :1对应5901 :2对应5902 依次类推</span>
</code></pre> 
<blockquote> 
 <p>初次启动需设置密码，如下：</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/1e/0a/6QjVoxsI_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>Nethunter kex连接如下</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/c8/bc/PUqlDccL_o.jpg" alt="在这里插入图片描述"></p> 
<h2><a id="_129"></a>四、报错汇总</h2> 
<h3><a id="1Kali_LinuxVNC_130"></a>1、Kali Linux的VNC连接失败或灰屏</h3> 
<pre><code class="prism language-powershell"><span class="token comment">#下面改不改都可，主要是判断易出错情况，进行的逻辑选择保证可以正常链接桌面</span>
$ vim ~<span class="token operator">/</span><span class="token punctuation">.</span>vnc/xstartup

<span class="token comment">#!/bin/sh</span>
unset SESSION_MANAGER
unset DBUS_SESSION_BUS_ADDRESS
startxfce4 &amp;
<span class="token punctuation">[</span> <span class="token operator">-</span>x <span class="token operator">/</span>etc/vnc/xstartup <span class="token punctuation">]</span> &amp;&amp; exec <span class="token operator">/</span>etc/vnc/xstartup
<span class="token punctuation">[</span> <span class="token operator">-</span>r <span class="token variable">$HOME</span><span class="token operator">/</span><span class="token punctuation">.</span>Xresources <span class="token punctuation">]</span> &amp;&amp; xrdb <span class="token variable">$HOME</span><span class="token operator">/</span><span class="token punctuation">.</span>Xresources
xsetroot <span class="token operator">-</span>solid grey
</code></pre> 
<blockquote> 
 <p>如果上面还是没成功连接图形桌面，建议参考如下几个解决方案：<br> https://blog.csdn.net/xiaokai1999/article/details/129143605<br> https://blog.csdn.net/kong1287988804/article/details/78614154</p> 
</blockquote> 
<h3><a id="2Kali_NethunterDNS_147"></a>2、Kali Nethunter未配置DNS报错</h3> 
<blockquote> 
 <p>报错信息：<br> Failed to fetch http://mirrors.aliyun.com/kali/dists/kali-rolling/InRelease Temporary failure resolving ‘mirrors.aliyun.com’<br> W: Some index files failed to download. They have been ignored, or old ones used instead.<br> H: Failed to fetch http://http.kali.org/kali/dists/kali-rolling/InRelease Temporary failure resolving ‘http.kali.org’<br> W: Some index files failed to download. They have been ignored, or old ones used instead.</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/b3/ea/VfFrmrHJ_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>解决命令如下：</p> 
</blockquote> 
<pre><code class="prism language-powershell">vim <span class="token operator">/</span>etc/resolv<span class="token punctuation">.</span>conf  <span class="token comment">#root模式下，所有命令都是</span>
<span class="token comment">#替换下面图片内容，建议原有的三行注释掉，添加下面三行命令</span>
search localdomain
nameserver 223<span class="token punctuation">.</span>5<span class="token punctuation">.</span>5<span class="token punctuation">.</span>5
nameserver 8<span class="token punctuation">.</span>8<span class="token punctuation">.</span>8<span class="token punctuation">.</span>8
</code></pre> 
<p><img src="https://images2.imgbox.com/66/20/MQTKXViZ_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="3Kali_NethunterVNC_165"></a>3、Kali Nethunter的VNC连接失败</h3> 
<blockquote> 
 <p>报错信息：<br> failed to execute child process “dbus-launch” (no such file or directory)</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/3d/ad/BCUzf5D8_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>解决命令 ：<code>apt install dbus-x11</code></p> 
</blockquote> 
<h3><a id="4Kali_Linuxupgradepostgresql_172"></a>4、Kali Linux更新upgrade时postgresql报错</h3> 
<blockquote> 
 <p>报错信息：<br> mainError: Data directory /var/lib/postgresql/15/main must not be owned by root … failed!<br> E: Sub-process /usr/bin/dpkg returned an error code (1)</p> 
</blockquote> 
<pre><code class="prism language-powershell"><span class="token comment">#主要是删除postgresql*和重新配置configure</span>
sudo apt update &amp;&amp; sudo apt full-upgrade <span class="token operator">-</span>y 

sudo <span class="token function">rm</span> <span class="token operator">-</span>rf <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib/dpkg/info/postgresql* 

sudo dpkg <span class="token operator">--</span>configure <span class="token operator">-</span>a

sudo apt update &amp;&amp; sudo apt full-upgrade <span class="token operator">-</span>y
</code></pre> 
<h3><a id="5KaliVNC_session_187"></a>5、Kali未正确关闭VNC session报错</h3> 
<blockquote> 
 <p>报错信息：<br> vncserver: No matching VNC server running for this user!<br> Linking lock file (/tmp/.X1-lock) in place failed: No such file or directory</p> 
</blockquote> 
<pre><code class="prism language-powershell"><span class="token comment">#避免经常出现此问题，每次图形化之后logout或vncserver -kill </span>
<span class="token function">rm</span> <span class="token operator">-</span>rf  <span class="token operator">/</span>root/<span class="token punctuation">.</span>vnc <span class="token comment">#删除 .vnc下所有文件 </span>
<span class="token function">rm</span> <span class="token operator">-</span>rf <span class="token operator">/</span>tmp <span class="token comment">#删除tmp下所有文件，包括隐藏文件 .X1-lock .X11-unix 这两个必须删除，然后执行下面命令或vncserver</span>
vncserver <span class="token operator">-</span>depth 24 <span class="token operator">-</span>geometry 1920x1080
<span class="token comment">#删tmp下面文件后显示Linking lock file (/tmp/.X1-lock) in place failed: No such file or directory，采取将tmp备份，然后删除tmp创建个空的tmp目录</span>
</code></pre> 
<blockquote> 
 <p>如果还未解决，可参考其他方案，如下：<br> https://blog.csdn.net/Qwertyuiop2016/article/details/118105155</p> 
</blockquote> 
<h3><a id="6KaliFirefox_202"></a>6、Kali的自带Firefox报错</h3> 
<blockquote> 
 <p>报错信息：<br> Gah Your tab just crashed</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/ee/13/At4U4bbE_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>解决方案如下：<br> 打开火狐配置 <code>about:config</code> 搜索<code>sandbox</code> 更改如下配置后重启</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/8e/68/650GMVx5_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>其他方案如下：</p> 
</blockquote> 
<pre><code class="prism language-powershell"><span class="token comment">#检测火狐是否开启了系统代理，然后完成上面图片配置更改，如果还不能上网，启动下面命令</span>
vim <span class="token operator">/</span>etc/NetworkManager/NetworkManager<span class="token punctuation">.</span>conf
managed=false改成true
service networking restart 
systemctl enable <span class="token operator">--</span>now NetworkManager  <span class="token comment">#没有NetworkManager 换 network-manager  还没有安装下面的nmcli </span>
<span class="token comment">#上面错误执行下面</span>
apt install nmcli  
NetworkManager <span class="token function">start</span> <span class="token comment">#此时 systemctl 将失效</span>
</code></pre> 
<h3><a id="7TermuxKaliSystemctl_225"></a>7、Termux的Kali默认没有Systemctl</h3> 
<blockquote> 
 <p>报错信息：<br> System has not been booted with systemd as init system(PID 1)</p> 
</blockquote> 
<pre><code class="prism language-powershell">apt-get install  systemd
apt-get install  systemctl
</code></pre> 
<blockquote> 
 <p>后期安装其他工具导致systemctl失效的解决方案如下：</p> 
</blockquote> 
<pre><code class="prism language-powershell">sudo apt-get install aptitude

sudo aptitude install systemctl
</code></pre> 
<h3><a id="8Kaliapache2_240"></a>8、Kali自带的apache2报错</h3> 
<blockquote> 
 <p>报错信息：<br> Starting Apache httpd web server: apache2/usr/sbin/apache2ctl: 102: ulimit: error setting limit (Operation not permitted)<br> Setting ulimit failed. See README.Debian for more information.<br> AH00558: apache2: Could not reliably determine the server’s fully qualified domain name, using ::1. Set the ‘ServerName’ directive globally to suppress this message<br> (13)Permission denied: AH00072: make_sock: could not bind to address [::]:80<br> (13)Permission denied: AH00072: make_sock: could not bind to address 0.0.0.0:80<br> no listening sockets available, shutting down<br> AH00015: Unable to open logs</p> 
</blockquote> 
<p>1️⃣<strong>AH00558: apache2: Could not reliably determine the server’s fully qualified domain name, using ::1. Set the ‘ServerName’ directive globally to suppress this message</strong></p> 
<pre><code class="prism language-powershell">sudo vim <span class="token operator">/</span>etc/apache2/apache2<span class="token punctuation">.</span>conf
ServerName localhost:8080 <span class="token comment">#文件尾添加</span>
</code></pre> 
<p>2️⃣<strong>apache2ctl: 102: ulimit: error setting limit (Operation not permitted)</strong></p> 
<pre><code class="prism language-powershell">sudo vim <span class="token operator">/</span>usr/sbin/apache2ctl
ULIMIT_MAX_FILES=<span class="token string">"${APACHE_ULIMIT_MAX_FILES:-ulimit -n 8192}"</span> <span class="token comment">#此部分改为ULIMIT_MAX_FILES="" </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"x<span class="token variable">$ULIMIT_MAX_FILES</span>"</span> <span class="token operator">!</span>= <span class="token string">"x"</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> then
    <span class="token variable">$ULIMIT_MAX_FILES</span>
</code></pre> 
<p>3️⃣<strong>(13)Permission denied: AH00072: make_sock: could not bind to address [::]:80(13)Permission denied: AH00072: make_sock: could not bind to address 0.0.0.0:80 no listening sockets available, shutting down</strong></p> 
<pre><code class="prism language-powershell">sudo vim <span class="token operator">/</span>etc/apache2/ports<span class="token punctuation">.</span>conf <span class="token comment">#改监听端口</span>
<span class="token comment">#改为 Listen 8080</span>
</code></pre> 
<h2><a id="_273"></a>五、资源汇总</h2> 
<h3><a id="1_274"></a>1、本文资源获取地址</h3> 
<blockquote> 
 <p>链接：https://pan.baidu.com/s/1oK7j1aMyP1ny_0H_mYEk0w?pwd=what<br> 提取码：what</p> 
</blockquote> 
<h3><a id="2VNC_278"></a>2、终端间的VNC连接</h3> 
<blockquote> 
 <p>很好用的一个开源设备<br> https://github.com/rustdesk/rustdesk</p> 
</blockquote> 
<h3><a id="3Termux_281"></a>3、Termux后台进程被杀死优化</h3> 
<blockquote> 
 <p>提示信息：<br> Process completed (signal 9) - press Enter</p> 
</blockquote> 
<blockquote> 
 <p>Android12带GMS的ADB命令如下：</p> 
</blockquote> 
<pre><code class="prism language-powershell">adb shell <span class="token string">"/system/bin/device_config set_sync_disabled_for_tests persistent; /system/bin/device_config put activity_manager max_phantom_processes 2147483647"</span>
</code></pre> 
<blockquote> 
 <p>其他具体操作，参考如下教程：<br> https://www.bilibili.com/read/cv20060713/<br> https://huaweicloud.csdn.net/64e5d7dba3cccc782cc565ca.html<br> https://blog.csdn.net/m0_72123696/article/details/125349732</p> 
</blockquote> 
<h3><a id="4TermuxApache2_295"></a>4、Termux开启Apache2</h3> 
<blockquote> 
 <p>下面操作在termux中进行，非Kali内，个人不建议使用kali内的ssh和apache服务，非常多坑，kali内部apache解决方案如上4-8</p> 
</blockquote> 
<pre><code class="prism language-powershell">pkg install apache2
apachectl <span class="token comment">#开启apache，会有ServerName报错，不影响使用，解决详情见4-8</span>
apachectl <span class="token operator">-</span>k stop <span class="token comment">#关闭</span>
cd <span class="token variable">$PREFIX</span><span class="token operator">/</span>share/apache2/default-site/htdocs/ <span class="token comment">#apache的主页目录位置</span>
</code></pre> 
<h3><a id="5TermuxSSH_303"></a>5、Termux开启SSH</h3> 
<blockquote> 
 <p>同上，不建议在Termux安装的Linux中使用SSH服务，下面教程在termux中操作</p> 
</blockquote> 
<pre><code class="prism language-powershell">pkg install openssh
sshd <span class="token comment">#开启服务</span>
passwd <span class="token comment">#设置密码  whoami 查看用户名</span>
<span class="token function">cat</span> <span class="token punctuation">.</span>ssh/authorized_keys  <span class="token comment">#证书位置，需要导入客户端公钥才可使用</span>
<span class="token function">cat</span>  client<span class="token punctuation">.</span>pub &gt;&gt; <span class="token punctuation">.</span>ssh/authorized_keys
</code></pre> 
<blockquote> 
 <p>其他实现教程如下：<br> https://blog.csdn.net/a18845594188/article/details/126544125 #Windows连接termux<br> https://www.bilibili.com/read/cv25822574/<br> https://blog.csdn.net/m0_70980326/article/details/131012390 #公网连接termux</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fe6e70ada20bc6a96d10c201694bf04e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">操作系统（动态分区分配算法：首次适应算法、循环首次适应算法、最佳适应算法和最坏适应算法）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cd816f9ca3b4a8ea3393d38c26ea9686/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SQLAlchemy(2.0)完全入门</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
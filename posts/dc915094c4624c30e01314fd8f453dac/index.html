<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot如何彻底解决跨域问题，五种方案来看看吧 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/dc915094c4624c30e01314fd8f453dac/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="Spring Boot如何彻底解决跨域问题，五种方案来看看吧">
  <meta property="og:description" content="目录
一、什么是跨域
二、为什么会跨域
三、如何解决跨域问题
四、如何在Spring Boot项目中防止跨域问题
一、什么是跨域 跨域是指在浏览器中，当一个网页的脚本试图去访问另一个网页的资源时，如果这两个网页的域名、协议或端口不一致，就会发生跨域问题。
浏览器出于安全考虑，实施了同源策略，即限制不同源之间的交互。同源是指两个页面具有相同的协议、主机和端口号，跨域问题通常发生在以下情况。
不同子域之间的跨域访问，例如a.example.com和b.example.com之间的通信。不同域名之间的跨域访问，例如example.com和example.net之间的通信。使用不同协议进行通信，例如http和https之间的通信。不同端口之间的跨域访问，例如example.com:8080和example.com:8888之间的通信。 为了解决跨域问题，可以通过以下方法进行处理。
JSONP：利用script标签的src属性不受同源策略限制的特点，通过动态创建script标签来加载远程脚本，并在返回的脚本中调用回调函数来获取数据。
CORS（跨域资源共享）：在服务端设置响应头，允许指定的域名进行跨域访问。
代理服务器：在同一个域名下设置一个代理服务器，将跨域请求转发到目标服务器，再将结果返回给浏览器。
WebSocket：使用WebSocket协议进行通信，WebSocket不受同源策略的限制。
虽然有这些方法可以解决跨域问题，但在使用时要注意安全性和合规性，并避免滥用跨域权限。
二、为什么会跨域 跨域问题是出于浏览器的安全策略考虑而存在的。跨域问题是由同源策略（Same-Origin Policy）引起的。
同源策略是浏览器的一种安全机制，它限制了一个网页中的脚本只能与同源网址下的资源进行交互。同源指的是两个页面具有相同的协议、主机和端口号。
同源策略的存在是为了防止恶意网站通过脚本访问用户的敏感数据，保护用户的隐私安全。如果同源策略不存在，那么恶意网站就可以通过脚本获取其他网站的数据，进行恶意操作。
所以，当一个网页的脚本试图去访问另一个网页的资源时，如果这两个网页的域名、协议或端口不一致，就会发生跨域问题，浏览器会拦截这次跨域请求，阻止脚本获取跨域资源。
需要注意的是，跨域是发生在浏览器端的限制，对于服务器端并没有限制。服务器端可以正常响应跨域请求，但浏览器拦截了响应，不允许脚本获取跨域的响应数据。所以，要解决跨域问题，需要在客户端采取一些特殊的处理方式，比如使用JSONP、CORS等技术手段。
三、如何解决跨域问题 JSONP（JSON with Padding）：JSONP是一种利用script标签的src属性不受同源策略限制的特点来进行跨域数据传输的方法。通过动态创建script标签，并指定src属性为跨域请求的URL，服务器返回的数据会被包裹在回调函数中，通过执行回调函数来获取数据。
CORS（跨域资源共享）：CORS是一种标准的跨域解决方案，它通过在服务器端设置响应头来允许指定的域名进行跨域访问。在服务器端设置Access-Control-Allow-Origin字段，指定允许的域名或通配符（*）来解决跨域问题。
代理服务器：可以在同源的情况下，设置一个代理服务器，将跨域请求转发到目标服务器，再将结果返回给浏览器。客户端通过访问同源的代理服务器来避免跨域问题。
WebSocket：WebSocket是一种全双工通信协议，不受同源策略的限制，可以在不同域名间进行跨域通信。
postMessage：使用HTML5中的postMessage方法，可以实现不同窗口（甚至不同域名）之间的跨域通信。
四、如何在Spring Boot项目中防止跨域问题 在Spring Boot项目中可以通过配置来解决跨域问题，在Spring Boot的配置类中添加一个跨域配置的Bean。
@Configuration public class CorsConfiguration { @Bean public WebMvcConfigurer corsConfigurer() { return new WebMvcConfigurer() { @Override public void addCorsMappings(CorsRegistry registry) { registry.addMapping(&#34;/**&#34;) .allowedOrigins(&#34;*&#34;) // 允许所有源访问，可以指定具体的源 .allowedMethods(&#34;GET&#34;, &#34;POST&#34;, &#34;PUT&#34;, &#34;DELETE&#34;) // 允许的请求方法 .allowedHeaders(&#34;*&#34;) // 允许所有请求头 .">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-02T09:38:15+08:00">
    <meta property="article:modified_time" content="2024-03-02T09:38:15+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot如何彻底解决跨域问题，五种方案来看看吧</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%A8%E5%9F%9F-toc"><a href="#%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%A8%E5%9F%9F" rel="nofollow">一、什么是跨域</a></p> 
<p id="%E4%BA%8C%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E8%B7%A8%E5%9F%9F-toc"><a href="#%E4%BA%8C%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E8%B7%A8%E5%9F%9F" rel="nofollow">二、为什么会跨域</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98-toc"><a href="#%E4%B8%89%E3%80%81%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98" rel="nofollow">三、如何解决跨域问题</a></p> 
<p id="%E5%9B%9B%E3%80%81%E5%A6%82%E4%BD%95%E5%9C%A8Spring%20Boot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E9%98%B2%E6%AD%A2%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98-toc"><a href="#%E5%9B%9B%E3%80%81%E5%A6%82%E4%BD%95%E5%9C%A8Spring%20Boot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E9%98%B2%E6%AD%A2%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98" rel="nofollow">四、如何在Spring Boot项目中防止跨域问题</a></p> 
<hr id="hr-toc"> 
<h2 style="text-align:center;"><img alt="" src="https://images2.imgbox.com/7b/1b/EjSbdwi2_o.png"></h2> 
<h2 id="%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E8%B7%A8%E5%9F%9F">一、什么是跨域</h2> 
<p><strong>跨域是指在浏览器中，当一个网页的脚本试图去访问另一个网页的资源时，如果这两个网页的域名、协议或端口不一致，就会发生跨域问题</strong>。</p> 
<p>浏览器出于安全考虑，实施了同源策略，即限制不同源之间的交互。同源是指两个页面具有相同的协议、主机和端口号，跨域问题通常发生在以下情况。</p> 
<ol><li>不同子域之间的跨域访问，例如a.example.com和b.example.com之间的通信。</li><li>不同域名之间的跨域访问，例如example.com和example.net之间的通信。</li><li>使用不同协议进行通信，例如http和https之间的通信。</li><li>不同端口之间的跨域访问，例如example.com:8080和example.com:8888之间的通信。</li></ol> 
<p>为了解决跨域问题，可以通过以下方法进行处理。</p> 
<ol><li> <p>JSONP：利用script标签的src属性不受同源策略限制的特点，通过动态创建script标签来加载远程脚本，并在返回的脚本中调用回调函数来获取数据。</p> </li><li> <p>CORS（跨域资源共享）：在服务端设置响应头，允许指定的域名进行跨域访问。</p> </li><li> <p>代理服务器：在同一个域名下设置一个代理服务器，将跨域请求转发到目标服务器，再将结果返回给浏览器。</p> </li><li> <p>WebSocket：使用WebSocket协议进行通信，WebSocket不受同源策略的限制。</p> </li></ol> 
<p>虽然有这些方法可以解决跨域问题，但在使用时要注意安全性和合规性，并避免滥用跨域权限。</p> 
<h2 style="text-align:center;"><img alt="" src="https://images2.imgbox.com/00/e1/hgxrTxex_o.png"></h2> 
<h2 id="%E4%BA%8C%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E8%B7%A8%E5%9F%9F">二、为什么会跨域</h2> 
<p>跨域问题是出于浏览器的安全策略考虑而存在的。跨域问题是由同源策略（Same-Origin Policy）引起的。</p> 
<p>同源策略是浏览器的一种安全机制，它限制了一个网页中的脚本只能与同源网址下的资源进行交互。同源指的是两个页面具有相同的协议、主机和端口号。</p> 
<p>同源策略的存在是为了防止恶意网站通过脚本访问用户的敏感数据，保护用户的隐私安全。如果同源策略不存在，那么恶意网站就可以通过脚本获取其他网站的数据，进行恶意操作。</p> 
<p>所以，当一个网页的脚本试图去访问另一个网页的资源时，如果这两个网页的域名、协议或端口不一致，就会发生跨域问题，浏览器会拦截这次跨域请求，阻止脚本获取跨域资源。</p> 
<p>需要注意的是，跨域是发生在浏览器端的限制，对于服务器端并没有限制。服务器端可以正常响应跨域请求，但浏览器拦截了响应，不允许脚本获取跨域的响应数据。所以，要解决跨域问题，需要在客户端采取一些特殊的处理方式，比如使用JSONP、CORS等技术手段。</p> 
<h2 style="text-align:center;"><img alt="" src="https://images2.imgbox.com/a5/3f/MKUiBvRu_o.png"></h2> 
<h2 id="%E4%B8%89%E3%80%81%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98">三、如何解决跨域问题</h2> 
<ol><li> <p>JSONP（JSON with Padding）：JSONP是一种利用script标签的src属性不受同源策略限制的特点来进行跨域数据传输的方法。通过动态创建script标签，并指定src属性为跨域请求的URL，服务器返回的数据会被包裹在回调函数中，通过执行回调函数来获取数据。</p> </li><li> <p>CORS（跨域资源共享）：CORS是一种标准的跨域解决方案，它通过在服务器端设置响应头来允许指定的域名进行跨域访问。在服务器端设置Access-Control-Allow-Origin字段，指定允许的域名或通配符（*）来解决跨域问题。</p> </li><li> <p>代理服务器：可以在同源的情况下，设置一个代理服务器，将跨域请求转发到目标服务器，再将结果返回给浏览器。客户端通过访问同源的代理服务器来避免跨域问题。</p> </li><li> <p>WebSocket：WebSocket是一种全双工通信协议，不受同源策略的限制，可以在不同域名间进行跨域通信。</p> </li><li> <p>postMessage：使用HTML5中的postMessage方法，可以实现不同窗口（甚至不同域名）之间的跨域通信。</p> </li></ol> 
<h2 style="text-align:center;"><img alt="" src="https://images2.imgbox.com/25/d4/4Ngdsn3U_o.png"></h2> 
<h2 id="%E5%9B%9B%E3%80%81%E5%A6%82%E4%BD%95%E5%9C%A8Spring%20Boot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E9%98%B2%E6%AD%A2%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98">四、如何在Spring Boot项目中防止跨域问题</h2> 
<p>在Spring Boot项目中可以通过配置来解决跨域问题，在Spring Boot的配置类中添加一个跨域配置的Bean。</p> 
<pre><code class="language-java">@Configuration
public class CorsConfiguration {

    @Bean
    public WebMvcConfigurer corsConfigurer() {
        return new WebMvcConfigurer() {
            @Override
            public void addCorsMappings(CorsRegistry registry) {
                registry.addMapping("/**")
                        .allowedOrigins("*") // 允许所有源访问，可以指定具体的源
                        .allowedMethods("GET", "POST", "PUT", "DELETE") // 允许的请求方法
                        .allowedHeaders("*") // 允许所有请求头
                        .allowCredentials(true) // 是否允许发送Cookie
                        .maxAge(3600); // 预检请求的有效期，单位为秒
            }
        };
    }
}</code></pre> 
<p>上述配置允许所有源访问，并允许常见的HTTP请求方法，允许所有请求头，允许发送Cookie，设置预检请求的有效期为3600秒。</p> 
<p>配置Spring Boot应用的Security策略。</p> 
<p>如果在Spring Boot中使用了Spring Security，还需要配置Security策略来允许跨域请求。</p> 
<pre><code class="language-java">@Configuration
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        http.csrf().disable() // 禁用CSRF保护
                .cors().and(); // 启用跨域配置
    }
}</code></pre> 
<p>上述配置禁用了CSRF保护，并启用了跨域配置。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2e594d6ae99d5e84d607bd80842014b6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">大数据毕业设计Python&#43;Spark高速公路车流量预测可视化分析 智慧城市交通大数据 交通流量预测 交通爬虫 地铁客流量分析 深度学习 计算机毕业设计 知识图谱 深度学习 人工智能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c90ee46f638d9c125cea29577ff08e53/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python中的鸡兔同笼问题,鸡兔同笼python多种方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
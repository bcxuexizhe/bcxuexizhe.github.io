<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>伪分布式数据库搭建（hadoop&#43;spark&#43;scala） - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/2da9598ede93b27434bbafa2a45d9a8c/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="伪分布式数据库搭建（hadoop&#43;spark&#43;scala）">
  <meta property="og:description" content="一，安装hadoop 1.安装java环境 一，下载JDK安装包
官网：https://www.oracle.com/java /technologies /javase-jdk8-downloads.html
二，卸载openJDK
命令：rpm -qa | grep java
java --version
三，安装JDK
命令：tar -zxvf jdk-8u152-linux-x64.tar.gz -C /usr/local/src/
ls /usr/local/src/
四，设置java环境变量
命令：vi /etc/profile
在文件的最后增加如下两行：
export JAVA_HOME=/usr/local/src/jdk1.8.0_152
export PATH=$PATH:$JAVA_HOME/bin
source /etc/profile
java -version
2，实现免密登录 一，创建ssh秘钥 命令： ssh-keygen -t dsa -P &#39;&#39; -f ~/.ssh/id_dsa
二，将master公钥进行公钥认证，实现本机免密登陆 命令：ssh-copy-id -i /root/.ssh/id_dsa.pub master
ssh master
exit
3，hadoop环境的安装与配置 一，将/root/hadoop-2.7.1.tar.gz解压到/opt目录下，并将解压文件改名为hadoop 命令：tar -zxvf /root/hadoop-2.7.1.tar.gz -C /opt
cd /opt
mv hadoop-2.7.1 hadoop
二，修改环境变量 命令：vim /etc/profile
export HADOOP_HOME=/opt/hadoop">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-26T18:33:42+08:00">
    <meta property="article:modified_time" content="2024-04-26T18:33:42+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">伪分布式数据库搭建（hadoop&#43;spark&#43;scala）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一，安装hadoop</h2> 
<h3>1.安装java环境</h3> 
<p>一，下载JDK安装包</p> 
<p>官网：https://www.oracle.com/java /technologies /javase-jdk8-downloads.html</p> 
<p>二，卸载openJDK</p> 
<p>命令：<strong>rpm -qa | grep java</strong></p> 
<p><strong>        </strong> <strong>java --version</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/8a/86/mTYZH2RF_o.png"></strong></p> 
<p>三，安装JDK</p> 
<p>命令：<strong>tar -zxvf jdk-8u152-linux-x64.tar.gz -C /usr/local/src/</strong></p> 
<p><strong>        ls /usr/local/src/</strong></p> 
<p>四，设置java环境变量</p> 
<p>命令：vi /etc/profile</p> 
<p>在文件的最后增加如下两行：</p> 
<p><strong>export JAVA_HOME=/usr/local/src/jdk1.8.0_152</strong></p> 
<p><strong>export PATH=$PATH:$JAVA_HOME/bin</strong></p> 
<p><strong>        source /etc/profile</strong></p> 
<p><strong>        java -version</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/28/c3/YAiG2KbE_o.png"></strong></p> 
<h3><strong>2，实现免密登录</strong></h3> 
<h4><strong>一，创建ssh秘钥</strong></h4> 
<p><strong>命令：</strong><strong> ssh-keygen -t dsa -P '' -f ~/.ssh/id_dsa</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/ae/b1/hFGUkptW_o.png"></strong></p> 
<h4><strong>二，<u>将master公钥进行公钥认证，实现本机免密登陆</u></strong></h4> 
<p><strong><u>命令：</u>ssh-copy-id -i /root/.ssh/id_dsa.pub master</strong></p> 
<p><strong>        ssh master</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/04/d4/iH0nxftf_o.png"></strong></p> 
<p><strong>        exit</strong></p> 
<h3><strong>3，hadoop环境的安装与配置</strong></h3> 
<h4><strong>一，<u>将/root/hadoop-2.7.1.tar.gz解压到/opt目录下，并将解压文件改名为hadoop</u></strong></h4> 
<p>命令：tar -zxvf /root/hadoop-2.7.1.tar.gz -C /opt</p> 
<p>        cd /opt</p> 
<p>        mv hadoop-2.7.1 hadoop</p> 
<h4>二，修改环境变量</h4> 
<p> 命令：vim /etc/profile</p> 
<p><strong>export HADOOP_HOME=/opt/hadoop</strong></p> 
<p><strong>export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</strong></p> 
<p><strong>        source /etc/profile </strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/f7/a8/QwFgQwEl_o.png"></strong></p> 
<h4>三，<strong><u>编辑/opt/hadoop/etc/hadoop/hadoop-env.sh文件</u></strong></h4> 
<p><strong><u>命令：</u> vi /opt/hadoop/etc/hadoop/hadoop-env.sh</strong></p> 
<p><strong>export JAVA_HOME=/usr/local/src/jdk1.8.0_152</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/03/f6/Q5iJGE9m_o.png"></strong></p> 
<h4><u><strong>四，编辑/opt/hadoop/etc/hadoop/core-site.xml文件</strong></u></h4> 
<p><u><strong>命令： </strong></u><strong>vi /opt/hadoop/etc/hadoop/core-site.xml</strong></p> 
<p><strong>修改配置文件为：</strong></p> 
<p><strong>&lt;configuration&gt;</strong></p> 
<p><strong>&lt;property&gt;<br> &lt;name&gt;fs.defaultFS&lt;/name&gt;<br> &lt;value&gt;hdfs://master&lt;/value&gt;<br> &lt;/property&gt;<br> &lt;property&gt;<br> &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;<br> &lt;value&gt;/opt/hadoop/tmp&lt;/value&gt;<br> &lt;/property&gt;<br> &lt;/configuration&gt;</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/77/47/SZodRyqc_o.png"></strong></p> 
<h4><strong>五，</strong><u><strong>编辑/opt/hadoop/etc/hadoop/hdfs-site.xml文件</strong></u></h4> 
<p><u><strong>命令： </strong></u><strong>vi /opt/hadoop/etc/hadoop/hdfs-site.xml</strong></p> 
<p>修改配置文件：</p> 
<p>&lt;configuration&gt;</p> 
<p>&lt;property&gt;<br> &lt;name&gt;dfs.replication&lt;/name&gt;<br> &lt;value&gt;3&lt;/value&gt;<br> &lt;/property&gt;</p> 
<p>&lt;/configuration&gt;</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/b9/9b/jucLkjwm_o.png"></p> 
<h4>六，复制/opt/hadoop/etc/hadoop/mapred-site.xml.tmplate 名为mapred-site.xml</h4> 
<p>命令：<strong>cp /opt/hadoop/etc/hadoop/mapred-site.xml.template /opt/hadoop/etc/hadoop/mapred-site.xml</strong></p> 
<p>        编辑/opt/hadoop/etc/hadoop/mapred-site.xml文件</p> 
<p>命令：<strong>vi /opt/hadoop/etc/hadoop/mapred-site.xml</strong></p> 
<p>修改配置为：</p> 
<p>&lt;configuration&gt;</p> 
<p>&lt;property&gt;<br> &lt;name&gt;mapreduce.framework.name&lt;/name&gt;<br> &lt;value&gt;yarn&lt;/value&gt;<br> &lt;/property&gt;<br> &lt;/configuration&gt;</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/48/56/oMJJ3OXq_o.png"></p> 
<h4>七，<u><strong>编辑/opt/hadoop/etc/hadoop/yarn-site.xml文件</strong></u></h4> 
<p><u><strong>命令：</strong></u><strong>vi /opt/hadoop/etc/hadoop/yarn-site.xml</strong></p> 
<p><strong>修改配置为：</strong></p> 
<p><strong>&lt;configuration&gt;</strong></p> 
<p><strong>&lt;property&gt;<br> &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;<br> &lt;value&gt;mapreduce_shuffle&lt;/value&gt;<br> &lt;/property&gt;</strong></p> 
<p><strong>&lt;/configuration&gt;</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/5b/9d/13cvNfFk_o.png"></strong></p> 
<h4><u><strong>八，编辑/opt/hadoop/etc/hadoop/slaves文件</strong></u></h4> 
<p><u><strong>命令：</strong></u><strong>vim /opt/hadoop/etc/hadoop/slaves</strong></p> 
<p><strong> 首行添加：master</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/3e/2c/B3rd3coN_o.png"></strong></p> 
<h4><u><strong>九， 格式化hdfs</strong></u></h4> 
<p>命令： <strong>hdfs namenode -format</strong></p> 
<h4><strong>十，</strong><u><strong>启动集群 jps查看,登录网页</strong></u></h4> 
<p><u><strong>命令: </strong></u><strong>start-all.sh</strong></p> 
<p><strong>        jps</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/eb/70/H9kPh2DC_o.png"></strong></p> 
<p></p> 
<p>浏览器输入<strong>http://master:50070,查看信息</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/ca/ec/ggIdYiYJ_o.png"></strong></p> 
<h2>二，安装spark</h2> 
<h3>1，解压spark安装包</h3> 
<p>命令：<strong>tar -zxf spark-3.2.1-bin-hadoop2.7.tgz -C /usr/local/</strong></p> 
<h3><u><strong>2，复制和重命名后得到spark-env.sh，打开spark-env.sh添加内容</strong></u></h3> 
<p><u><strong>命令：</strong></u><strong>cd /usr/local/spark-3.2.1-bin-hadoop2.7/conf/</strong></p> 
<p><strong>        cp spark-env.sh.template spark-env.sh</strong></p> 
<p><strong>        vi spark-env.sh</strong></p> 
<p>export JAVA_HOME=/usr/local/src/jdk1.8.0_152<br> export HADOOP_HOME=/opt/hadoop<br> export HADOOP_CONF_DIR=/opt/hadoop/etc/hadoop<br> export SPARK_MASTER_IP=master<br> export SPART_LOCAL_IP=master</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/28/b8/nap5ztGN_o.png"></p> 
<h3>3，<strong><u>进入spark目录的/sbin下启动spark集群，jps查看</u></strong></h3> 
<p><strong><u>命令：</u>cd /usr/local/spark-3.2.1-bin-hadoop2.7/sbin/</strong></p> 
<p><strong>        </strong> <strong>./start-all.sh</strong></p> 
<p><strong>        jps</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/12/10/8Y11ydwd_o.png"></strong></p> 
<h3><strong>4，启动spark-shell</strong></h3> 
<p>命令： <strong>cd /usr/local/spark-2.0.0-bin-hadoop2.6/</strong></p> 
<p><strong>        ./bin/spark-shell</strong></p> 
<h3>5，查看网页</h3> 
<p><u><strong>http://master：8080</strong></u></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/76/c5/vE7omXDN_o.png"></p> 
<h2>三，安装scala</h2> 
<h3>1，解压scala安装包</h3> 
<p>命令：<strong>tar -zxf scala-2.11.8.tgz -C /usr/local</strong></p> 
<h3>2，<strong><u>配置scala环境变量，重新加载配置文件，运行scala</u></strong></h3> 
<p>命令：<strong>vim /etc/profile</strong></p> 
<p><strong>export SCALA_HOME=/usr/local/scala-2.11.8<br> export PATH=$PATH:$SCALA_HOME/bin</strong></p> 
<p style="text-align:center;"><strong><img alt="" src="https://images2.imgbox.com/3a/4b/AuRCDqsM_o.png"></strong></p> 
<p><strong>        source /etc/profile</strong></p> 
<p><strong>        scala</strong></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/8b/9d/SYZjMphi_o.png"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/76c02a1b661cc6c7fa769d27f7c33a10/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">XYCTF 2024 部分web wp</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4066d175d95361b97a9e97e7c49ff403/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux快速部署大语言模型LLaMa3，Web可视化j交互（Ollama&#43;Open Web UI）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
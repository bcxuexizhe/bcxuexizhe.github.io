<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue3, PC端swagger适配以视频为背景，兼容视频点击播放和滑动切换 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/1b7d6083145377d0cb9d0993115b1246/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="Vue3, PC端swagger适配以视频为背景，兼容视频点击播放和滑动切换">
  <meta property="og:description" content="效果图 Swagger Swagger 是一个规范和完整的框架，用于生成、描述、调用和可视化 RESTful 风格的 Web 服务。
总体目标是使客户端和文件系统作为服务器以同样的速度来更新。文件的方法、参数和模型紧密集成到服务器端的代码，允许 API 来始终保持同步。Swagger 让部署管理和使用功能强大的 API 从未如此简单。
关键点 在swiper-slide中使用一个遮罩层，让用户滑动的时候实际是在遮罩层上滑动，而不是视频上，解决了视频的点击事件和swiper-slide滑动事件的冲突，然后在自定义遮罩层的点击播放\暂停逻辑实现。
引入插件 &lt;script lang=&#34;ts&#34;&gt; import { Swiper, SwiperSlide } from &#39;swiper/vue&#39;; import { Pagination, EffectCoverflow } from &#39;swiper/modules&#39;; import &#39;swiper/css&#39;; import &#39;swiper/css/pagination&#39;; import &#39;swiper/css/effect-coverflow&#39;; &lt;/script&gt; html &lt;swiper :modules=&#34;modules&#34; :centered-slides=&#34;true&#34; :slides-per-view=&#34;&#39;auto&#39;&#34; :space-between=&#34;50&#34; loop :pagination=&#34;{ clickable: true }&#34; @transition-end=&#34;onTransitionEnd&#34; class=&#34;swiper-video&#34; &gt; &lt;swiper-slide class=&#34;slide&#34; v-for=&#34;item in videos&#34; :key=&#34;item.id&#34; :prevent-clicks=&#34;false&#34; &gt; &lt;div class=&#34;video-box&#34;&gt; &lt;video :src=&#34;item.url&#34; controls :id=&#34;&#39;swiper-video-&#39; &#43; item.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-17T15:32:52+08:00">
    <meta property="article:modified_time" content="2024-05-17T15:32:52+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue3, PC端swagger适配以视频为背景，兼容视频点击播放和滑动切换</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>效果图</h3> 
<p><img src="https://images2.imgbox.com/61/8f/BXfJXAY4_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Swagger_3"></a>Swagger</h3> 
<p>Swagger 是一个规范和完整的框架，用于生成、描述、调用和可视化 RESTful 风格的 Web 服务。<br> 总体目标是使客户端和文件系统作为服务器以同样的速度来更新。文件的方法、参数和模型紧密集成到服务器端的代码，允许 API 来始终保持同步。Swagger 让部署管理和使用功能强大的 API 从未如此简单。</p> 
<h4><a id="_8"></a>关键点</h4> 
<p>在swiper-slide中使用一个遮罩层，让用户滑动的时候实际是在遮罩层上滑动，而不是视频上，解决了视频的点击事件和swiper-slide滑动事件的冲突，然后在自定义遮罩层的点击播放\暂停逻辑实现。</p> 
<h4><a id="_10"></a>引入插件</h4> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span><span class="token operator">&gt;</span>
	 <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Swiper<span class="token punctuation">,</span> SwiperSlide <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'swiper/vue'</span><span class="token punctuation">;</span>
	 <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Pagination<span class="token punctuation">,</span> EffectCoverflow <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'swiper/modules'</span><span class="token punctuation">;</span>
	 <span class="token keyword">import</span> <span class="token string">'swiper/css'</span><span class="token punctuation">;</span>
	 <span class="token keyword">import</span> <span class="token string">'swiper/css/pagination'</span><span class="token punctuation">;</span>
	 <span class="token keyword">import</span> <span class="token string">'swiper/css/effect-coverflow'</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> 
<h4><a id="html_23"></a>html</h4> 
<pre><code class="prism language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swiper</span>
   <span class="token attr-name">:modules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modules<span class="token punctuation">"</span></span>
   <span class="token attr-name">:centered-slides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span>
   <span class="token attr-name">:slides-per-view</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>auto'<span class="token punctuation">"</span></span>
   <span class="token attr-name">:space-between</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span>
   <span class="token attr-name">loop</span>
   <span class="token attr-name">:pagination</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ clickable: true }<span class="token punctuation">"</span></span>
   <span class="token attr-name">@transition-end</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>onTransitionEnd<span class="token punctuation">"</span></span>
   <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>swiper-video<span class="token punctuation">"</span></span>
  <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>swiper-slide</span>
       <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>slide<span class="token punctuation">"</span></span>
       <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in videos<span class="token punctuation">"</span></span>
       <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span>
       <span class="token attr-name">:prevent-clicks</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>
     <span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video-box<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.url<span class="token punctuation">"</span></span> <span class="token attr-name">controls</span> <span class="token attr-name">:id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>swiper-video-' + item.id<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.url<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video/mp4<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
       <span class="token comment">&lt;!-- 添加自定义点击，视频播放暂停逻辑 --&gt;</span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mask<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span>
           <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hot<span class="token punctuation">"</span></span>
             <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{ item.des }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>
           <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span>
         <span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swiper-slide</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>swiper</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="css_60"></a>css</h4> 
<pre><code class="prism language-css"> <span class="token selector">.swiper</span> <span class="token punctuation">{<!-- --></span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 30px auto<span class="token punctuation">;</span>

    <span class="token selector">.slide</span> <span class="token punctuation">{<!-- --></span>
      <span class="token property">width</span><span class="token punctuation">:</span> 90rem<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 60rem<span class="token punctuation">;</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> default<span class="token punctuation">;</span>

      <span class="token selector">.video-box</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token selector">video</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 90%<span class="token punctuation">;</span>
        <span class="token property">object-fit</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
        <span class="token property">box-shadow</span><span class="token punctuation">:</span> #cccccc 0 0 25px 10px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token selector">.mask</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 40rem<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">z-index</span><span class="token punctuation">:</span> 99<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token selector">.info</span> <span class="token punctuation">{<!-- --></span>
        <span class="token property">padding-top</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>
        <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 1.5rem<span class="token punctuation">;</span>

        <span class="token selector">h2</span> <span class="token punctuation">{<!-- --></span>
          <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span>
          <span class="token property">font-size</span><span class="token punctuation">:</span> 2.4rem<span class="token punctuation">;</span>

          <span class="token selector">.hot</span> <span class="token punctuation">{<!-- --></span>
            <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/resource/icons/HOT.png<span class="token punctuation">)</span></span> no-repeat right<span class="token punctuation">;</span>

            <span class="token property">padding-right</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>

            <span class="token selector">.dd</span> <span class="token punctuation">{<!-- --></span>
              <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/resource/icons/dd.png<span class="token punctuation">)</span></span> no-repeat right<span class="token punctuation">;</span>

              <span class="token property">padding-right</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/582db5a16482490576ebc3356a6e5c40/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python筑基之旅-搭建Python开发环境及库</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b2d4bb97559da1b9d366652eba2a79bd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VMware centos7下通过idea实现Hadoop MapReduce经典案例之一的TopN案例</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
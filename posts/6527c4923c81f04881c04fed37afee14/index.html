<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【数据结构】有关栈和队列相互转换问题 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/6527c4923c81f04881c04fed37afee14/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="【数据结构】有关栈和队列相互转换问题">
  <meta property="og:description" content="文章目录 用队列实现栈思路实现 用栈实现队列思路实现 用队列实现栈 Leetcode-225 用队列实现栈
思路 建立队列的基本结构并实现队列的基本操作
这部分这里就不多说了，需要的可以看笔者的另一篇博客
【数据结构】队列详解(Queue)
就简单带过一下需要实现的功能
#define _CRT_SECURE_NO_WARNINGS 1 #pragma once #include&lt;stdio.h&gt; #include&lt;stdlib.h&gt; #include&lt;stdbool.h&gt; #include&lt;assert.h&gt; #include&lt;stdbool.h&gt; typedef int QDataType; typedef struct QueueNode { struct QueueNode* next; QDataType val; }QNode; typedef struct Queue { QNode* phead; QNode* ptail; int size; }Queue; //初始化 void QueueInit(Queue* pq); //销毁 void QueueDestroy(Queue* pq); // 队尾插入 void QueuePush(Queue* pq, QDataType x); // 队头删除 void QueuePop(Queue* pq); // 取队头和队尾的数据 QDataType QueueFront(Queue* pq); QDataType QueueBack(Queue* pq); //获取队列长度 int QueueSize(Queue* pq); //判断队列是否为空 bool QueueEmpty(Queue* pq); 使用两个队列实现">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-13T15:55:33+08:00">
    <meta property="article:modified_time" content="2024-05-13T15:55:33+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【数据结构】有关栈和队列相互转换问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_5" rel="nofollow">用队列实现栈</a></li><li><ul><li><a href="#_8" rel="nofollow">思路</a></li><li><a href="#_121" rel="nofollow">实现</a></li></ul> 
  </li><li><a href="#_300" rel="nofollow">用栈实现队列</a></li><li><ul><li><a href="#_305" rel="nofollow">思路</a></li><li><a href="#_392" rel="nofollow">实现</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_5"></a>用队列实现栈</h2> 
<p><font size="5"><a href="https://leetcode.cn/problems/implement-stack-using-queues/" rel="nofollow">Leetcode-225 用队列实现栈</a></font><br> <img src="https://images2.imgbox.com/6b/88/raNNsesp_o.png" alt="在这里插入图片描述" width="400"></p> 
<h3><a id="_8"></a>思路</h3> 
<blockquote> 
 <p>建立队列的基本结构并实现队列的基本操作</p> 
</blockquote> 
<p>这部分这里就不多说了，需要的可以看笔者的另一篇博客<br> <a href="https://blog.csdn.net/2301_77954967/article/details/138682710?spm=1001.2014.3001.5502">【数据结构】队列详解(Queue)</a><br> 就简单带过一下需要实现的功能</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdbool.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdbool.h&gt;</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">int</span> QDataType<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">QueueNode</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">struct</span> <span class="token class-name">QueueNode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
	QDataType val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>QNode<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Queue</span>
<span class="token punctuation">{<!-- --></span>
	QNode<span class="token operator">*</span> phead<span class="token punctuation">;</span>
	QNode<span class="token operator">*</span> ptail<span class="token punctuation">;</span>
	<span class="token keyword">int</span> size<span class="token punctuation">;</span>
<span class="token punctuation">}</span>Queue<span class="token punctuation">;</span>

<span class="token comment">//初始化</span>
<span class="token keyword">void</span> <span class="token function">QueueInit</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//销毁</span>
<span class="token keyword">void</span> <span class="token function">QueueDestroy</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 队尾插入</span>
<span class="token keyword">void</span> <span class="token function">QueuePush</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">,</span> QDataType x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 队头删除</span>
<span class="token keyword">void</span> <span class="token function">QueuePop</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 取队头和队尾的数据</span>
QDataType <span class="token function">QueueFront</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span><span class="token punctuation">;</span>
QDataType <span class="token function">QueueBack</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取队列长度</span>
<span class="token keyword">int</span> <span class="token function">QueueSize</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//判断队列是否为空</span>
bool <span class="token function">QueueEmpty</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre> 
<blockquote> 
 <p>使用两个队列实现<br> 一个空的来实现操作，一个装数据来存储</p> 
</blockquote> 
<p>我们以几个简单操作来理解一下</p> 
<ul><li><strong>栈的以队列实现的基本结构及初始化</strong></li></ul> 
<p>因为队列的结构及功能是初始化的条件，在上一步中我们已经实现完成了<br> 所以关于栈的结构只需要一个能够存储两个队列的结构体就行了</p> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    Queue q1<span class="token punctuation">;</span>
    Queue q2<span class="token punctuation">;</span>
<span class="token punctuation">}</span> MyStack<span class="token punctuation">;</span>
</code></pre> 
<p>对于栈的初始化，因为我们要实现离开初始化操作后，两个队列和栈都需要存在，所以我们需要使用<strong>malloc</strong>为其创建内存</p> 
<p>而两栈也是需要额外开辟空间的，这同样是在第一步中完成，这里笔者就不多说了，同样也是由<strong>malloc</strong>来创建内存的</p> 
<pre><code class="prism language-c">MyStack<span class="token operator">*</span> <span class="token function">myStackCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MyStack<span class="token operator">*</span> pst <span class="token operator">=</span> <span class="token punctuation">(</span>MyStack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">QueueInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pst<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">QueueInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pst<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pst<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li><strong>尾插</strong></li></ul> 
<p>因为要进行一系列操作，所以我们必须确保其中的一个队列为空。在这个基础上，我们可以对已有数据的队列进行操作，去实现功能。</p> 
<p>所以我们就只需要判断两个队列中哪个为空，往另一个不为空的队列里加数据就行了</p> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">myStackPush</span><span class="token punctuation">(</span>MyStack<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">QueueEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">QueuePush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span>
        <span class="token function">QueuePush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li><strong>尾删</strong></li></ul> 
<p>作为一个栈，我们需要实现的是先进后出，所以这里是<strong>尾删</strong>，关于尾删，我们的想法应该是利用队列中带有的尾插操作，将有数据的队列的数据一个个传到空队列中，最后一个传出的数据就是我们要删的数</p> 
<p>我们可以理解下图为尾插过5个数的队列<br> <img src="https://images2.imgbox.com/84/cb/LDPU9gT4_o.png" alt="在这里插入图片描述" width="400"><br> 利用队列的尾插及头删操作，每将<strong>队列1</strong>的队头尾插给<strong>队列2</strong>后，头删<strong>队列1</strong>，知道<strong>队列1</strong>仅剩一个数据，两个队列的状态就会如下<br> <img src="https://images2.imgbox.com/2b/83/KObj6zbI_o.png" alt="在这里插入图片描述" width="400"><br> 此时我们需要做的是利用队列中自带的取队头数据操作，就可以获得栈所需的栈顶元素，</p> 
<blockquote> 
 <p>栈顶对应队尾</p> 
</blockquote> 
<p>然后就是需要理解的重点，我们可以发现如果把上图<strong>队列1</strong>的队头删除后，<strong>队列2</strong>就是进行尾删的<strong>队列1</strong>，这样就实现了栈顶删除的操作</p> 
<p>如此一来，也呼应了刚刚我们尾插中，找不为空的队列进行尾插的操作</p> 
<h3><a id="_121"></a>实现</h3> 
<blockquote> 
 <p>整个队列实现栈的操作中最难理解的就是尾插和尾删的联系与衔接，这两者的关系一旦理清，别的就是信手拈来，这里笔者就不赘述了，跟栈的原始操作大同小异，代码就放在下面了</p> 
</blockquote> 
<ul><li>void push(int x) 将元素 x 压入栈顶。</li><li>int pop() 移除并返回栈顶元素。</li><li>int top() 返回栈顶元素。</li><li>boolean empty() 如果栈是空的，返回 true ；否则，返回 false 。</li></ul> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">int</span> QDataType<span class="token punctuation">;</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">QueueNode</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">struct</span> <span class="token class-name">QueueNode</span><span class="token operator">*</span> next<span class="token punctuation">;</span>
    QDataType val<span class="token punctuation">;</span>
<span class="token punctuation">}</span> QNode<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Queue</span> <span class="token punctuation">{<!-- --></span>
    QNode<span class="token operator">*</span> phead<span class="token punctuation">;</span>
    QNode<span class="token operator">*</span> ptail<span class="token punctuation">;</span>
    <span class="token keyword">int</span> size<span class="token punctuation">;</span>
<span class="token punctuation">}</span> Queue<span class="token punctuation">;</span>
<span class="token comment">// 初始化</span>
<span class="token keyword">void</span> <span class="token function">QueueInit</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">assert</span><span class="token punctuation">(</span>pq<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pq<span class="token operator">-&gt;</span>phead <span class="token operator">=</span> pq<span class="token operator">-&gt;</span>ptail <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    pq<span class="token operator">-&gt;</span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 销毁</span>
<span class="token keyword">void</span> <span class="token function">QueueDestroy</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">assert</span><span class="token punctuation">(</span>pq<span class="token punctuation">)</span><span class="token punctuation">;</span>

    QNode<span class="token operator">*</span> cur <span class="token operator">=</span> pq<span class="token operator">-&gt;</span>phead<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        QNode<span class="token operator">*</span> next <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
        cur <span class="token operator">=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    pq<span class="token operator">-&gt;</span>phead <span class="token operator">=</span> pq<span class="token operator">-&gt;</span>ptail <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    pq<span class="token operator">-&gt;</span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 队尾插入</span>
<span class="token keyword">void</span> <span class="token function">QueuePush</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">,</span> QDataType x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">assert</span><span class="token punctuation">(</span>pq<span class="token punctuation">)</span><span class="token punctuation">;</span>

    QNode<span class="token operator">*</span> newnode <span class="token operator">=</span> <span class="token punctuation">(</span>QNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>QNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newnode <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc newnode fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    newnode<span class="token operator">-&gt;</span>val <span class="token operator">=</span> x<span class="token punctuation">;</span>
    newnode<span class="token operator">-&gt;</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>pq<span class="token operator">-&gt;</span>ptail <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        pq<span class="token operator">-&gt;</span>phead <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
        pq<span class="token operator">-&gt;</span>ptail <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        pq<span class="token operator">-&gt;</span>ptail<span class="token operator">-&gt;</span>next <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
        pq<span class="token operator">-&gt;</span>ptail <span class="token operator">=</span> newnode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    pq<span class="token operator">-&gt;</span>size<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 队头删除</span>
<span class="token keyword">void</span> <span class="token function">QueuePop</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">assert</span><span class="token punctuation">(</span>pq<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation">(</span>pq<span class="token operator">-&gt;</span>size <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>pq<span class="token operator">-&gt;</span>size <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">free</span><span class="token punctuation">(</span>pq<span class="token operator">-&gt;</span>phead<span class="token punctuation">)</span><span class="token punctuation">;</span>
        pq<span class="token operator">-&gt;</span>phead <span class="token operator">=</span> pq<span class="token operator">-&gt;</span>ptail <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        QNode<span class="token operator">*</span> next <span class="token operator">=</span> pq<span class="token operator">-&gt;</span>phead<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        <span class="token function">free</span><span class="token punctuation">(</span>pq<span class="token operator">-&gt;</span>phead<span class="token punctuation">)</span><span class="token punctuation">;</span>
        pq<span class="token operator">-&gt;</span>phead <span class="token operator">=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    pq<span class="token operator">-&gt;</span>size<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 取队头和队尾的数据</span>
QDataType <span class="token function">QueueFront</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">assert</span><span class="token punctuation">(</span>pq<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation">(</span>pq<span class="token operator">-&gt;</span>phead<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pq<span class="token operator">-&gt;</span>phead<span class="token operator">-&gt;</span>val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
QDataType <span class="token function">QueueBack</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">assert</span><span class="token punctuation">(</span>pq<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation">(</span>pq<span class="token operator">-&gt;</span>ptail<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pq<span class="token operator">-&gt;</span>ptail<span class="token operator">-&gt;</span>val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">QueueSize</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">assert</span><span class="token punctuation">(</span>pq<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pq<span class="token operator">-&gt;</span>size<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
bool <span class="token function">QueueEmpty</span><span class="token punctuation">(</span>Queue<span class="token operator">*</span> pq<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">assert</span><span class="token punctuation">(</span>pq<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pq<span class="token operator">-&gt;</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">//从这里开始用队列实现栈</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    Queue q1<span class="token punctuation">;</span>
    Queue q2<span class="token punctuation">;</span>
<span class="token punctuation">}</span> MyStack<span class="token punctuation">;</span>

<span class="token comment">//初始化</span>
MyStack<span class="token operator">*</span> <span class="token function">myStackCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MyStack<span class="token operator">*</span> pst <span class="token operator">=</span> <span class="token punctuation">(</span>MyStack<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">QueueInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pst<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">QueueInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pst<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pst<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//尾插</span>
<span class="token keyword">void</span> <span class="token function">myStackPush</span><span class="token punctuation">(</span>MyStack<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">QueueEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">QueuePush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span>
        <span class="token function">QueuePush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//尾删</span>
<span class="token keyword">int</span> <span class="token function">myStackPop</span><span class="token punctuation">(</span>MyStack<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    Queue<span class="token operator">*</span> empty <span class="token operator">=</span> <span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">;</span>
    Queue<span class="token operator">*</span> notempty <span class="token operator">=</span> <span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">QueueEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        empty <span class="token operator">=</span> <span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">;</span>
        notempty <span class="token operator">=</span> <span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">QueueSize</span><span class="token punctuation">(</span>notempty<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">QueuePush</span><span class="token punctuation">(</span>empty<span class="token punctuation">,</span> <span class="token function">QueueFront</span><span class="token punctuation">(</span>notempty<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">QueuePop</span><span class="token punctuation">(</span>notempty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> top <span class="token operator">=</span> <span class="token function">QueueFront</span><span class="token punctuation">(</span>notempty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">QueuePop</span><span class="token punctuation">(</span>notempty<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> top<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//获取栈顶，即队尾元素</span>
<span class="token keyword">int</span> <span class="token function">myStackTop</span><span class="token punctuation">(</span>MyStack<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">QueueEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">QueueBack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">QueueBack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//判空</span>
bool <span class="token function">myStackEmpty</span><span class="token punctuation">(</span>MyStack<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">QueueEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">QueueEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//释放</span>
<span class="token keyword">void</span> <span class="token function">myStackFree</span><span class="token punctuation">(</span>MyStack<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">QueueDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">QueueDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>q2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * Your MyStack struct will be instantiated and called as such:
 * MyStack* obj = myStackCreate();
 * myStackPush(obj, x);

 * int param_2 = myStackPop(obj);

 * int param_3 = myStackTop(obj);

 * bool param_4 = myStackEmpty(obj);

 * myStackFree(obj);
*/</span>
</code></pre> 
<hr> 
<h2><a id="_300"></a>用栈实现队列</h2> 
<p><font size="5"><a href="https://leetcode.cn/problems/implement-queue-using-stacks/description/" rel="nofollow">Leetcode-232 用栈实现队列</a></font></p> 
<p><img src="https://images2.imgbox.com/ee/34/WKPhfXxu_o.png" alt="在这里插入图片描述" width="400"></p> 
<h3><a id="_305"></a>思路</h3> 
<blockquote> 
 <p>同理，先实现栈的结构设计及相关操作</p> 
</blockquote> 
<p>关于用栈实现队列，我们要做的不同方向是，利用两个栈实现，这两个栈不想上面一样，通过判空来使用，而是直接进行分区，一个用来输入，一个用来输出</p> 
<p>栈的相关实现，看笔者的另一篇博客也一样，这里也不多说了</p> 
<p><a href="https://blog.csdn.net/2301_77954967/article/details/138589019?spm=1001.2014.3001.5502">【数据结构】栈详解</a></p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_CRT_SECURE_NO_WARNINGS</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdbool.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">int</span> STDataType<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Stack</span>
<span class="token punctuation">{<!-- --></span>
	STDataType<span class="token operator">*</span> a<span class="token punctuation">;</span>
	<span class="token keyword">int</span> top<span class="token punctuation">;</span>
	<span class="token keyword">int</span> capacity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>ST<span class="token punctuation">;</span>

<span class="token comment">// 初始化和销毁</span>
<span class="token keyword">void</span> <span class="token function">STInit</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">STDestroy</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 入栈  出栈</span>
<span class="token keyword">void</span> <span class="token function">STPush</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">,</span> STDataType x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">STPop</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 取栈顶数据</span>
STDataType <span class="token function">STTop</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 判空</span>
bool <span class="token function">STEmpty</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取数据个数</span>
<span class="token keyword">int</span> <span class="token function">STSize</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> 
<ul><li><strong>初始化</strong></li></ul> 
<p>同样，我们需要做的也是利用内存分配的方法来实现队列和两个栈的基本结构</p> 
<p>初始化两个栈ininin和outoutout，出队直接就往ininin压栈，出队先检查outoutout里面有没有元素，有的话outoutout的栈顶就是队首，否则就先把ininin里面的元素弹出压入到outoutout中。这样就能保证outoutout的栈顶始终都是队首，ininin的栈顶始终都是队尾。</p> 
<pre><code class="prism language-c">
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    ST instack<span class="token punctuation">;</span>
    ST outstack<span class="token punctuation">;</span>
<span class="token punctuation">}</span> MyQueue<span class="token punctuation">;</span>


MyQueue<span class="token operator">*</span> <span class="token function">myQueueCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MyQueue<span class="token operator">*</span> pq <span class="token operator">=</span> <span class="token punctuation">(</span>MyQueue<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyQueue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">STInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pq<span class="token operator">-&gt;</span>instack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">STInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pq<span class="token operator">-&gt;</span>outstack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pq<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li><strong>尾插及头删</strong></li></ul> 
<p>在上面我们提到过了，我们需要建立一个输入栈和一个输出栈，所以关于尾插，没什么好多讲的，就往输入队列里一直加新元素就行了</p> 
<p>至于头删这就很关键了，我们用图来理解，假设尾插几个数据后队列如下<br> <img src="https://images2.imgbox.com/85/f5/g3q5TWZH_o.png" alt="在这里插入图片描述" width="300"></p> 
<p>因为头删我们需要拿到的数据是<strong>A</strong>，所以我们利用栈的尾插将每个数据插到输出栈中，即<br> <img src="https://images2.imgbox.com/7b/2d/FXPEWGPh_o.png" alt="在这里插入图片描述" width="300"></p> 
<p>此时A在栈顶我们可以提取出来或者删除</p> 
<p>如果只是一般逻辑的话，我们大可将这个输出栈的数据倒回输入栈，然后重复原来操作，这其实是可以的，但是这会大大提高原来的时间复杂度，从而降低效能</p> 
<p>那么怎么改呢</p> 
<p>假设我们不倒回，而是直接往输入栈中加入数据，其实可以发现，输出栈的栈底其实连着的输入栈的栈底，即</p> 
<p><img src="https://images2.imgbox.com/02/4a/pCbnS1WC_o.png" alt="在这里插入图片描述" width="300"><br> 因此，我们不用再倒回输出栈，只需要在需要利用栈顶元素时判断输出栈是否为空，如果为空就将输入栈的数据补充给输出栈就行了</p> 
<h3><a id="_392"></a>实现</h3> 
<pre><code class="prism language-c"><span class="token keyword">typedef</span> <span class="token keyword">int</span> STDataType<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">Stack</span>
<span class="token punctuation">{<!-- --></span>
	STDataType<span class="token operator">*</span> a<span class="token punctuation">;</span>
	<span class="token keyword">int</span> top<span class="token punctuation">;</span>
	<span class="token keyword">int</span> capacity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>ST<span class="token punctuation">;</span>

<span class="token comment">// 初始化和销毁</span>
<span class="token keyword">void</span> <span class="token function">STInit</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">STDestroy</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 入栈  出栈</span>
<span class="token keyword">void</span> <span class="token function">STPush</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">,</span> STDataType x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">STPop</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 取栈顶数据</span>
STDataType <span class="token function">STTop</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 判空</span>
bool <span class="token function">STEmpty</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获取数据个数</span>
<span class="token keyword">int</span> <span class="token function">STSize</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 初始化和销毁</span>
<span class="token keyword">void</span> <span class="token function">STInit</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

	pst<span class="token operator">-&gt;</span>a <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token comment">// top指向栈顶数据的下一个位置</span>
	pst<span class="token operator">-&gt;</span>top <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token comment">// top指向栈顶数据</span>
	<span class="token comment">//pst-&gt;top = -1;</span>

	pst<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">STDestroy</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">free</span><span class="token punctuation">(</span>pst<span class="token operator">-&gt;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pst<span class="token operator">-&gt;</span>a <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	pst<span class="token operator">-&gt;</span>top <span class="token operator">=</span> pst<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 入栈  出栈</span>
<span class="token keyword">void</span> <span class="token function">STPush</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">,</span> STDataType x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 扩容</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>pst<span class="token operator">-&gt;</span>top <span class="token operator">==</span> pst<span class="token operator">-&gt;</span>capacity<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">int</span> newcapacity <span class="token operator">=</span> pst<span class="token operator">-&gt;</span>capacity <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">4</span> <span class="token operator">:</span> pst<span class="token operator">-&gt;</span>capacity <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
		STDataType<span class="token operator">*</span> tmp <span class="token operator">=</span> <span class="token punctuation">(</span>STDataType<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>pst<span class="token operator">-&gt;</span>a<span class="token punctuation">,</span> newcapacity <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>STDataType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"realloc fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		pst<span class="token operator">-&gt;</span>a <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		pst<span class="token operator">-&gt;</span>capacity <span class="token operator">=</span> newcapacity<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	pst<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>pst<span class="token operator">-&gt;</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
	pst<span class="token operator">-&gt;</span>top<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">STPop</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pst<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pst<span class="token operator">-&gt;</span>top <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	pst<span class="token operator">-&gt;</span>top<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 取栈顶数据</span>
STDataType <span class="token function">STTop</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pst<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pst<span class="token operator">-&gt;</span>top <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> pst<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>pst<span class="token operator">-&gt;</span>top <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 判空</span>
bool <span class="token function">STEmpty</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> pst<span class="token operator">-&gt;</span>top <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 获取数据个数</span>
<span class="token keyword">int</span> <span class="token function">STSize</span><span class="token punctuation">(</span>ST<span class="token operator">*</span> pst<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pst<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> pst<span class="token operator">-&gt;</span>top<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//初始化两个栈ininin和outoutout，出队直接就往ininin压栈，出队先检查outoutout里面有没有元素，有的话outoutout的栈顶就是队首，否则就先把ininin里面的元素弹出压入到outoutout中。这样就能保证outoutout的栈顶始终都是队首，ininin的栈顶始终都是队尾。</span>
<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{<!-- --></span>
    ST instack<span class="token punctuation">;</span>
    ST outstack<span class="token punctuation">;</span>
<span class="token punctuation">}</span> MyQueue<span class="token punctuation">;</span>


MyQueue<span class="token operator">*</span> <span class="token function">myQueueCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    MyQueue<span class="token operator">*</span> pq <span class="token operator">=</span> <span class="token punctuation">(</span>MyQueue<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>MyQueue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">STInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pq<span class="token operator">-&gt;</span>instack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">STInit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pq<span class="token operator">-&gt;</span>outstack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pq<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">myQueuePush</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">STPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>instack<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">inTOout</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">STEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>instack<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">STPush</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>outstack<span class="token punctuation">,</span> <span class="token function">STTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>instack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">STPop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>instack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">myQueuePop</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">STEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>outstack<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">inTOout</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">STTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>outstack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">STPop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>outstack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">myQueuePeek</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">STEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>outstack<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token function">inTOout</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">STTop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>outstack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

bool <span class="token function">myQueueEmpty</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token function">STEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>instack<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">STEmpty</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>outstack<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">myQueueFree</span><span class="token punctuation">(</span>MyQueue<span class="token operator">*</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">STDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>instack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">STDestroy</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>obj<span class="token operator">-&gt;</span>outstack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">free</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * Your MyQueue struct will be instantiated and called as such:
 * MyQueue* obj = myQueueCreate();
 * myQueuePush(obj, x);
 
 * int param_2 = myQueuePop(obj);
 
 * int param_3 = myQueuePeek(obj);
 
 * bool param_4 = myQueueEmpty(obj);
 
 * myQueueFree(obj);
*/</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2e3b630a350bc942c5fb07e521d7bd66/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Python贪吃蛇】：编码技巧与游戏设计的完美结合</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f7c49b9745853bb84a83f56fb3473c49/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2024/5/13 SpringBoot配置多个RabbitMQ</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>
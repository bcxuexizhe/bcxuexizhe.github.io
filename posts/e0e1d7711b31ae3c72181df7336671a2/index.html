<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【百度Apollo】探索自动驾驶：新版本 Beta全新升级算法方向支持4D毫米波，引入新模型提供增量训练 - 编程学习者</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:url" content="https://bcxuexizhe.github.io/posts/e0e1d7711b31ae3c72181df7336671a2/">
  <meta property="og:site_name" content="编程学习者">
  <meta property="og:title" content="【百度Apollo】探索自动驾驶：新版本 Beta全新升级算法方向支持4D毫米波，引入新模型提供增量训练">
  <meta property="og:description" content="🎬 鸽芷咕：个人主页 🔥 个人专栏: 《linux深造日志》《粉丝福利》 ⛺️生活的理想，就是为了理想的生活! 文章目录 引入一、背景介绍二、引入全新模型，算法检测效果显著提升2.1、更强大易用的激光雷达检测模型CenterPoint检测效果示意 2.2 Beta激光雷达检测的优势检测效果示意 三、相机检测，Yolo X&#43;Yolo 3D更快更好用**3.1 检测效果示意 四、提供增量训练，适应多种场景4.1效果展示 五、新增支持4D毫米波5.1 检测效果示意 引入 随着自动驾驶技术的不断演进，我们很高兴地宣布 Apollo 平台的最新 Beta 版本中引入了全新的算法方向支持 4D 毫米波，并且推出了增量训练的新模型。这是一项重要的升级，旨在进一步提升自动驾驶系统的感知能力和鲁棒性。本文将深入介绍这一创新性的技术，并探讨它对自动驾驶领域的意义和潜在影响。
一、背景介绍 毫米波雷达是自动驾驶系统中常用的感知传感器之一，它能够在各种复杂的环境条件下实现高精度的目标检测和跟踪。然而，传统的毫米波雷达在处理动态场景和复杂交通情况时存在一定的局限性，例如对于高速移动目标的准确跟踪以及对于复杂道路场景的精细感知能力有待提升。
为了克服这些挑战并进一步提升毫米波雷达的性能，我们团队在新版本的 Apollo Beta 中引入了 4D 毫米波技术，并结合增量训练的方法，实现了对毫米波雷达算法的全新升级。
二、引入全新模型，算法检测效果显著提升 在Apollo 8.0时，我们联合Paddle 3D提供了端到端的自动驾驶模型开发解决方案，覆盖了从自动驾驶数据集到模型训练、模型评估和模型导出的算法开发全流程。
Beta在8.0版本基础上，对算法模型进行了更新升级，同时还在其他方面做了优化，模型泛化性和效果都得到了显著的提升。
2.1、更强大易用的激光雷达检测模型CenterPoint 在激光雷达检测方向，我们采用了新的CenterPoint模型替代了原来的CNNSeg模型，并依托于百度百万级的自动驾驶数据对模型进行了针对性优化，检测精度和召回率远超原CNNSeg模型，可以提供复杂城市道路场景下实时、准确、稳定的3D目标检测效果。
检测效果示意 2.2 Beta激光雷达检测的优势 升级优化后，Beta激光雷达检测具备以下优势：
更好的检测效果，更强的泛化能力。 Beta使用百万真实路测数据对CenterPoint进行训练和优化，精度和召回率相较于应用最多的CNNSeg模型提升了20%&#43;，检测能力和泛化能力显著提升。提供了常见城市道路标识的检测能力。 Beta包括了锥桶、水马、防撞桶、指示牌等目标的检测能力，极大地保障了自动驾驶的安全性。显著提升了近处行人目标和小目标的召回率。 Beta对前后处理、配置、模型推理进行了针对性调优和处理，修复了推理端结果不一致问题，行人和小目标召回率提升。增强了跟踪的稳定性。 Beta优化了障碍物点云的获取逻辑，使CenterPoint可输出准确Polygon信息，进一步增强了跟踪的稳定性。大幅降低模型推理耗时和GPU占用。 Beta提供了Tensorrt &#43; fp16推理 &amp; Int8推理的功能和教程，在保持模型检测效果前提下，大幅降低了模型的推理耗时和GPU占用，在低算力平台运行可满足实时性要求。降低训练开发成本，提升易用性。 Beta开源了CenterPoint的训练代码，新增了以下功能：冻结网络层训练、fp16训练、适配自定义数据集等。开发者可以根据教程，使用公开/自定义数据集快速展开训练，大大降低了用户的训练开发成本，开发者可快速方便地开展模型训练部署、增量训练、Apollo感知赛事等任务。 检测效果示意 三、相机检测，Yolo X&#43;Yolo 3D更快更好用** 在相机检测方向，视觉感知上我们使用了Yolo X&#43;Yolo 3D两阶段模型替换了原来的Yolo单阶段模型，使得Beta的相机检测更易用、更好用，同时速度更快、效果更好。
具体来说，更换模型后Beta在相机检测方面进行了以下优化升级：
更易用。 将单目3D目标检测任务完全解耦为2D框检测与3D姿态回归两个任务，能够满足开发者以插件的方式快速替换任意2D、3D模型的需求；(*Yolo系列模型部署时只需要简单适配前后处理即可实现模型的快速替换)更好用。 开源了Yolo X及Yolo 3D适配Apollo后的训练代码，并提供给开发者在开源数据及内部数据上的预训练模型，开发者可根据需求具体场景需求对模型进行Finetune；更快速。 新推出的Onnx推理框架提供了TensorRT的C&#43;&#43;接口来完成模型部署，单阶段模型推理时间可降至1ms，大幅度提升了模型推理速度，助力开发者将自己的模型部署上车；更强大。 2D、3D模型均使用百万量级真实路测数据训练，在有效提升城市域全场景下目标的检测能力的同时二阶段预测出的目标朝向更加稳定、尺寸更加准确，相较于之前的Yolo模型在3D评测集上精度和召回率均提升了17%&#43;。 3.">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-30T08:27:37+08:00">
    <meta property="article:modified_time" content="2024-04-30T08:27:37+08:00">

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
  


</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程学习者" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程学习者</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【百度Apollo】探索自动驾驶：新版本 Beta全新升级算法方向支持4D毫米波，引入新模型提供增量训练</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <br> 
<p><img src="https://images2.imgbox.com/f5/22/LM9n3RxH_o.png" alt="在这里插入图片描述"> <br></p> 
<center> 
 <font color="#006666"><strong>🎬 鸽芷咕</strong>：<a href="https://blog.csdn.net/qq_57761637?type=blog">个人主页</a></font> 
</center> 
<br> 
<center> 
 <font color="#66CDAA"><strong> 🔥 个人专栏</strong>: <a href="https://blog.csdn.net/qq_57761637/category_12486323.html">《linux深造日志》</a><a href="https://blog.csdn.net/qq_57761637/category_12446912.html">《粉丝福利》</a></font> 
</center> 
<p></p> 
<center> 
 <font color="7B68EE" size="4"><strong>⛺️生活的理想，就是为了理想的生活!</strong> </font> 
</center> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_10" rel="nofollow">引入</a></li><li><a href="#_13" rel="nofollow">一、背景介绍</a></li><li><a href="#_17" rel="nofollow">二、引入全新模型，算法检测效果显著提升</a></li><li><ul><li><a href="#21CenterPoint_23" rel="nofollow">2.1、更强大易用的激光雷达检测模型CenterPoint</a></li><li><ul><li><a href="#_26" rel="nofollow">检测效果示意</a></li></ul> 
   </li><li><a href="#22_Beta_31" rel="nofollow">2.2 Beta激光雷达检测的优势</a></li><li><ul><li><a href="#_41" rel="nofollow">检测效果示意</a></li></ul> 
  </li></ul> 
  </li><li><a href="#Yolo_XYolo_3D_49" rel="nofollow">三、相机检测，Yolo X+Yolo 3D更快更好用**</a></li><li><ul><li><a href="#31__60" rel="nofollow">3.1 检测效果示意</a></li></ul> 
  </li><li><a href="#_68" rel="nofollow">四、提供增量训练，适应多种场景</a></li><li><ul><li><a href="#41_81" rel="nofollow">4.1效果展示</a></li></ul> 
  </li><li><a href="#4D_89" rel="nofollow">五、新增支持4D毫米波</a></li><li><ul><li><a href="#51__99" rel="nofollow">5.1 检测效果示意</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_10"></a>引入</h2> 
<blockquote> 
 <p>随着自动驾驶技术的不断演进，我们很高兴地宣布 Apollo 平台的最新 Beta 版本中引入了全新的算法方向支持 4D 毫米波，并且推出了增量训练的新模型。这是一项重要的升级，旨在进一步提升自动驾驶系统的感知能力和鲁棒性。本文将深入介绍这一创新性的技术，并探讨它对自动驾驶领域的意义和潜在影响。</p> 
</blockquote> 
<h2><a id="_13"></a>一、背景介绍</h2> 
<p>毫米波雷达是自动驾驶系统中常用的感知传感器之一，它能够在各种复杂的环境条件下实现高精度的目标检测和跟踪。然而，传统的毫米波雷达在处理动态场景和复杂交通情况时存在一定的局限性，例如对于高速移动目标的准确跟踪以及对于复杂道路场景的精细感知能力有待提升。</p> 
<p>为了克服这些挑战并进一步提升毫米波雷达的性能，我们团队在新版本的 Apollo Beta 中引入了 4D 毫米波技术，并结合增量训练的方法，实现了对毫米波雷达算法的全新升级。</p> 
<h2><a id="_17"></a>二、引入全新模型，算法检测效果显著提升</h2> 
<p>在Apollo 8.0时，我们联合Paddle 3D提供了端到端的自动驾驶模型开发解决方案，覆盖了从自动驾驶数据集到模型训练、模型评估和模型导出的算法开发全流程。</p> 
<p>Beta在8.0版本基础上，对算法模型进行了更新升级，同时还在其他方面做了优化，<strong>模型泛化性和效果都得到了显著的提升</strong>。</p> 
<h3><a id="21CenterPoint_23"></a>2.1、更强大易用的激光雷达检测模型CenterPoint</h3> 
<p>在激光雷达检测方向，我们采用了新的<strong>CenterPoint模型</strong>替代了原来的CNNSeg模型，并依<strong>托于百度百万级的自动驾驶数据对模型进行了针对性优化</strong>，检测精度和召回率远超原CNNSeg模型，可以<strong>提供复杂城市道路场景下实时、准确、稳定的3D目标检测效果</strong>。</p> 
<h4><a id="_26"></a>检测效果示意</h4> 
<p><img src="https://images2.imgbox.com/7a/4d/lTyvuVLp_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/a4/83/PYggI8ue_o.png" alt=""></p> 
<h3><a id="22_Beta_31"></a>2.2 Beta激光雷达检测的优势</h3> 
<p><strong>升级优化后，Beta激光雷达检测具备以下优势：</strong></p> 
<ul><li><strong>更好的检测效果，更强的泛化能力。</strong> Beta使用百万真实路测数据对CenterPoint进行训练和优化，精度和召回率相较于应用最多的CNNSeg模型提升了20%+，检测能力和泛化能力显著提升。</li><li><strong>提供了常见城市道路标识的检测能力。</strong> Beta包括了锥桶、水马、防撞桶、指示牌等目标的检测能力，极大地保障了自动驾驶的安全性。</li><li><strong>显著提升了近处行人目标和小目标的召回率。</strong> Beta对前后处理、配置、模型推理进行了针对性调优和处理，修复了推理端结果不一致问题，行人和小目标召回率提升。</li><li><strong>增强了跟踪的稳定性。</strong> Beta优化了障碍物点云的获取逻辑，使CenterPoint可输出准确Polygon信息，进一步增强了跟踪的稳定性。</li><li><strong>大幅降低模型推理耗时和GPU占用。</strong> Beta提供了Tensorrt + fp16推理 &amp; Int8推理的功能和教程，在保持模型检测效果前提下，大幅降低了模型的推理耗时和GPU占用，在低算力平台运行可满足实时性要求。</li><li><strong>降低训练开发成本，提升易用性。</strong> Beta开源了CenterPoint的训练代码，新增了以下功能：冻结网络层训练、fp16训练、适配自定义数据集等。开发者可以根据教程，使用公开/自定义数据集快速展开训练，大大降低了用户的训练开发成本，开发者可快速方便地开展模型训练部署、增量训练、Apollo感知赛事等任务。</li></ul> 
<h4><a id="_41"></a>检测效果示意</h4> 
<p><img src="https://images2.imgbox.com/61/0a/X1vpIyDL_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/cf/d4/f26KycSx_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/4d/28/eIukilaf_o.png" alt=""></p> 
<h2><a id="Yolo_XYolo_3D_49"></a>三、相机检测，Yolo X+Yolo 3D更快更好用**</h2> 
<p>在相机检测方向，视觉感知上我们使用了<strong>Yolo X+Yolo 3D两阶段模型</strong>替换了原来的Yolo单阶段模型，使得Beta的相机检测<strong>更易用、更好用，同时速度更快、效果更好。</strong></p> 
<p><strong>具体来说，更换模型后Beta在相机检测方面进行了以下优化升级：</strong></p> 
<ul><li><strong>更易用。</strong> 将单目3D目标检测任务完全解耦为2D框检测与3D姿态回归两个任务，能够满足开发者以插件的方式快速替换任意2D、3D模型的需求；(*Yolo系列模型部署时只需要简单适配前后处理即可实现模型的快速替换)</li><li><strong>更好用。</strong> 开源了Yolo X及Yolo 3D适配Apollo后的训练代码，并提供给开发者在开源数据及内部数据上的预训练模型，开发者可根据需求具体场景需求对模型进行Finetune；</li><li><strong>更快速。</strong> 新推出的Onnx推理框架提供了TensorRT的C++接口来完成模型部署，单阶段模型推理时间可降至1ms，大幅度提升了模型推理速度，助力开发者将自己的模型部署上车；</li><li><strong>更强大。</strong> 2D、3D模型均使用百万量级真实路测数据训练，在有效提升城市域全场景下目标的检测能力的同时二阶段预测出的目标朝向更加稳定、尺寸更加准确，相较于之前的Yolo模型在3D评测集上精度和召回率均提升了17%+。</li></ul> 
<h3><a id="31__60"></a>3.1 检测效果示意</h3> 
<p><img src="https://images2.imgbox.com/9e/6e/hGyp7A1w_o.jpg" alt=""></p> 
<p><img src="https://images2.imgbox.com/93/37/qoecbtzA_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/48/2c/hlfdrzWq_o.png" alt=""></p> 
<h2><a id="_68"></a>四、提供增量训练，适应多种场景</h2> 
<p>针对开发者在自己场景中使用感知功能时可能会遇到，模型没有涉及过的特殊目标和特殊场景，出现模型目标检测效果不佳的情况。</p> 
<p>为此Beta为开发者提供了<strong>全面详细的增量训练教程</strong>，开发者可使用少量自定义场景数据和Apollo预训练模型，在教程指导下进行增量训练，<strong>在维持模型原有检测能力的前提下，显著提升特殊目标和特殊场景的检测能力，从而达到用较低成本轻松提升定制场景的检测效果</strong>。</p> 
<p>举例来说，我们采集了少量包含特殊挂车的自定义场景数据，使用增量训练方法解决特殊挂车检测效果差的问题。同时分别在百度城市道路数据和少量自定义场景数据中，评测模型原有的检测能力和新场景新目标的检测能力，最终给出指导性建议和意见：</p> 
<ul><li><strong>冻结网络层。</strong> 通过冻结特定网络层，对模型进行微调训练，缓解了灾难性遗忘问题(Catastrophic Forgetting)，在保持模型原有检测能力的前提下，大幅提升了挂车的检测效果（自定义场景大车AP提升15%），有效解决了用户自动驾驶场景的痛点。</li><li><strong>超参数调整。</strong> 通过调整学习率、Epochs和Batch Size等超参数，可以进一步提升模型检测能力，同时更好地平衡在不同场景中的检测效果。</li><li><strong>正则化。</strong> 使用Object Smaple数据增强，正则化等技术，可有效避免在自定义数据集上的过拟合问题。</li><li><strong>混合训练。</strong> 同时将来会提供使用自定义数据集和百度数据集混合全量训练的功能，可在城市道路场景和自定义场景中同时获得最佳的检测效果（城市道路场景中mAP基本没有损失，自定义场景大车AP值提升25%）。</li></ul> 
<h3><a id="41_81"></a>4.1效果展示</h3> 
<p><img src="https://images2.imgbox.com/a4/d5/rS68qVp0_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/34/c8/PUVUFKza_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/6a/77/vlv3rklb_o.png" alt=""></p> 
<h2><a id="4D_89"></a>五、新增支持4D毫米波</h2> 
<p>Beta从硬件驱动到感知模型层，<strong>增加了对4D毫米波的支持</strong>。相比传统毫米波雷达，4D毫米波雷达新增俯仰角测量的能力，可以同时输出目标的水平角、俯仰角、距离、多普勒速度等信息，同时角分辨率可以提升至1度左右，输出类似于激光雷达的密集点云；通过基于深度学习模型的4D毫米波点云目标检测，提高自动驾驶车辆在雨雪雾等天气下的安全性。</p> 
<p><strong>Beta 4D毫米波具有以下亮点：</strong></p> 
<ul><li><strong>高精度。</strong> 传统毫米波雷达只能返回二维平面的目标位置信息，对于天桥或减速带等目标，无法判断障碍物的高度信息，容易导致车辆急刹；而4D毫米波雷达可以返回点云的三维位置信息，对自动驾驶车辆周围环境进行更好的建模，更稳定地检测静态障碍物；</li><li><strong>低误报。</strong> 传统毫米波雷达只能返回稀疏的目标点云信息，无法分辨目标的几何特征，对于4D毫米波雷达输出的高密度点云，Apollo新增4D毫米波雷达目标检测模块，通过适配经典的点云目标检测模型PointPillars，利用毫米波点云特有的速度特征，通过多帧融合提升点云密度，对4D毫米波点云进行特征提取和目标检测，识别行人、车辆、非机动车等，避免了毫米波雷达噪点引起的误检，同时输出的障碍物的语义和Polygon等信息更有利于下游任务；</li><li><strong>可迭代。</strong> 开源了PointPillars适配Apollo后的训练代码，开发者可以迭代更适合毫米波雷达的深度目标检测网络，实现更高的毫米波雷达检测精度，充分释放毫米波雷达性能，实现更安全、成本更低的自动驾驶感知方案。</li></ul> 
<h3><a id="51__99"></a>5.1 检测效果示意</h3> 
<p><img src="https://images2.imgbox.com/47/db/vHSa43Up_o.png" alt=""></p> 
<p><img src="https://images2.imgbox.com/f2/d4/FSF9XiL5_o.png" alt=""></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/70d25f91b619ae3b52048acaba8f41c4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">人脸识别系统架构</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b6aff2739e9928c0355783affc34ed69/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python-VBA函数之旅-object基类(非函数)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程学习者.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>